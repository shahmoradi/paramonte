<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=11"/>
    <meta name="generator" content="Doxygen 1.9.3"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>ParaMonte Fortran 2.0.0: pm_parallelism::setForkJoinScaling Interface Reference</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
   TeX: { Macros: {
    up: ["{{\\mathrm{#1}}}",1],
    bs: ["{{\\boldsymbol{#1}}}",1],
    ms: ["{\\texttt{#1}}",1],
    diff: "{{\\mathrm{d}}}",
    bu: ["{{\\boldsymbol{\\mathrm{#1}}}}",1],
    sline: "{\\rule{\\textwidth}{1pt}}",
    sphere: "{{\\mathcal{S}}}",
    ell: "{{\\mathcal{E}}}",
    ndim: "{{\\ms{ndim}}}",
    gramian: "{{\\mathcal{G}}}",
    mat: ["{{\\boldsymbol{\\mathrm {#1}}}}",1],
    unit: ["{{\\boldsymbol{\\widehat{\\mathrm{#1}}}}}",1],
    ebreak: "{{E_\\ms{b}}}",
    xbreak: "{{x_\\ms{b}}}",
    efold: "{{E_\\ms{f}}}",
    epeak: "{{E_\\ms{p}}}",
    phot: "{{\\ms{ph}}}",
    ergs: "{{\\ms{ergs}}}",
    sergs: "{{S_{\\ms{ergs}}}}",
    sphot: "{{S_{\\phot}}}",
    kev: "{{\\ms{keV}}}",
    det: "{{\\ms{det}}}",
    var: "{{\\ms{var}}}",
  } }
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="html_extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0" stype="z-index:-1;">
                <tbody>
                    <tr id="projectrow">
                        <td id="projectlogo">
                            <a href="https://www.cdslab.org/paramonte/" target="_blank"><img alt="Logo" src="logo.png"/></a>
                        </td>
                        <td id="projectalign">
                            <div id="projectname">
                                ParaMonte Fortran 2.0.0
                            </div>
                            <div id="projectbrief">
                                Parallel Monte Carlo and Machine Learning Library<br><a href="../latest/index.html" target="_blank">See the latest version documentation.</a>
                            </div>
                        </td>
                        <!--
                        <td id="projectalign" style="padding-left: 0.5em;">
                            <a href="https://github.com/cdslaborg/paramonte/releases" target="_blank">
                                <div id="projectname">
                                    <span id="projectbrief">Parallel Monte Carlo &#38;</span>
                                    <span id="projectbrief">Machine Learning Library</span>
                                    <span id="projectbrief">Version </span>
                                </div>
                            </a>
                        </td>
                        <td style="padding-left: 0.5em;">
                            <div id="projectbrief">Parallel Monte Carlo and Machine Learning Library</div>
                        </td>
                        -->
                    </tr>
                </tbody>
            </table>
        </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('interfacepm__parallelism_1_1setForkJoinScaling.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">pm_parallelism::setForkJoinScaling Interface Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Return the predicted parallel Fork-Join speedup scaling behavior for simulations whose image contributions are stochastically accepted only from the first successful image starting from image ID <code>1</code>.  
 <a href="interfacepm__parallelism_1_1setForkJoinScaling.html#details">More...</a></p>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p >Return the predicted parallel Fork-Join speedup scaling behavior for simulations whose image contributions are stochastically accepted only from the first successful image starting from image ID <code>1</code>. </p>
<p >This generic interface can be used to compute theoretical speedup gained by a Fork-Join parallel simulation where the probability of contribution of an image to the simulation is less than <code>1</code>, meaning that image contributions are stochastic at each step of the Fork-Join cycle.<br  />
 If the image contributions are inspected sequentially from the first image to last and only the first successful image contribution is kept in the simulation, then it can be shown that the contribution of the images to the parallel Fork-Join simulation follows a <a class="el" href="namespacepm__distGeomCyclic.html">Cyclic Geometric Distribution</a>.<br  />
 See <a href="https://www.cdslab.org/pubs/2020_Shahmoradi_I.pdf">Amir Shahmoradi, Fatemeh Bagheri (2020). ParaDRAM: A Cross-Language Toolbox for Parallel High-Performance Delayed-Rejection Adaptive Metropolis Markov Chain Monte Carlo Simulations.</a> for theoretical details.<br  />
</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">conProb</td><td>: The input scalar of, <ol>
<li>
type <code>real</code> of kind any supported by the processor (e.g., <a class="el" href="namespacepm__kind.html#a2dc41eb9ccbb460b3b6af8f356d3e962">RK</a>, <a class="el" href="namespacepm__kind.html#a609d23b0915ea97e6a89e9bef7c743bd">RK32</a>, <a class="el" href="namespacepm__kind.html#aa3a66a01e440da406e627e6e4e6e3908">RK64</a>, or <a class="el" href="namespacepm__kind.html#adf0fd3c248f14b733bc8cd7876f75bef">RK128</a>), </li>
</ol>
containing the average probability of contribution of each image to the Fork-Join simulation.<br  />
 For example, <code>conProb</code> can be the effective acceptance rate in parallel Fork-Join Monte Carlo or MCMC sampling simulations where each image is tasked with returning a single proposal state for subsequent evaluation and if is first to be accepted accepted, for usage in the next simulation step.<br  />
 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">seqSecTime</td><td>: The input scalar of the same type and kind as <code>conProb</code> containing the time (in seconds) <b>per image (or process or thread)</b> of the inherently-sequential sections of the entire Fork-Join simulation.<br  />
 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">parSecTime</td><td>: The input scalar of the same type and kind as <code>conProb</code> containing the time (in seconds) <b>per image (or process or thread)</b> of the inherently-parallel sections of the entire Fork-Join simulation.<br  />
 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">comSecTime</td><td>: The input scalar of the same type and kind as <code>conProb</code> containing the time (in seconds) <b>per image (or process or thread)</b> of the <b>pairwise</b> inter-process communication sections of the entire Fork-Join simulation.<br  />
 Assuming all rooter images communicate only with the main image and the entire communication takes <code>overhead</code> seconds, then <code>comSecTime = overhead / (nproc - 1)</code> with <code>nproc</code> representing the total number of images.<br  />
 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">scaling</td><td>: The output <code>allocatable</code> vector of the same type and kind as the input <code>conProb</code> containing the predicted speedup scaling of the stochastic Fork-Join simulation under a range of possible image (or thread or process) counts given in the output <code>numproc</code>.<br  />
 On output, the vector <code>scaling</code> will be resized until the maximum speedup and the corresponding image count is identified in the scaling.<br  />
 The <code>i</code>th element of <code>scaling</code> represents theoretically-predicted speedup if <code>numproc(i)</code> images (threads or processes) were used in the parallel Fork-Join simulation.<br  />
 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">numproc</td><td>: The output <code>allocatable</code> vector of type <code>integer</code> of default kind <a class="el" href="namespacepm__kind.html#aa8e76d653e681cfd34defa591f079f35">IK</a> containing the number of images for the speedup reported in the corresponding element of <code>scaling</code>.<br  />
 If the input argument <code>comSecTime</code> is positive, then <code>numproc</code> is simply a linear range of integers starting with <code>1</code> with a jump size of <code>1</code>.<br  />
 If the input argument <code>comSecTime</code> is positive, then <code>numproc</code> is simply a log(2)-linear range of integers starting with <code>1</code> with a jump size of <code>1</code>.<br  />
 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scalingMaxVal</td><td>: The output scalar of the same type and kind as the input <code>conProb</code> containing the maximum achievable speedup (corresponding to <code>maxval(scaling)</code>).<br  />
 </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">scalingMaxLoc</td><td>: The output scalar of type <code>integer</code> of default kind <a class="el" href="namespacepm__kind.html#aa8e76d653e681cfd34defa591f079f35">IK</a> containing the index of element of the output <code>scaling</code> containing <code>scalingMaxVal</code> (i.e., <code>maxloc(scaling)</code>).<br  />
 </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">scalingMinLen</td><td>: The input positive scalar of type <code>integer</code> of default kind <a class="el" href="namespacepm__kind.html#aa8e76d653e681cfd34defa591f079f35">IK</a> containing the minimum size of the output <code>scaling</code>.<br  />
 (<b>optional</b>, default = <code>int(2 / max(conProb, 0.001))</code>)</td></tr>
  </table>
  </dd>
</dl>
<p><br  />
<a class="anchor" id="interface-setForkJoinScaling"></a><b>Possible calling interfaces</b> <a href="#interface-setForkJoinScaling">⛓</a> </p><dl class="section user"><dt></dt><dd><div class="fragment"><div class="line"><span class="fortran_statement">use </span><a class="code hl_namespace" href="namespacepm__parallelism.html">pm_parallelism</a>, <span class="fortran_statement">only</span>: <a class="code hl_interface" href="interfacepm__parallelism_1_1setForkJoinScaling.html">setForkJoinScaling</a></div>
<div class="line"> </div>
<div class="line"><span class="fortran_statement">call</span> <a class="code hl_interface" href="interfacepm__parallelism_1_1setForkJoinScaling.html">setForkJoinScaling</a>(conProb, seqSecTime, parSecTime, comSecTime, scaling, numproc, scalingMaxVal, scalingMaxLoc, scalingMinLen<span class="fortran_operator_symbols"> = </span>scalingMinLen)</div>
<div class="line">!</div>
<div class="ttc" id="ainterfacepm__parallelism_1_1setForkJoinScaling_html"><div class="ttname"><a href="interfacepm__parallelism_1_1setForkJoinScaling.html">pm_parallelism::setForkJoinScaling</a></div><div class="ttdoc">Return the predicted parallel Fork-Join speedup scaling behavior for simulations whose image contribu...</div><div class="ttdef"><b>Definition:</b> <a href="pm__parallelism_8F90_source.html#l00229">pm_parallelism.F90:229</a></div></div>
<div class="ttc" id="anamespacepm__parallelism_html"><div class="ttname"><a href="namespacepm__parallelism.html">pm_parallelism</a></div><div class="ttdoc">This module contains procedures and generic interfaces for facilitating parallel computations or comp...</div><div class="ttdef"><b>Definition:</b> <a href="pm__parallelism_8F90_source.html#l00035">pm_parallelism.F90:35</a></div></div>
</div><!-- fragment --></dd></dl>
<dl class="section warning"><dt>Warning</dt><dd>The condition <code>0 &lt;= seqSecTime</code> must hold for the corresponding input arguments.<br  />
 The condition <code>0 &lt;= parSecTime</code> must hold for the corresponding input arguments.<br  />
 The condition <code>0 &lt;= comSecTime</code> must hold for the corresponding input arguments.<br  />
 The condition <code>0 &lt;= scalingMinLen</code> must hold for the corresponding input arguments.<br  />
 The condition <code>0 &lt;= conProb .and. conProb &lt;= 1</code> must hold for the corresponding input arguments.<br  />
 These conditions are verified only if the library is built with the preprocessor macro <code>CHECK_ENABLED=1</code>.</dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="namespacepm__sampling.html">pm_sampling</a><br  />
 <a class="el" href="namespacepm__distGeomCyclic.html">pm_distGeomCyclic</a><br  />
 <a href="https://www.cdslab.org/pubs/2020_Shahmoradi_I.pdf">Amir Shahmoradi, Fatemeh Bagheri (2020). ParaDRAM: A Cross-Language Toolbox for Parallel High-Performance Delayed-Rejection Adaptive Metropolis Markov Chain Monte Carlo Simulations.</a><br  />
</dd></dl>
<p><br  />
<a class="anchor" id="example-setForkJoinScaling"></a><b>Example usage</b> <a href="#example-setForkJoinScaling">⛓</a> </p><dl class="section user"><dt></dt><dd><div class="fragment"></div><!-- fragment --> <br  />
 <a class="anchor" id="compile-unix-intel-setForkJoinScaling"></a><b>Example Unix compile command via Intel <code>ifort</code> compiler</b> <a href="#compile-unix-intel-setForkJoinScaling">⛓</a> <div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>#!/usr/bin/env sh</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>rm main.exe</div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span>ifort -fpp -standard-semantics -O3 -Wl,-rpath,../../../lib -I../../../inc main.F90 ../../../lib/libparamonte_fortran_*_intel* -o main.exe</div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span>./main.exe</div>
</div><!-- fragment --> <br  />
 <a class="anchor" id="compile-batch-intel-setForkJoinScaling"></a><b>Example Windows Batch compile command via Intel <code>ifort</code> compiler</b> <a href="#compile-batch-intel-setForkJoinScaling">⛓</a> <div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>del main.exe</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>set PATH=..\..\..\lib;%PATH%</div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span>ifort /fpp /standard-semantics /O3 /I:..\..\..\include main.F90 ..\..\..\lib\libparamonte_fortran_*_intel*.lib /exe:main.exe</div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span>main.exe</div>
</div><!-- fragment --> <br  />
 <a class="anchor" id=" compile-unix-gnu-setForkJoinScaling"></a><b>Example Unix / MinGW compile command via GNU <code>gfortran</code> compiler</b> <a href="#compile-unix-gnu-setForkJoinScaling">⛓</a> <div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>#!/usr/bin/env sh</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>rm main.exe</div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span>gfortran -cpp -ffree-line-length-none -O3 -Wl,-rpath,../../../lib -I../../../inc main.F90 ../../../lib/libparamonte_fortran_*_gnu* -o main.exe</div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span>./main.exe</div>
</div><!-- fragment --> <br  />
<a class="anchor" id="output-setForkJoinScaling"></a><b>Example output</b> <a href="#output-setForkJoinScaling">⛓</a> <div class="fragment"></div><!-- fragment --> <br  />
<a class="anchor" id="postproc-setForkJoinScaling"></a><b>Postprocessing of the example output</b> <a href="#postproc-setForkJoinScaling">⛓</a> <div class="fragment"></div><!-- fragment --> <br  />
<a class="anchor" id="vis-setForkJoinScaling"></a><b>Visualization of the example output</b> <a href="#vis-setForkJoinScaling">⛓</a> <div class="image">
<img src="pm_parallelism/setForkJoinScaling/setForkJoinScaling.png" alt="" width="700"/>
</div>
</dd></dl>
<dl class="test"><dt><b><a class="el" href="test.html#_test000662">Test:</a></b></dt><dd>test_pm_parallelism</dd></dl>
<p ><br  />
<a class="anchor" id="finmain-setForkJoinScaling"></a><b>Final Remarks</b> <a href="#finmain-setForkJoinScaling">⛓</a> </p><hr  />
<p> If you believe this algorithm or its documentation can be improved, <b>we appreciate your contribution and help</b> <a href="https://github.com/cdslaborg/pmdev/tree/master/src/fortran/main/pm_parallelism.F90#L224 " target="_blank"><b>to edit this page's documentation and source file on GitHub</b></a>.<br  />
 For details on the naming abbreviations, see this page.<br  />
 For details on the naming conventions, see this page.<br  />
 This software is distributed under the <a href="https://github.com/cdslaborg/paramonte#license" target="_blank">MIT license</a> <b>with additional terms outlined below.</b><br  />
</p><ol>
<li>
If you use any parts or concepts from this library to any extent, <b>you must acknowledge the usage by citing the relevant</b> <a href="https://www.cdslab.org/paramonte/notes/overview/preface/#how-to-acknowledge-the-use-of-the-paramonte-library-in-your-work" target="_blank"><b>publications of the ParaMonte library</b></a>.<br  />
</li>
<li>
If you regenerate any parts/ideas from this library in a programming environment other than those currently supported by this ParaMonte library, <b>you must also ask the end users to</b> <a href="https://www.cdslab.org/paramonte/notes/overview/preface/#how-to-acknowledge-the-use-of-the-paramonte-library-in-your-work" target="_blank"><b>cite this original ParaMonte library</b></a>.<br  />
</li>
</ol>
<dl class="section copyright"><dt>Copyright</dt><dd><a href="https://www.cdslab.org" target="_blank">Computational Data Science Lab</a></dd></dl>
<dl class="authors"><dt><b><a class="el" href="authors.html#_authors000970">Author:</a></b></dt><dd><a href="https://www.github.com/shahmoradi" target="_blank">Amir Shahmoradi</a>, Tuesday March 7, 2017, 4:13 AM, Institute for Computational Engineering and Sciences (ICES), The University of Texas at Austin </dd></dl>

<p class="definition">Definition at line <a class="el" href="pm__parallelism_8F90_source.html#l00229">229</a> of file <a class="el" href="pm__parallelism_8F90_source.html">pm_parallelism.F90</a>.</p>
</div><hr/>The documentation for this interface was generated from the following file:<ul>
<li>/home/amir/git/paramonte/src/fortran/main/<a class="el" href="pm__parallelism_8F90_source.html">pm_parallelism.F90</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
    <!-- start footer part -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
      <ul>
        <li class="navelem"><a class="el" href="namespacepm__parallelism.html">pm_parallelism</a></li><li class="navelem"><a class="el" href="interfacepm__parallelism_1_1setForkJoinScaling.html">setForkJoinScaling</a></li>
        <li class="footer">Generated on Thu Mar 14 2024 15:35:17 for ParaMonte Fortran 2.0.0 by <a href="http://www.doxygen.org/index.html" target="_blank"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
      </ul>
    </div>
    <div style="color: #ffffff; float: none; width: 100%;">
        <span style="font-size:0.8em">
            <script type="text/javascript">
                var sc_project=12178963; 
                var sc_invisible=1; 
                var sc_security="e0dfe0f9"; 
                var sc_text=3; 
                var scJsHost = "https://";
                document.write("<sc"+"ript type='text/javascript' src='" +
                scJsHost+
                "statcounter.com/counter/counter.js'></"+"script>");
            </script>
        </span>
    </div>
</body>
</html>
