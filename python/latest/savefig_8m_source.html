<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="$langISO">
<head>
    <meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
    <meta http-equiv="X-UA-Compatible" content="IE=11"/>
    <meta name="generator" content="Doxygen 1.9.3"/>
    <meta name="viewport" content="width=device-width, initial-scale=1"/>
    <title>ParaMonte Python 3.0.0: src/python/main/paramonte/vis/figure/savefig.m Source File</title>
    <link href="tabs.css" rel="stylesheet" type="text/css"/>
    <script type="text/javascript" src="jquery.js"></script>
    <script type="text/javascript" src="dynsections.js"></script>
    <link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
    <link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
    <script type="text/x-mathjax-config">
MathJax.Hub.Config({
  extensions: ["tex2jax.js"],
  jax: ["input/TeX","output/HTML-CSS"],
   TeX: { Macros: {
    up: ["{{\\mathrm{#1}}}",1],
    bs: ["{{\\boldsymbol{#1}}}",1],
    ms: ["{\\texttt{#1}}",1],
    diff: "{{\\mathrm{d}}}",
    bu: ["{{\\boldsymbol{\\mathrm{#1}}}}",1],
    sline: "{\\rule{\\textwidth}{1pt}}",
    sphere: "{{\\mathcal{S}}}",
    ell: "{{\\mathcal{E}}}",
    ndim: "{{\\ms{ndim}}}",
    gramian: "{{\\mathcal{G}}}",
    mat: ["{{\\boldsymbol{\\mathrm {#1}}}}",1],
    unit: ["{{\\boldsymbol{\\widehat{\\mathrm{#1}}}}}",1],
    ebreak: "{{E_\\ms{b}}}",
    xbreak: "{{x_\\ms{b}}}",
    efold: "{{E_\\ms{f}}}",
    epeak: "{{E_\\ms{p}}}",
    phot: "{{\\ms{ph}}}",
    ergs: "{{\\ms{ergs}}}",
    sergs: "{{S_{\\ms{ergs}}}}",
    sphot: "{{S_{\\phot}}}",
    kev: "{{\\ms{keV}}}",
    det: "{{\\ms{det}}}",
    var: "{{\\ms{var}}}",
    binom: ["{\\Bigl(\\begin{array}{@{}c@{}}#1\\\\#2\\end{array}\\Bigr)}",2],
  } }
});
</script>
<script type="text/javascript" async="async" src="https://cdn.jsdelivr.net/npm/mathjax@2/MathJax.js"></script>
    <link href="doxygen.css" rel="stylesheet" type="text/css" />
    <link href="html_extra_stylesheet.css" rel="stylesheet" type="text/css"/>
</head>
<body>
    <div id="top"><!-- do not remove this div, it is closed by doxygen! -->
        <div id="titlearea">
            <table cellspacing="0" cellpadding="0" stype="z-index:-1;">
                <tbody>
                    <tr id="projectrow">
                        <td id="projectlogo">
                            <a href="https://www.cdslab.org/paramonte/" target="_blank"><img alt="Logo" src="logo.png"/></a>
                        </td>
                        <td id="projectalign">
                            <div id="projectname">
                                ParaMonte Python 3.0.0
                            </div>
                            <div id="projectbrief">
                                Parallel Monte Carlo and Machine Learning Library<br><a href="../latest/index.html" target="_blank">See the latest version documentation.</a>
                            </div>
                        </td>
                        <!--
                        <td id="projectalign" style="padding-left: 0.5em;">
                            <a href="https://github.com/cdslaborg/paramonte/releases" target="_blank">
                                <div id="projectname">
                                    <span id="projectbrief">Parallel Monte Carlo &#38;</span>
                                    <span id="projectbrief">Machine Learning Library</span>
                                    <span id="projectbrief">Version </span>
                                </div>
                            </a>
                        </td>
                        <td style="padding-left: 0.5em;">
                            <div id="projectbrief">Parallel Monte Carlo and Machine Learning Library</div>
                        </td>
                        -->
                    </tr>
                </tbody>
            </table>
        </div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.3 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('savefig_8m_source.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle"><div class="title">savefig.m</div></div>
</div><!--header-->
<div class="contents">
<a href="savefig_8m.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a id="l00001" name="l00001"></a><span class="lineno">    1</span>%&gt;  @brief</div>
<div class="line"><a id="l00002" name="l00002"></a><span class="lineno">    2</span>%&gt;  Export figures in <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> publication-quality format.&lt;br&gt;</div>
<div class="line"><a id="l00003" name="l00003"></a><span class="lineno">    3</span>%&gt;</div>
<div class="line"><a id="l00004" name="l00004"></a><span class="lineno">    4</span>%&gt;  @details</div>
<div class="line"><a id="l00005" name="l00005"></a><span class="lineno">    5</span>%&gt;  This function saves <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> figure or single axes to one or more vectors and/or</div>
<div class="line"><a id="l00006" name="l00006"></a><span class="lineno">    6</span>%&gt;  bitmap file formats and/or outputs <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> rasterized <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> to the workspace,</div>
<div class="line"><a id="l00007" name="l00007"></a><span class="lineno">    7</span>%&gt;  with the following properties:&lt;br&gt;</div>
<div class="line"><a id="l00008" name="l00008"></a><span class="lineno">    8</span>%&gt;  &lt;ol&gt;</div>
<div class="line"><a id="l00009" name="l00009"></a><span class="lineno">    9</span>%&gt;      &lt;li&gt;    <a class="code hl_class" href="classFigure.html">Figure</a>/axes reproduced as it appears on the screen.</div>
<div class="line"><a id="l00010" name="l00010"></a><span class="lineno">   10</span>%&gt;      &lt;li&gt;    Cropped/padded borders (optional).</div>
<div class="line"><a id="l00011" name="l00011"></a><span class="lineno">   11</span>%&gt;      &lt;li&gt;    Embedded fonts (vector formats).</div>
<div class="line"><a id="l00012" name="l00012"></a><span class="lineno">   12</span>%&gt;      &lt;li&gt;    Improved line and grid line styles.</div>
<div class="line"><a id="l00013" name="l00013"></a><span class="lineno">   13</span>%&gt;      &lt;li&gt;    Anti-aliased graphics (bitmap formats).</div>
<div class="line"><a id="l00014" name="l00014"></a><span class="lineno">   14</span>%&gt;      &lt;li&gt;    Render images at native resolution (optional <span class="keywordflow">for</span> bitmap formats).</div>
<div class="line"><a id="l00015" name="l00015"></a><span class="lineno">   15</span>%&gt;      &lt;li&gt;    Transparent background supported (pdf, eps, png, tif, gif).</div>
<div class="line"><a id="l00016" name="l00016"></a><span class="lineno">   16</span>%&gt;      &lt;li&gt;    Semi-transparent patch objects supported (png, tif).</div>
<div class="line"><a id="l00017" name="l00017"></a><span class="lineno">   17</span>%&gt;      &lt;li&gt;    RGB, CMYK, or grayscale output (CMYK only with pdf, eps, tif).</div>
<div class="line"><a id="l00018" name="l00018"></a><span class="lineno">   18</span>%&gt;      &lt;li&gt;    Variable image compression, including lossless (pdf, eps, jpg).</div>
<div class="line"><a id="l00019" name="l00019"></a><span class="lineno">   19</span>%&gt;      &lt;li&gt;    Optional rounded line-caps (pdf, eps).</div>
<div class="line"><a id="l00020" name="l00020"></a><span class="lineno">   20</span>%&gt;      &lt;li&gt;    Optionally append to file (pdf, tif, gif).</div>
<div class="line"><a id="l00021" name="l00021"></a><span class="lineno">   21</span>%&gt;      &lt;li&gt;    Vector formats: pdf, eps, emf, svg.</div>
<div class="line"><a id="l00022" name="l00022"></a><span class="lineno">   22</span>%&gt;      &lt;li&gt;    Bitmap formats: png, tif, jpg, bmp, gif, clipboard, export to workspace.</div>
<div class="line"><a id="l00023" name="l00023"></a><span class="lineno">   23</span>%&gt;  &lt;/ol&gt;</div>
<div class="line"><a id="l00024" name="l00024"></a><span class="lineno">   24</span>%&gt;</div>
<div class="line"><a id="l00025" name="l00025"></a><span class="lineno">   25</span>%&gt;  This function is especially suited to exporting figures <span class="keywordflow">for</span> use</div>
<div class="line"><a id="l00026" name="l00026"></a><span class="lineno">   26</span>%&gt;  in publications and presentations because of the high quality</div>
<div class="line"><a id="l00027" name="l00027"></a><span class="lineno">   27</span>%&gt;  and portability of media produced.&lt;br&gt;</div>
<div class="line"><a id="l00028" name="l00028"></a><span class="lineno">   28</span>%&gt;</div>
<div class="line"><a id="l00029" name="l00029"></a><span class="lineno">   29</span>%&gt;  Note that the background color and figure dimensions are reproduced</div>
<div class="line"><a id="l00030" name="l00030"></a><span class="lineno">   30</span>%&gt;  (the latter approximately, and ignoring cropping &amp; magnification) in the output file.&lt;br&gt;</div>
<div class="line"><a id="l00031" name="l00031"></a><span class="lineno">   31</span>%&gt;  For transparent background (and semi-transparent patch objects), use the ``-transparent``</div>
<div class="line"><a id="l00032" name="l00032"></a><span class="lineno">   32</span>%&gt;  option or set the figure ``<span class="stringliteral">&#39;Color&#39;</span>`` <span class="keyword">property</span> to ``<span class="stringliteral">&#39;none&#39;</span>``.&lt;br&gt;</div>
<div class="line"><a id="l00033" name="l00033"></a><span class="lineno">   33</span>%&gt;  To make axes transparent set the axes ``<span class="stringliteral">&#39;Color&#39;</span>`` <span class="keyword">property</span> to ``<span class="stringliteral">&#39;none&#39;</span>``.&lt;br&gt;</div>
<div class="line"><a id="l00034" name="l00034"></a><span class="lineno">   34</span>%&gt;  PDF, EPS, TIF, and PNG are the only formats that support <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> transparent background.&lt;br&gt;</div>
<div class="line"><a id="l00035" name="l00035"></a><span class="lineno">   35</span>%&gt;  Only TIF and PNG formats support the transparency of patch objects.&lt;br&gt;</div>
<div class="line"><a id="l00036" name="l00036"></a><span class="lineno">   36</span>%&gt;</div>
<div class="line"><a id="l00037" name="l00037"></a><span class="lineno">   37</span>%&gt;  The choice of renderer (opengl/zbuffer/painters) greatly impacts the output quality.&lt;br&gt;</div>
<div class="line"><a id="l00038" name="l00038"></a><span class="lineno">   38</span>%&gt;  The <span class="keywordflow">default</span> value (opengl <span class="keywordflow">for</span> bitmaps, painters <span class="keywordflow">for</span> vector formats) generally gives good results,</div>
<div class="line"><a id="l00039" name="l00039"></a><span class="lineno">   39</span>%&gt;  but <span class="keywordflow">if</span> you are not satisfied, then <span class="keywordflow">try</span> another renderer.&lt;br&gt;</div>
<div class="line"><a id="l00040" name="l00040"></a><span class="lineno">   40</span>%&gt;</div>
<div class="line"><a id="l00041" name="l00041"></a><span class="lineno">   41</span>%&gt;  @note</div>
<div class="line"><a id="l00042" name="l00042"></a><span class="lineno">   42</span>%&gt;  &lt;ol&gt;</div>
<div class="line"><a id="l00043" name="l00043"></a><span class="lineno">   43</span>%&gt;      &lt;li&gt;    For vector formats (EPS, PDF), only painters generate vector graphics.&lt;br&gt;</div>
<div class="line"><a id="l00044" name="l00044"></a><span class="lineno">   44</span>%&gt;      &lt;li&gt;    For bitmap formats, only OPENGL correctly renders transparent patches.&lt;br&gt;</div>
<div class="line"><a id="l00045" name="l00045"></a><span class="lineno">   45</span>%&gt;      &lt;li&gt;    For bitmap formats, only painters correctly scale line dash and dot</div>
<div class="line"><a id="l00046" name="l00046"></a><span class="lineno">   46</span>%&gt;              lengths when magnifying or anti-aliasing.&lt;br&gt;</div>
<div class="line"><a id="l00047" name="l00047"></a><span class="lineno">   47</span>%&gt;      &lt;li&gt;    Fonts may be substitued with Courier when <span class="keyword">using</span> painters.&lt;br&gt;</div>
<div class="line"><a id="l00048" name="l00048"></a><span class="lineno">   48</span>%&gt;  &lt;/ol&gt;</div>
<div class="line"><a id="l00049" name="l00049"></a><span class="lineno">   49</span>%&gt;</div>
<div class="line"><a id="l00050" name="l00050"></a><span class="lineno">   50</span>%&gt;  When exporting to vector format (PDF &amp; EPS) and bitmap format <span class="keyword">using</span> the painters</div>
<div class="line"><a id="l00051" name="l00051"></a><span class="lineno">   51</span>%&gt;  renderer, <span class="keyword">this</span> function <span class="keyword">requires</span> that <a class="code hl_function" href="ghostscript_8m.html#a013fedac994253f16dff2bd620c92646">ghostscript</a> is installed on your system.&lt;br&gt;</div>
<div class="line"><a id="l00052" name="l00052"></a><span class="lineno">   52</span>%&gt;  You can download <span class="keyword">this</span> from: http:<span class="comment">//www.ghostscript.com&lt;br&gt;</span></div>
<div class="line"><a id="l00053" name="l00053"></a><span class="lineno">   53</span>%&gt;  When exporting to EPS, <a class="code hl_function" href="pdftops_8m.html#a6f19fbd1da5c8afc348b22d9e4436442">pdftops</a> from the Xpdf function suite are also required.&lt;br&gt;</div>
<div class="line"><a id="l00054" name="l00054"></a><span class="lineno">   54</span>%&gt;  You can download <span class="keyword">this</span> from: http:<span class="comment">//xpdfreader.com&lt;br&gt;</span></div>
<div class="line"><a id="l00055" name="l00055"></a><span class="lineno">   55</span>%&gt;</div>
<div class="line"><a id="l00056" name="l00056"></a><span class="lineno">   56</span>%&gt;  SVG output uses MATLAB<span class="stringliteral">&#39;s built-in SVG export if available, or otherwise the</span></div>
<div class="line"><a id="l00057" name="l00057"></a><span class="lineno">   57</span><span class="stringliteral">%&gt;  fig2svg (https://github.com/kupiqu/fig2svg) or plot2svg</span></div>
<div class="line"><a id="l00058" name="l00058"></a><span class="lineno">   58</span><span class="stringliteral">%&gt;  (https://github.com/jschwizer99/plot2svg) utilities, if available.&lt;br&gt;</span></div>
<div class="line"><a id="l00059" name="l00059"></a><span class="lineno">   59</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00060" name="l00060"></a><span class="lineno">   60</span><span class="stringliteral">%&gt;  @note</span></div>
<div class="line"><a id="l00061" name="l00061"></a><span class="lineno">   61</span><span class="stringliteral">%&gt;  Cropping and padding are not supported in SVG and EMF output.&lt;br&gt;</span></div>
<div class="line"><a id="l00062" name="l00062"></a><span class="lineno">   62</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00063" name="l00063"></a><span class="lineno">   63</span><span class="stringliteral">%&gt;  @param[in]      varargin    :   Any ``property, value`` pair of the following set:&lt;br&gt;</span></div>
<div class="line"><a id="l00064" name="l00064"></a><span class="lineno">   64</span><span class="stringliteral">%&gt;                                  &lt;ol&gt;</span></div>
<div class="line"><a id="l00065" name="l00065"></a><span class="lineno">   65</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``filename`` - string containing the name (optionally including full or</span></div>
<div class="line"><a id="l00066" name="l00066"></a><span class="lineno">   66</span><span class="stringliteral">%&gt;                                              relative path) of the file, the figure is to be saved as.&lt;br&gt;</span></div>
<div class="line"><a id="l00067" name="l00067"></a><span class="lineno">   67</span><span class="stringliteral">%&gt;                                              If no path is specified, the figure is saved in the current folder.&lt;br&gt;</span></div>
<div class="line"><a id="l00068" name="l00068"></a><span class="lineno">   68</span><span class="stringliteral">%&gt;                                              If no name and output arguments are specified, the figure ``FileName`` property is used.&lt;br&gt;</span></div>
<div class="line"><a id="l00069" name="l00069"></a><span class="lineno">   69</span><span class="stringliteral">%&gt;                                              If this property is empty, then the default name ``&#39;</span>export_fig_out<span class="stringliteral">&#39;`` is used.&lt;br&gt;</span></div>
<div class="line"><a id="l00070" name="l00070"></a><span class="lineno">   70</span><span class="stringliteral">%&gt;                                              If neither file extension nor a format parameter is specified, a ``&quot;.png&quot;``</span></div>
<div class="line"><a id="l00071" name="l00071"></a><span class="lineno">   71</span><span class="stringliteral">%&gt;                                              is added to the filename, and the figure is saved in PNG format.&lt;br&gt;</span></div>
<div class="line"><a id="l00072" name="l00072"></a><span class="lineno">   72</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00073" name="l00073"></a><span class="lineno">   73</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-&lt;format&gt;`` - string(s) containing the output file extension(s).&lt;br&gt;</span></div>
<div class="line"><a id="l00074" name="l00074"></a><span class="lineno">   74</span><span class="stringliteral">%&gt;                                              Options are ``&#39;</span>-pdf<span class="stringliteral">&#39;``, ``&#39;</span>-eps<span class="stringliteral">&#39;``, ``&#39;</span>emf<span class="stringliteral">&#39;``, ``&#39;</span>-svg<span class="stringliteral">&#39;``, ``&#39;</span>-png<span class="stringliteral">&#39;``, ``&#39;</span>-tif<span class="stringliteral">&#39;``, ``&#39;</span>-jpg<span class="stringliteral">&#39;``, ``&#39;</span>-gif<span class="stringliteral">&#39;``, ``&#39;</span>-bmp<span class="stringliteral">&#39;``.&lt;br&gt;</span></div>
<div class="line"><a id="l00075" name="l00075"></a><span class="lineno">   75</span><span class="stringliteral">%&gt;                                              Multiple formats can be specified without restriction.&lt;br&gt;</span></div>
<div class="line"><a id="l00076" name="l00076"></a><span class="lineno">   76</span><span class="stringliteral">%&gt;                                              For example: ``savefig(&#39;</span>-jpg<span class="stringliteral">&#39;, &#39;</span>-pdf<span class="stringliteral">&#39;, &#39;</span>-png<span class="stringliteral">&#39;, ...)``.&lt;br&gt;</span></div>
<div class="line"><a id="l00077" name="l00077"></a><span class="lineno">   77</span><span class="stringliteral">%&gt;                                              Note that  ``&#39;</span>-tif<span class="stringliteral">&#39;``, ``&#39;</span>-tiff<span class="stringliteral">&#39;`` are equivalent, and so are &#39;</span>-jpg<span class="stringliteral">&#39;``, ``&#39;</span>-jpeg<span class="stringliteral">&#39;.&lt;br&gt;</span></div>
<div class="line"><a id="l00078" name="l00078"></a><span class="lineno">   78</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00079" name="l00079"></a><span class="lineno">   79</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-transparent`` indicating that the figure background is to be made</span></div>
<div class="line"><a id="l00080" name="l00080"></a><span class="lineno">   80</span><span class="stringliteral">%&gt;                                              transparent (PNG, PDF, TIF, EPS, EMF formats only). Implies ``-noinvert``.&lt;br&gt;</span></div>
<div class="line"><a id="l00081" name="l00081"></a><span class="lineno">   81</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00082" name="l00082"></a><span class="lineno">   82</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-nocrop`` indicating that empty margins should not be cropped.&lt;br&gt;</span></div>
<div class="line"><a id="l00083" name="l00083"></a><span class="lineno">   83</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00084" name="l00084"></a><span class="lineno">   84</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-c[&lt;val&gt;,&lt;val&gt;,&lt;val&gt;,&lt;val&gt;]`` indicating crop amounts.&lt;br&gt;</span></div>
<div class="line"><a id="l00085" name="l00085"></a><span class="lineno">   85</span><span class="stringliteral">%&gt;                                              It must be a 4-element vector of numeric values: ``[top, right, bottom, left]``.&lt;br&gt;</span></div>
<div class="line"><a id="l00086" name="l00086"></a><span class="lineno">   86</span><span class="stringliteral">%&gt;                                              where NaN/Inf indicates auto-cropping, 0 means no cropping, any</span></div>
<div class="line"><a id="l00087" name="l00087"></a><span class="lineno">   87</span><span class="stringliteral">%&gt;                                              other value means cropping in pixel amounts. e.g. ``&#39;</span>-c7,15,0,NaN<span class="stringliteral">&#39;``</span></div>
<div class="line"><a id="l00088" name="l00088"></a><span class="lineno">   88</span><span class="stringliteral">%&gt;                                              Note that SVG and EMF formats do not support this option.&lt;br&gt;</span></div>
<div class="line"><a id="l00089" name="l00089"></a><span class="lineno">   89</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00090" name="l00090"></a><span class="lineno">   90</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-p&lt;val&gt;`` to pad a border of width val to exported files,</span></div>
<div class="line"><a id="l00091" name="l00091"></a><span class="lineno">   91</span><span class="stringliteral">%&gt;                                              where ``val`` is either a relative size with respect to the cropped image</span></div>
<div class="line"><a id="l00092" name="l00092"></a><span class="lineno">   92</span><span class="stringliteral">%&gt;                                              size (i.e. ``p=0.01`` adds a ``1%`` border).&lt;br&gt;</span></div>
<div class="line"><a id="l00093" name="l00093"></a><span class="lineno">   93</span><span class="stringliteral">%&gt;                                              For EPS and PDF formats, ``val`` can also be integer in units of ``1/72`` points (``abs(val)&gt;1``).&lt;br&gt;</span></div>
<div class="line"><a id="l00094" name="l00094"></a><span class="lineno">   94</span><span class="stringliteral">%&gt;                                              The input ``val`` can be positive (padding) or negative (extra cropping).&lt;br&gt;</span></div>
<div class="line"><a id="l00095" name="l00095"></a><span class="lineno">   95</span><span class="stringliteral">%&gt;                                              If used, the ``-nocrop`` flag will be ignored, i.e. the image will</span></div>
<div class="line"><a id="l00096" name="l00096"></a><span class="lineno">   96</span><span class="stringliteral">%&gt;                                              always be cropped and then padded. Default: 0 (i.e. no padding).&lt;br&gt;</span></div>
<div class="line"><a id="l00097" name="l00097"></a><span class="lineno">   97</span><span class="stringliteral">%&gt;                                              Note that SVG and EMF formats do not support this option.&lt;br&gt;</span></div>
<div class="line"><a id="l00098" name="l00098"></a><span class="lineno">   98</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00099" name="l00099"></a><span class="lineno">   99</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-m&lt;val&gt;`` where ``val`` indicates the factor to magnify the figure dimensions</span></div>
<div class="line"><a id="l00100" name="l00100"></a><span class="lineno">  100</span><span class="stringliteral">%&gt;                                              when generating bitmap outputs (does not affect vector formats).&lt;br&gt;</span></div>
<div class="line"><a id="l00101" name="l00101"></a><span class="lineno">  101</span><span class="stringliteral">%&gt;                                              Default: ``&#39;</span>-m1<span class="stringliteral">&#39;`` (i.e. ``val=1``). Note: ``val~=1`` slows down savefig.&lt;br&gt;</span></div>
<div class="line"><a id="l00102" name="l00102"></a><span class="lineno">  102</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00103" name="l00103"></a><span class="lineno">  103</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-r&lt;val&gt;`` where ``val`` indicates the resolution (in pixels per inch) to</span></div>
<div class="line"><a id="l00104" name="l00104"></a><span class="lineno">  104</span><span class="stringliteral">%&gt;                                              export bitmap and vector outputs, without changing the dimensions of</span></div>
<div class="line"><a id="l00105" name="l00105"></a><span class="lineno">  105</span><span class="stringliteral">%&gt;                                              the on-screen figure. Default: ``&#39;</span>-r864<span class="stringliteral">&#39;`` (for vector output only).&lt;br&gt;</span></div>
<div class="line"><a id="l00106" name="l00106"></a><span class="lineno">  106</span><span class="stringliteral">%&gt;                                              Note: ``-m`` option overrides ``-r`` option for bitmap exports only.&lt;br&gt;</span></div>
<div class="line"><a id="l00107" name="l00107"></a><span class="lineno">  107</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00108" name="l00108"></a><span class="lineno">  108</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-native`` indicating that the output resolution</span></div>
<div class="line"><a id="l00109" name="l00109"></a><span class="lineno">  109</span><span class="stringliteral">%&gt;                                              (when outputting a bitmap format) should be such that the vertical resolution</span></div>
<div class="line"><a id="l00110" name="l00110"></a><span class="lineno">  110</span><span class="stringliteral">%&gt;                                              of the first suitable image found in the figure is at the native resolution of that image.&lt;br&gt;</span></div>
<div class="line"><a id="l00111" name="l00111"></a><span class="lineno">  111</span><span class="stringliteral">%&gt;                                              To specify a particular image to use, give it the tag ``&#39;</span>export_fig_native<span class="stringliteral">&#39;``.&lt;br&gt;</span></div>
<div class="line"><a id="l00112" name="l00112"></a><span class="lineno">  112</span><span class="stringliteral">%&gt;                                              Notes: This overrides any value set with the -m and -r options.&lt;br&gt;</span></div>
<div class="line"><a id="l00113" name="l00113"></a><span class="lineno">  113</span><span class="stringliteral">%&gt;                                              It also assumes that the image is displayed front-to-parallel with the screen.&lt;br&gt;</span></div>
<div class="line"><a id="l00114" name="l00114"></a><span class="lineno">  114</span><span class="stringliteral">%&gt;                                              The output resolution is approximate and should not be relied upon.&lt;br&gt;</span></div>
<div class="line"><a id="l00115" name="l00115"></a><span class="lineno">  115</span><span class="stringliteral">%&gt;                                              Anti-aliasing can have adverse effects on image quality (disable with the ``-a1`` option).&lt;br&gt;</span></div>
<div class="line"><a id="l00116" name="l00116"></a><span class="lineno">  116</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00117" name="l00117"></a><span class="lineno">  117</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-a1, -a2, -a3, -a4`` indicating the amount of anti-aliasing (AA) to</span></div>
<div class="line"><a id="l00118" name="l00118"></a><span class="lineno">  118</span><span class="stringliteral">%&gt;                                              use for bitmap outputs when GraphicsSmoothing is not available.&lt;br&gt;</span></div>
<div class="line"><a id="l00119" name="l00119"></a><span class="lineno">  119</span><span class="stringliteral">%&gt;                                              ``&#39;</span>-a1<span class="stringliteral">&#39;=no AA; &#39;</span>-a4<span class="stringliteral">&#39;=max``.&lt;br&gt;</span></div>
<div class="line"><a id="l00120" name="l00120"></a><span class="lineno">  120</span><span class="stringliteral">%&gt;                                              Default: 3 for HG1, 1 for HG2.&lt;br&gt;</span></div>
<div class="line"><a id="l00121" name="l00121"></a><span class="lineno">  121</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00122" name="l00122"></a><span class="lineno">  122</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-&lt;renderer&gt;`` to force a particular renderer</span></div>
<div class="line"><a id="l00123" name="l00123"></a><span class="lineno">  123</span><span class="stringliteral">%&gt;                                              (painters, opengl or [in R2014a or older] zbuffer).&lt;br&gt;</span></div>
<div class="line"><a id="l00124" name="l00124"></a><span class="lineno">  124</span><span class="stringliteral">%&gt;                                              Default value: opengl for bitmap formats or figures with patches and/or</span></div>
<div class="line"><a id="l00125" name="l00125"></a><span class="lineno">  125</span><span class="stringliteral">%&gt;                                              transparent annotations and painters for vector formats without patches/transparencies.&lt;br&gt;</span></div>
<div class="line"><a id="l00126" name="l00126"></a><span class="lineno">  126</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00127" name="l00127"></a><span class="lineno">  127</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-&lt;colorspace&gt;`` indicating which colorspace color figures should</span></div>
<div class="line"><a id="l00128" name="l00128"></a><span class="lineno">  128</span><span class="stringliteral">%&gt;                                              be saved in: RGB (default), CMYK or gray. Usage example: ``&#39;</span>-gray<span class="stringliteral">&#39;``.&lt;br&gt;</span></div>
<div class="line"><a id="l00129" name="l00129"></a><span class="lineno">  129</span><span class="stringliteral">%&gt;                                              Note: CMYK is only supported in PDF, EPS and TIF formats.&lt;br&gt;</span></div>
<div class="line"><a id="l00130" name="l00130"></a><span class="lineno">  130</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00131" name="l00131"></a><span class="lineno">  131</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-q&lt;val&gt;`` to vary bitmap image quality (PDF, EPS, JPG formats only).&lt;br&gt;</span></div>
<div class="line"><a id="l00132" name="l00132"></a><span class="lineno">  132</span><span class="stringliteral">%&gt;                                              A larger val, in the range ``0-100``, produces higher quality and</span></div>
<div class="line"><a id="l00133" name="l00133"></a><span class="lineno">  133</span><span class="stringliteral">%&gt;                                              lower compression. ``val &gt; 100`` results in lossless compression.&lt;br&gt;</span></div>
<div class="line"><a id="l00134" name="l00134"></a><span class="lineno">  134</span><span class="stringliteral">%&gt;                                              Default: &#39;</span>-q95<span class="stringliteral">&#39; for JPG, ghostscript prepress default for PDF,EPS.&lt;br&gt;</span></div>
<div class="line"><a id="l00135" name="l00135"></a><span class="lineno">  135</span><span class="stringliteral">%&gt;                                              Note: lossless compression can sometimes give a smaller file size</span></div>
<div class="line"><a id="l00136" name="l00136"></a><span class="lineno">  136</span><span class="stringliteral">%&gt;                                              than the default lossy compression, depending on the image type.&lt;br&gt;</span></div>
<div class="line"><a id="l00137" name="l00137"></a><span class="lineno">  137</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00138" name="l00138"></a><span class="lineno">  138</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-n&lt;val&gt;`` to set minimum output image size (bitmap formats only).&lt;br&gt;</span></div>
<div class="line"><a id="l00139" name="l00139"></a><span class="lineno">  139</span><span class="stringliteral">%&gt;                                              The output size can be specified as a single value (for both rows</span></div>
<div class="line"><a id="l00140" name="l00140"></a><span class="lineno">  140</span><span class="stringliteral">%&gt;                                              and cols, e.g. ``-n200``) or comma-separated values (e.g. ``-n300,400``).&lt;br&gt;</span></div>
<div class="line"><a id="l00141" name="l00141"></a><span class="lineno">  141</span><span class="stringliteral">%&gt;                                              Use an Inf value to keep a dimension unchanged (e.g., ``-n50,inf``).&lt;br&gt;</span></div>
<div class="line"><a id="l00142" name="l00142"></a><span class="lineno">  142</span><span class="stringliteral">%&gt;                                              Use a ``NaN`` value to keep the aspect ratio unchanged (e.g., ``-n50, nan``).&lt;br&gt;</span></div>
<div class="line"><a id="l00143" name="l00143"></a><span class="lineno">  143</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00144" name="l00144"></a><span class="lineno">  144</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-x&lt;val&gt;`` to set maximum output image size (bitmap formats only).&lt;br&gt;</span></div>
<div class="line"><a id="l00145" name="l00145"></a><span class="lineno">  145</span><span class="stringliteral">%&gt;                                              The output size can be specified as a single value (for both rows</span></div>
<div class="line"><a id="l00146" name="l00146"></a><span class="lineno">  146</span><span class="stringliteral">%&gt;                                              and cols, e.g. ``-x200``) or comma-separated values (e.g. ``-x300, 400``).&lt;br&gt;</span></div>
<div class="line"><a id="l00147" name="l00147"></a><span class="lineno">  147</span><span class="stringliteral">%&gt;                                              Use an ``Inf`` value to keep a dimension unchanged (e.g. ``-x50,inf``).&lt;br&gt;</span></div>
<div class="line"><a id="l00148" name="l00148"></a><span class="lineno">  148</span><span class="stringliteral">%&gt;                                              Use a ``NaN`` value to keep aspect ratio unchanged (e.g. ``-x50,nan``).&lt;br&gt;</span></div>
<div class="line"><a id="l00149" name="l00149"></a><span class="lineno">  149</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00150" name="l00150"></a><span class="lineno">  150</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-s&lt;val&gt;`` to scale output image to a specific size (bitmap formats only).&lt;br&gt;</span></div>
<div class="line"><a id="l00151" name="l00151"></a><span class="lineno">  151</span><span class="stringliteral">%&gt;                                              The fixed size can be specified as a single value (for rows=cols) or</span></div>
<div class="line"><a id="l00152" name="l00152"></a><span class="lineno">  152</span><span class="stringliteral">%&gt;                                              comma-separated values (e.g. ``-s300,400``).&lt;br&gt;</span></div>
<div class="line"><a id="l00153" name="l00153"></a><span class="lineno">  153</span><span class="stringliteral">%&gt;                                              Each value can be a scalar integer (signifying pixels) or percentage (e.g., ``-s125%``).&lt;br&gt;</span></div>
<div class="line"><a id="l00154" name="l00154"></a><span class="lineno">  154</span><span class="stringliteral">%&gt;                                              The scaling is done last, after any other cropping/rescaling due to other params.&lt;br&gt;</span></div>
<div class="line"><a id="l00155" name="l00155"></a><span class="lineno">  155</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00156" name="l00156"></a><span class="lineno">  156</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-append`` indicates that if the file already exists the figure is to</span></div>
<div class="line"><a id="l00157" name="l00157"></a><span class="lineno">  157</span><span class="stringliteral">%&gt;                                              be appended as a new page, instead of being overwritten (default).&lt;br&gt;</span></div>
<div class="line"><a id="l00158" name="l00158"></a><span class="lineno">  158</span><span class="stringliteral">%&gt;                                              PDF, TIF &amp; GIF output formats only (multi-image GIF = animated).&lt;br&gt;</span></div>
<div class="line"><a id="l00159" name="l00159"></a><span class="lineno">  159</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00160" name="l00160"></a><span class="lineno">  160</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-bookmark`` to indicate that a bookmark with the name of the</span></div>
<div class="line"><a id="l00161" name="l00161"></a><span class="lineno">  161</span><span class="stringliteral">%&gt;                                              figure is to be created in the output file (PDF format only).&lt;br&gt;</span></div>
<div class="line"><a id="l00162" name="l00162"></a><span class="lineno">  162</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00163" name="l00163"></a><span class="lineno">  163</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-clipboard`` to save the output as an image on the system clipboard.&lt;br&gt;</span></div>
<div class="line"><a id="l00164" name="l00164"></a><span class="lineno">  164</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00165" name="l00165"></a><span class="lineno">  165</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-clipboard&lt;:format&gt;`` - copies to clipboard in the specified format:</span></div>
<div class="line"><a id="l00166" name="l00166"></a><span class="lineno">  166</span><span class="stringliteral">%&gt;                                              image (default), bitmap, emf, or pdf.&lt;br&gt;</span></div>
<div class="line"><a id="l00167" name="l00167"></a><span class="lineno">  167</span><span class="stringliteral">%&gt;                                              Note that Only ``-clipboard`` (or ``-clipboard:image``, which is the same)</span></div>
<div class="line"><a id="l00168" name="l00168"></a><span class="lineno">  168</span><span class="stringliteral">%&gt;                                              applies ``savefig`` parameters such as cropping, padding, etc:&lt;br&gt;</span></div>
<div class="line"><a id="l00169" name="l00169"></a><span class="lineno">  169</span><span class="stringliteral">%&gt;                                              &lt;ol&gt;</span></div>
<div class="line"><a id="l00170" name="l00170"></a><span class="lineno">  170</span><span class="stringliteral">%&gt;                                                  &lt;li&gt;    The option ``-clipboard:image`` creates a bitmap image using savefig processing.&lt;br&gt;</span></div>
<div class="line"><a id="l00171" name="l00171"></a><span class="lineno">  171</span><span class="stringliteral">%&gt;                                                  &lt;li&gt;    The option ``-clipboard:bitmap`` creates a bitmap image as-is (no auto-cropping etc.).&lt;br&gt;</span></div>
<div class="line"><a id="l00172" name="l00172"></a><span class="lineno">  172</span><span class="stringliteral">%&gt;                                                  &lt;li&gt;    The option ``-clipboard:emf`` is vector format without auto-cropping; Windows-only.&lt;br&gt;</span></div>
<div class="line"><a id="l00173" name="l00173"></a><span class="lineno">  173</span><span class="stringliteral">%&gt;                                                  &lt;li&gt;    The option ``-clipboard:pdf`` is vector format without cropping; not universally supported.&lt;br&gt;</span></div>
<div class="line"><a id="l00174" name="l00174"></a><span class="lineno">  174</span><span class="stringliteral">%&gt;                                              &lt;/ol&gt;</span></div>
<div class="line"><a id="l00175" name="l00175"></a><span class="lineno">  175</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00176" name="l00176"></a><span class="lineno">  176</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-d&lt;gs_option&gt;`` to indicate a ghostscript setting. For example,</span></div>
<div class="line"><a id="l00177" name="l00177"></a><span class="lineno">  177</span><span class="stringliteral">%&gt;                                              ``-dMaxBitmap=0`` or ``-dNoOutputFonts`` (Ghostscript 9.15+).&lt;br&gt;</span></div>
<div class="line"><a id="l00178" name="l00178"></a><span class="lineno">  178</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00179" name="l00179"></a><span class="lineno">  179</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-depsc`` -  option to use EPS level-3 rather than the default level-2 print</span></div>
<div class="line"><a id="l00180" name="l00180"></a><span class="lineno">  180</span><span class="stringliteral">%&gt;                                              device. This solves some bugs with MATLAB&#39;</span>s <span class="keywordflow">default</span> ``-depsc2`` device</div>
<div class="line"><a id="l00181" name="l00181"></a><span class="lineno">  181</span>%&gt;                                              such as discolored subplot lines on images (vector formats only).&lt;br&gt;</div>
<div class="line"><a id="l00182" name="l00182"></a><span class="lineno">  182</span>%&gt;</div>
<div class="line"><a id="l00183" name="l00183"></a><span class="lineno">  183</span>%&gt;                                      &lt;li&gt;    The option ``-metadata &lt;metaDataInfo&gt;`` - adds the specified meta-data information to the</div>
<div class="line"><a id="l00184" name="l00184"></a><span class="lineno">  184</span>%&gt;                                              exported file (PDF format only). metaDataInfo must be either <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> <span class="keyword">struct</span></div>
<div class="line"><a id="l00185" name="l00185"></a><span class="lineno">  185</span>%&gt;                                              or <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> cell array with pairs of values: {``<span class="stringliteral">&#39;fieldName&#39;</span>``, ``fieldValue``, ...}.&lt;br&gt;</div>
<div class="line"><a id="l00186" name="l00186"></a><span class="lineno">  186</span>%&gt;                                              Common metadata fields: Title, Author, Creator, Producer, Subject, Keywords.&lt;br&gt;</div>
<div class="line"><a id="l00187" name="l00187"></a><span class="lineno">  187</span>%&gt;</div>
<div class="line"><a id="l00188" name="l00188"></a><span class="lineno">  188</span>%&gt;                                      &lt;li&gt;    The option ``-update`` - downloads and installs the latest <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> of ``<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>``.&lt;br&gt;</div>
<div class="line"><a id="l00189" name="l00189"></a><span class="lineno">  189</span>%&gt;</div>
<div class="line"><a id="l00190" name="l00190"></a><span class="lineno">  190</span>%&gt;                                      &lt;li&gt;    The option ``-<a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a>`` returns the current <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> without any figure export.&lt;br&gt;</div>
<div class="line"><a id="l00191" name="l00191"></a><span class="lineno">  191</span>%&gt;</div>
<div class="line"><a id="l00192" name="l00192"></a><span class="lineno">  192</span>%&gt;                                      &lt;li&gt;    The option ``-nofontswap`` - avoids font swapping. Font swapping is automatically</div>
<div class="line"><a id="l00193" name="l00193"></a><span class="lineno">  193</span>%&gt;                                              done in vector formats (only): 11 standard MATLAB fonts are</div>
<div class="line"><a id="l00194" name="l00194"></a><span class="lineno">  194</span>%&gt;                                              replaced by the original figure fonts. This option prevents this.&lt;br&gt;</div>
<div class="line"><a id="l00195" name="l00195"></a><span class="lineno">  195</span>%&gt;</div>
<div class="line"><a id="l00196" name="l00196"></a><span class="lineno">  196</span>%&gt;                                      &lt;li&gt;    The option ``-font_space &lt;char&gt;`` sets <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> spacer character for font-names that</div>
<div class="line"><a id="l00197" name="l00197"></a><span class="lineno">  197</span>%&gt;                                              contain spaces used by EPS/PDF. Default: ``<span class="stringliteral">&#39;&#39;</span>``.&lt;br&gt;</div>
<div class="line"><a id="l00198" name="l00198"></a><span class="lineno">  198</span>%&gt;</div>
<div class="line"><a id="l00199" name="l00199"></a><span class="lineno">  199</span>%&gt;                                      &lt;li&gt;    The option ``-linecaps`` creates rounded line-caps (vector formats only).&lt;br&gt;</div>
<div class="line"><a id="l00200" name="l00200"></a><span class="lineno">  200</span>%&gt;</div>
<div class="line"><a id="l00201" name="l00201"></a><span class="lineno">  201</span>%&gt;                                      &lt;li&gt;    The option ``-noinvert`` avoids setting figure<span class="stringliteral">&#39;s InvertHardcopy property to</span></div>
<div class="line"><a id="l00202" name="l00202"></a><span class="lineno">  202</span><span class="stringliteral">%&gt;                                              &#39;</span>off<span class="stringliteral">&#39; during output (this solves some problems of empty outputs).&lt;br&gt;</span></div>
<div class="line"><a id="l00203" name="l00203"></a><span class="lineno">  203</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00204" name="l00204"></a><span class="lineno">  204</span><span class="stringliteral">%&gt;                                      &lt;li&gt;    The option ``-preserve_size`` preserves the figure&#39;</span>s PaperSize property in output</div>
<div class="line"><a id="l00205" name="l00205"></a><span class="lineno">  205</span>%&gt;                                              file (PDF/EPS formats only; <span class="keywordflow">default</span> is to not preserve it).&lt;br&gt;</div>
<div class="line"><a id="l00206" name="l00206"></a><span class="lineno">  206</span>%&gt;</div>
<div class="line"><a id="l00207" name="l00207"></a><span class="lineno">  207</span>%&gt;                                      &lt;li&gt;    The option ``-options &lt;optionsStruct&gt;`` - format-specific parameters as defined in MATLAB</div>
<div class="line"><a id="l00208" name="l00208"></a><span class="lineno">  208</span>%&gt;                                              documentation of the ``imwrite`` function, contained in <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> <span class="keyword">struct</span> under</div>
<div class="line"><a id="l00209" name="l00209"></a><span class="lineno">  209</span>%&gt;                                              the format <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a>. For example, to specify the JPG Comment parameter,</div>
<div class="line"><a id="l00210" name="l00210"></a><span class="lineno">  210</span>%&gt;                                              pass <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> <span class="keyword">struct</span> such as <span class="keyword">this</span>: ``options.JPG.Comment=<span class="stringliteral">&#39;abc&#39;</span>``. Similarly,</div>
<div class="line"><a id="l00211" name="l00211"></a><span class="lineno">  211</span>%&gt;                                              ``options.PNG.BitDepth=4``. Only used by PNG, TIF, JPG, and GIF output formats.&lt;br&gt;</div>
<div class="line"><a id="l00212" name="l00212"></a><span class="lineno">  212</span>%&gt;                                              Options can also be specified as <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> cell array of <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a>-value pairs,</div>
<div class="line"><a id="l00213" name="l00213"></a><span class="lineno">  213</span>%&gt;                                              e.g., ``{<span class="stringliteral">&#39;BitDepth&#39;</span>, 4, <span class="stringliteral">&#39;Author&#39;</span>, <span class="stringliteral">&#39;Yair&#39;</span>}`` - these options will be used</div>
<div class="line"><a id="l00214" name="l00214"></a><span class="lineno">  214</span>%&gt;                                              by all supported output formats of the <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> command.&lt;br&gt;</div>
<div class="line"><a id="l00215" name="l00215"></a><span class="lineno">  215</span>%&gt;</div>
<div class="line"><a id="l00216" name="l00216"></a><span class="lineno">  216</span>%&gt;                                      &lt;li&gt;    The option ``-silent`` to avoid various warning and informational messages, such</div>
<div class="line"><a id="l00217" name="l00217"></a><span class="lineno">  217</span>%&gt;                                              as <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> update checks, transparency or renderer issues, etc.&lt;br&gt;</div>
<div class="line"><a id="l00218" name="l00218"></a><span class="lineno">  218</span>%&gt;</div>
<div class="line"><a id="l00219" name="l00219"></a><span class="lineno">  219</span>%&gt;                                      &lt;li&gt;    The option ``-notify`` to notify the user when export is done, in both <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> console</div>
<div class="line"><a id="l00220" name="l00220"></a><span class="lineno">  220</span>%&gt;                                              message and <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> popup dialog (allow opening the exported file/folder).&lt;br&gt;</div>
<div class="line"><a id="l00221" name="l00221"></a><span class="lineno">  221</span>%&gt;</div>
<div class="line"><a id="l00222" name="l00222"></a><span class="lineno">  222</span>%&gt;                                      &lt;li&gt;    The option ``-regexprep &lt;old&gt; &lt;<span class="keyword">new</span>&gt;`` - replaces all occurrences of ``&lt;old&gt;`` (<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> regular expression</div>
<div class="line"><a id="l00223" name="l00223"></a><span class="lineno">  223</span>%&gt;                                              <span class="keywordtype">string</span> or array of strings; <span class="keywordflow">case</span>-sensitive), with the corresponding</div>
<div class="line"><a id="l00224" name="l00224"></a><span class="lineno">  224</span>%&gt;                                              ``&lt;<span class="keyword">new</span>&gt;`` <span class="keywordtype">string</span>(s), in EPS/PDF files (only). See ``regexp`` function doc.&lt;br&gt;</div>
<div class="line"><a id="l00225" name="l00225"></a><span class="lineno">  225</span>%&gt;                                              Warning: invalid replacement can make your EPS/PDF file unreadable!&lt;br&gt;</div>
<div class="line"><a id="l00226" name="l00226"></a><span class="lineno">  226</span>%&gt;</div>
<div class="line"><a id="l00227" name="l00227"></a><span class="lineno">  227</span>%&gt;                                      &lt;li&gt;    The option ``-toolbar`` - adds an interactive export button to the figure toolbar.&lt;br&gt;</div>
<div class="line"><a id="l00228" name="l00228"></a><span class="lineno">  228</span>%&gt;</div>
<div class="line"><a id="l00229" name="l00229"></a><span class="lineno">  229</span>%&gt;                                      &lt;li&gt;    The option ``-menubar`` - adds an interactive export menu to the figure menubar.&lt;br&gt;</div>
<div class="line"><a id="l00230" name="l00230"></a><span class="lineno">  230</span>%&gt;</div>
<div class="line"><a id="l00231" name="l00231"></a><span class="lineno">  231</span>%&gt;                                      &lt;li&gt;    The option ``-contextmenu`` - adds interactive export menu to figure context-menu (right-click)&lt;br&gt;</div>
<div class="line"><a id="l00232" name="l00232"></a><span class="lineno">  232</span>%&gt;</div>
<div class="line"><a id="l00233" name="l00233"></a><span class="lineno">  233</span>%&gt;                                      &lt;li&gt;    The option ``handle`` - handle of the figure, axes, or uipanels (can be an array of handles</div>
<div class="line"><a id="l00234" name="l00234"></a><span class="lineno">  234</span>%&gt;                                              but all the objects must be in the same figure) to be exported.&lt;br&gt;</div>
<div class="line"><a id="l00235" name="l00235"></a><span class="lineno">  235</span>%&gt;                                              Default: ``gcf`` (handle of the current figure).&lt;br&gt;</div>
<div class="line"><a id="l00236" name="l00236"></a><span class="lineno">  236</span>%&gt;</div>
<div class="line"><a id="l00237" name="l00237"></a><span class="lineno">  237</span>%&gt;                                      &lt;li&gt;    The option ``figName`` - <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a> (title) of the figure to export (e.g., ``<span class="stringliteral">&#39;Figure 1&#39;</span>`` or ``<span class="stringliteral">&#39;My fig&#39;</span>``).&lt;br&gt;</div>
<div class="line"><a id="l00238" name="l00238"></a><span class="lineno">  238</span>%&gt;                                              Overridden by handle (<span class="keywordflow">if</span> specified); Default: current figure.&lt;br&gt;</div>
<div class="line"><a id="l00239" name="l00239"></a><span class="lineno">  239</span>%&gt;                                  &lt;/ol&gt;</div>
<div class="line"><a id="l00240" name="l00240"></a><span class="lineno">  240</span>%&gt;</div>
<div class="line"><a id="l00241" name="l00241"></a><span class="lineno">  241</span>%&gt;  @<span class="keywordflow">return</span></div>
<div class="line"><a id="l00242" name="l00242"></a><span class="lineno">  242</span>%&gt;  ``imageData``               :   The output image cube of type ``uint8`` of</div>
<div class="line"><a id="l00243" name="l00243"></a><span class="lineno">  243</span>%&gt;                                  shape ``[M, N, C]`` containing the exported figure data.&lt;br&gt;</div>
<div class="line"><a id="l00244" name="l00244"></a><span class="lineno">  244</span>%&gt;  ``alpha``                   :   The output image matrix of shape ``[M, N]`` of alpha-matte</div>
<div class="line"><a id="l00245" name="l00245"></a><span class="lineno">  245</span>%&gt;                                  values in the range ``[0, 1]`` <span class="keywordflow">for</span> the <span class="keywordflow">case</span> of transparent background.&lt;br&gt;</div>
<div class="line"><a id="l00246" name="l00246"></a><span class="lineno">  246</span>%&gt;</div>
<div class="line"><a id="l00247" name="l00247"></a><span class="lineno">  247</span>%&gt;  <span class="keyword">@interface</span>{<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>}</div>
<div class="line"><a id="l00248" name="l00248"></a><span class="lineno">  248</span>%&gt;  @code{.py}</div>
<div class="line"><a id="l00249" name="l00249"></a><span class="lineno">  249</span>%&gt;</div>
<div class="line"><a id="l00250" name="l00250"></a><span class="lineno">  250</span>%&gt;      imageData = pm.vis.figure.savefig(varargin)</div>
<div class="line"><a id="l00251" name="l00251"></a><span class="lineno">  251</span>%&gt;      [imageData, alpha] = pm.vis.figure.savefig(varargin)</div>
<div class="line"><a id="l00252" name="l00252"></a><span class="lineno">  252</span>%&gt;      pm.vis.figure.savefig filename</div>
<div class="line"><a id="l00253" name="l00253"></a><span class="lineno">  253</span>%&gt;      pm.vis.figure.savefig ... -&lt;format&gt;</div>
<div class="line"><a id="l00254" name="l00254"></a><span class="lineno">  254</span>%&gt;      pm.vis.figure.savefig ... -nocrop</div>
<div class="line"><a id="l00255" name="l00255"></a><span class="lineno">  255</span>%&gt;      pm.vis.figure.savefig ... -c[&lt;val&gt;,&lt;val&gt;,&lt;val&gt;,&lt;val&gt;]</div>
<div class="line"><a id="l00256" name="l00256"></a><span class="lineno">  256</span>%&gt;      pm.vis.figure.savefig ... -transparent</div>
<div class="line"><a id="l00257" name="l00257"></a><span class="lineno">  257</span>%&gt;      pm.vis.figure.savefig ... -native</div>
<div class="line"><a id="l00258" name="l00258"></a><span class="lineno">  258</span>%&gt;      pm.vis.figure.savefig ... -m&lt;val&gt;</div>
<div class="line"><a id="l00259" name="l00259"></a><span class="lineno">  259</span>%&gt;      pm.vis.figure.savefig ... -r&lt;val&gt;</div>
<div class="line"><a id="l00260" name="l00260"></a><span class="lineno">  260</span>%&gt;      pm.vis.figure.savefig ... -a&lt;val&gt;</div>
<div class="line"><a id="l00261" name="l00261"></a><span class="lineno">  261</span>%&gt;      pm.vis.figure.savefig ... -q&lt;val&gt;</div>
<div class="line"><a id="l00262" name="l00262"></a><span class="lineno">  262</span>%&gt;      pm.vis.figure.savefig ... -p&lt;val&gt;</div>
<div class="line"><a id="l00263" name="l00263"></a><span class="lineno">  263</span>%&gt;      pm.vis.figure.savefig ... -n&lt;val&gt;   or:  -n&lt;val&gt;,&lt;val&gt;</div>
<div class="line"><a id="l00264" name="l00264"></a><span class="lineno">  264</span>%&gt;      pm.vis.figure.savefig ... -x&lt;val&gt;   or:  -x&lt;val&gt;,&lt;val&gt;</div>
<div class="line"><a id="l00265" name="l00265"></a><span class="lineno">  265</span>%&gt;      pm.vis.figure.savefig ... -s&lt;val&gt;   or:  -s&lt;val&gt;,&lt;val&gt;</div>
<div class="line"><a id="l00266" name="l00266"></a><span class="lineno">  266</span>%&gt;      pm.vis.figure.savefig ... -d&lt;gs_option&gt;</div>
<div class="line"><a id="l00267" name="l00267"></a><span class="lineno">  267</span>%&gt;      pm.vis.figure.savefig ... -depsc</div>
<div class="line"><a id="l00268" name="l00268"></a><span class="lineno">  268</span>%&gt;      pm.vis.figure.savefig ... -metadata &lt;metaDataInfo&gt;</div>
<div class="line"><a id="l00269" name="l00269"></a><span class="lineno">  269</span>%&gt;      pm.vis.figure.savefig ... -&lt;renderer&gt;</div>
<div class="line"><a id="l00270" name="l00270"></a><span class="lineno">  270</span>%&gt;      pm.vis.figure.savefig ... -&lt;colorspace&gt;</div>
<div class="line"><a id="l00271" name="l00271"></a><span class="lineno">  271</span>%&gt;      pm.vis.figure.savefig ... -append</div>
<div class="line"><a id="l00272" name="l00272"></a><span class="lineno">  272</span>%&gt;      pm.vis.figure.savefig ... -bookmark</div>
<div class="line"><a id="l00273" name="l00273"></a><span class="lineno">  273</span>%&gt;      pm.vis.figure.savefig ... -clipboard&lt;:format&gt;</div>
<div class="line"><a id="l00274" name="l00274"></a><span class="lineno">  274</span>%&gt;      pm.vis.figure.savefig ... -update</div>
<div class="line"><a id="l00275" name="l00275"></a><span class="lineno">  275</span>%&gt;      pm.vis.figure.savefig ... -<a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a></div>
<div class="line"><a id="l00276" name="l00276"></a><span class="lineno">  276</span>%&gt;      pm.vis.figure.savefig ... -nofontswap</div>
<div class="line"><a id="l00277" name="l00277"></a><span class="lineno">  277</span>%&gt;      pm.vis.figure.savefig ... -font_space &lt;char&gt;</div>
<div class="line"><a id="l00278" name="l00278"></a><span class="lineno">  278</span>%&gt;      pm.vis.figure.savefig ... -linecaps</div>
<div class="line"><a id="l00279" name="l00279"></a><span class="lineno">  279</span>%&gt;      pm.vis.figure.savefig ... -noinvert</div>
<div class="line"><a id="l00280" name="l00280"></a><span class="lineno">  280</span>%&gt;      pm.vis.figure.savefig ... -preserve_size</div>
<div class="line"><a id="l00281" name="l00281"></a><span class="lineno">  281</span>%&gt;      pm.vis.figure.savefig ... -options &lt;optionsStruct&gt;</div>
<div class="line"><a id="l00282" name="l00282"></a><span class="lineno">  282</span>%&gt;      pm.vis.figure.savefig ... -silent</div>
<div class="line"><a id="l00283" name="l00283"></a><span class="lineno">  283</span>%&gt;      pm.vis.figure.savefig ... -notify</div>
<div class="line"><a id="l00284" name="l00284"></a><span class="lineno">  284</span>%&gt;      pm.vis.figure.savefig ... -regexprep &lt;pattern&gt; &lt;replace&gt;</div>
<div class="line"><a id="l00285" name="l00285"></a><span class="lineno">  285</span>%&gt;      pm.vis.figure.savefig ... -toolbar</div>
<div class="line"><a id="l00286" name="l00286"></a><span class="lineno">  286</span>%&gt;      pm.vis.figure.savefig ... -menubar</div>
<div class="line"><a id="l00287" name="l00287"></a><span class="lineno">  287</span>%&gt;      pm.vis.figure.savefig ... -contextmenu</div>
<div class="line"><a id="l00288" name="l00288"></a><span class="lineno">  288</span>%&gt;      pm.vis.figure.savefig(..., handle)</div>
<div class="line"><a id="l00289" name="l00289"></a><span class="lineno">  289</span>%&gt;      pm.vis.figure.savefig(..., figName)</div>
<div class="line"><a id="l00290" name="l00290"></a><span class="lineno">  290</span>%&gt;</div>
<div class="line"><a id="l00291" name="l00291"></a><span class="lineno">  291</span>%&gt;  <span class="keyword">@end</span>code</div>
<div class="line"><a id="l00292" name="l00292"></a><span class="lineno">  292</span>%&gt;</div>
<div class="line"><a id="l00293" name="l00293"></a><span class="lineno">  293</span>%&gt;  @note</div>
<div class="line"><a id="l00294" name="l00294"></a><span class="lineno">  294</span>%&gt;  This function is <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> reimplementation of the Python module</div>
<div class="line"><a id="l00295" name="l00295"></a><span class="lineno">  295</span>%&gt;  [export_fig](https:<span class="comment">//github.com/altmany/export_fig).&lt;br&gt;</span></div>
<div class="line"><a id="l00296" name="l00296"></a><span class="lineno">  296</span>%&gt;</div>
<div class="line"><a id="l00297" name="l00297"></a><span class="lineno">  297</span>%&gt;  @example{<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>}</div>
<div class="line"><a id="l00298" name="l00298"></a><span class="lineno">  298</span>%&gt;  @code{.py}</div>
<div class="line"><a id="l00299" name="l00299"></a><span class="lineno">  299</span>%&gt;</div>
<div class="line"><a id="l00300" name="l00300"></a><span class="lineno">  300</span>%&gt;      pm.vis.figure.savefig(); % export the current figure with the <span class="keywordflow">default</span> <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a>.</div>
<div class="line"><a id="l00301" name="l00301"></a><span class="lineno">  301</span>%&gt;      pm.vis.figure.savefig(<span class="stringliteral">&quot;gridplot.pdf&quot;</span>) % export figure to the specified PDF file.</div>
<div class="line"><a id="l00302" name="l00302"></a><span class="lineno">  302</span>%&gt;      pm.vis.figure.savefig(<span class="stringliteral">&quot;gridplot.png&quot;</span>, <span class="stringliteral">&quot;-m4 -transparent&quot;</span>) % export <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> large png plot of magnitude 4 with transparency.</div>
<div class="line"><a id="l00303" name="l00303"></a><span class="lineno">  303</span>%&gt;</div>
<div class="line"><a id="l00304" name="l00304"></a><span class="lineno">  304</span>%&gt;  <span class="keyword">@end</span>code</div>
<div class="line"><a id="l00305" name="l00305"></a><span class="lineno">  305</span>%&gt;</div>
<div class="line"><a id="l00306" name="l00306"></a><span class="lineno">  306</span>%&gt;  @<span class="keyword">final</span>{<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>}</div>
<div class="line"><a id="l00307" name="l00307"></a><span class="lineno">  307</span>%&gt;</div>
<div class="line"><a id="l00308" name="l00308"></a><span class="lineno">  308</span>%&gt;  Copyright (C) Oliver Woodford 2008-2014, Yair Altman 2015-</div>
<div class="line"><a id="l00309" name="l00309"></a><span class="lineno">  309</span>%&gt;</div>
<div class="line"><a id="l00310" name="l00310"></a><span class="lineno">  310</span>%&gt;  @verbatim</div>
<div class="line"><a id="l00311" name="l00311"></a><span class="lineno">  311</span>%&gt;  The idea of using <a class="code hl_function" href="ghostscript_8m.html#a013fedac994253f16dff2bd620c92646">ghostscript</a> is inspired by Peder Axensten&#39;s SAVEFIG</div>
<div class="line"><a id="l00312" name="l00312"></a><span class="lineno">  312</span>%&gt;  (fex id: 10889) which is itself inspired by EPS2PDF (fex <span class="keywordtype">id</span>: 5782).</div>
<div class="line"><a id="l00313" name="l00313"></a><span class="lineno">  313</span>%&gt;  The idea for using pdftops came from the MATLAB newsgroup (<span class="keywordtype">id</span>: 168171).</div>
<div class="line"><a id="l00314" name="l00314"></a><span class="lineno">  314</span>%&gt;  The idea of editing the EPS file to change line styles comes from Jiro</div>
<div class="line"><a id="l00315" name="l00315"></a><span class="lineno">  315</span>%&gt;  Doke&#39;s FIXPSLINESTYLE (fex <span class="keywordtype">id</span>: 17928).</div>
<div class="line"><a id="l00316" name="l00316"></a><span class="lineno">  316</span>%&gt;  The idea of changing dash length with line width came from comments on</div>
<div class="line"><a id="l00317" name="l00317"></a><span class="lineno">  317</span>%&gt;  fex id: 5743, but the implementation is mine :)</div>
<div class="line"><a id="l00318" name="l00318"></a><span class="lineno">  318</span>%&gt;  The idea of anti-aliasing bitmaps came from Anders Brun&#39;s MYAA (fex <span class="keywordtype">id</span>: 20979).</div>
<div class="line"><a id="l00319" name="l00319"></a><span class="lineno">  319</span>%&gt;  The idea of appending figures in pdfs came from Matt C in comments on the</div>
<div class="line"><a id="l00320" name="l00320"></a><span class="lineno">  320</span>%&gt;  FEX (<span class="keywordtype">id</span>: 23629)</div>
<div class="line"><a id="l00321" name="l00321"></a><span class="lineno">  321</span>%&gt;  Thanks to Roland Martin for pointing out the colour MATLAB</div>
<div class="line"><a id="l00322" name="l00322"></a><span class="lineno">  322</span>%&gt;  bug/feature with colorbar axes and transparent backgrounds.</div>
<div class="line"><a id="l00323" name="l00323"></a><span class="lineno">  323</span>%&gt;  Thanks also to Andrew Matthews for describing a bug to do with the figure</div>
<div class="line"><a id="l00324" name="l00324"></a><span class="lineno">  324</span>%&gt;  size changing in -nodisplay mode. I couldn&#39;t reproduce it, but included a</div>
<div class="line"><a id="l00325" name="l00325"></a><span class="lineno">  325</span>%&gt;  fix anyway.</div>
<div class="line"><a id="l00326" name="l00326"></a><span class="lineno">  326</span>%&gt;  Thanks to Tammy Threadgill for reporting a bug where an axes is not</div>
<div class="line"><a id="l00327" name="l00327"></a><span class="lineno">  327</span>%&gt;  isolated from gui objects.</div>
<div class="line"><a id="l00328" name="l00328"></a><span class="lineno">  328</span>%&gt;</div>
<div class="line"><a id="l00329" name="l00329"></a><span class="lineno">  329</span>%&gt;  23/02/12: Ensure that axes limits don&#39;t change during printing</div>
<div class="line"><a id="l00330" name="l00330"></a><span class="lineno">  330</span>%&gt;  14/03/12: Fix bug in fixing the axes limits (thanks to Tobias Lamour for reporting it).</div>
<div class="line"><a id="l00331" name="l00331"></a><span class="lineno">  331</span>%&gt;  02/05/12: Incorporate patch of Petr Nechaev (many thanks), enabling bookmarking of figures in pdf files.</div>
<div class="line"><a id="l00332" name="l00332"></a><span class="lineno">  332</span>%&gt;  09/05/12: Incorporate patch of Arcelia Arrieta (many thanks), to keep tick marks fixed.</div>
<div class="line"><a id="l00333" name="l00333"></a><span class="lineno">  333</span>%&gt;  12/12/12: Add support for isolating uipanels. Thanks to michael for suggesting it.</div>
<div class="line"><a id="l00334" name="l00334"></a><span class="lineno">  334</span>%&gt;  25/09/13: Add support for changing resolution in vector formats. Thanks to Jan Jaap Meijer for suggesting it.</div>
<div class="line"><a id="l00335" name="l00335"></a><span class="lineno">  335</span>%&gt;  07/05/14: Add support for &#39;~&#39; at start of path. Thanks to Sally Warner for suggesting it.</div>
<div class="line"><a id="l00336" name="l00336"></a><span class="lineno">  336</span>%&gt;  24/02/15: Fix MATLAB R2014b bug (issue #34): plot markers are not displayed when ZLimMode=&#39;manual&#39;</div>
<div class="line"><a id="l00337" name="l00337"></a><span class="lineno">  337</span>%&gt;  25/02/15: Fix issue #4 (using HG2 on R2014a and earlier)</div>
<div class="line"><a id="l00338" name="l00338"></a><span class="lineno">  338</span>%&gt;  25/02/15: Fix issue #21 (bold TeX axes labels/titles in R2014b)</div>
<div class="line"><a id="l00339" name="l00339"></a><span class="lineno">  339</span>%&gt;  26/02/15: If temp dir is not writable, use the user-specified folder for temporary EPS/PDF files (Javier Paredes)</div>
<div class="line"><a id="l00340" name="l00340"></a><span class="lineno">  340</span>%&gt;  27/02/15: Modified repository URL from github.com/ojwoodford to /altmany; Indented main function; Added top-level try-catch block to display useful workarounds</div>
<div class="line"><a id="l00341" name="l00341"></a><span class="lineno">  341</span>%&gt;  28/02/15: Enable users to specify optional ghostscript options (issue #36)</div>
<div class="line"><a id="l00342" name="l00342"></a><span class="lineno">  342</span>%&gt;  06/03/15: Improved image padding &amp; cropping thanks to Oscar Hartogensis</div>
<div class="line"><a id="l00343" name="l00343"></a><span class="lineno">  343</span>%&gt;  26/03/15: Fixed issue #49 (bug with transparent grayscale images); fixed out-of-memory issue</div>
<div class="line"><a id="l00344" name="l00344"></a><span class="lineno">  344</span>%&gt;  26/03/15: Fixed issue #42: non-normalized annotations on HG1</div>
<div class="line"><a id="l00345" name="l00345"></a><span class="lineno">  345</span>%&gt;  26/03/15: Fixed issue #46: Ghostscript crash if figure units &lt;&gt; pixels</div>
<div class="line"><a id="l00346" name="l00346"></a><span class="lineno">  346</span>%&gt;  27/03/15: Fixed issue #39: bad export of transparent annotations/patches</div>
<div class="line"><a id="l00347" name="l00347"></a><span class="lineno">  347</span>%&gt;  28/03/15: Fixed issue #50: error on some MATLAB versions with the fix for issue #42</div>
<div class="line"><a id="l00348" name="l00348"></a><span class="lineno">  348</span>%&gt;  29/03/15: Fixed issue #33: bugs in MATLAB&#39;s print() function with -cmyk</div>
<div class="line"><a id="l00349" name="l00349"></a><span class="lineno">  349</span>%&gt;  29/03/15: Improved processing of input args (accept space between param <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a> &amp; value, related to issue #51)</div>
<div class="line"><a id="l00350" name="l00350"></a><span class="lineno">  350</span>%&gt;  30/03/15: When exporting *.fig files, then saveas *.fig if figure is open, otherwise export the specified fig file</div>
<div class="line"><a id="l00351" name="l00351"></a><span class="lineno">  351</span>%&gt;  30/03/15: Fixed edge case bug introduced yesterday (commit #ae1755bd2e11dc4e99b95a7681f6e211b3fa9358)</div>
<div class="line"><a id="l00352" name="l00352"></a><span class="lineno">  352</span>%&gt;  09/04/15: Consolidated header comment sections; initialize output vars only <span class="keywordflow">if</span> requested (nargout&gt;0)</div>
<div class="line"><a id="l00353" name="l00353"></a><span class="lineno">  353</span>%&gt;  14/04/15: Workaround <span class="keywordflow">for</span> issue #45: lines in image subplots are exported in invalid color</div>
<div class="line"><a id="l00354" name="l00354"></a><span class="lineno">  354</span>%&gt;  15/04/15: Fixed edge-case in parsing input parameters; fixed help section to <a class="code hl_function" href="namespaceparamonte_1_1python_1_1show.html#a77b58449c0d286e190197823f5f9ce4f">show</a> the -depsc option (issue #45)</div>
<div class="line"><a id="l00355" name="l00355"></a><span class="lineno">  355</span>%&gt;  21/04/15: Bug fix: Ghostscript croaks on % chars in output PDF file (reported by Sven on FEX page, 15-Jul-2014)</div>
<div class="line"><a id="l00356" name="l00356"></a><span class="lineno">  356</span>%&gt;  22/04/15: Bug fix: Pdftops croaks on relative paths (reported by Tintin Milou on FEX page, 19-Jan-2015)</div>
<div class="line"><a id="l00357" name="l00357"></a><span class="lineno">  357</span>%&gt;  04/05/15: Merged fix #63 (Kevin Mattheus Moerman): prevent tick-label changes during export</div>
<div class="line"><a id="l00358" name="l00358"></a><span class="lineno">  358</span>%&gt;  07/05/15: Partial fix for issue #65: PDF export used painters rather than opengl renderer (thanks Nguyenr)</div>
<div class="line"><a id="l00359" name="l00359"></a><span class="lineno">  359</span>%&gt;  08/05/15: Fixed issue #65: bad PDF append since commit #e9f3cdf 21/04/15 (thanks Robert Nguyen)</div>
<div class="line"><a id="l00360" name="l00360"></a><span class="lineno">  360</span>%&gt;  12/05/15: Fixed issue #67: exponent labels cropped in export, since fix #63 (04/05/15)</div>
<div class="line"><a id="l00361" name="l00361"></a><span class="lineno">  361</span>%&gt;  28/05/15: Fixed issue #69: set non-bold label font only if the string contains symbols (\beta etc.), followup to issue #21</div>
<div class="line"><a id="l00362" name="l00362"></a><span class="lineno">  362</span>%&gt;  29/05/15: Added informative error message in case user requested SVG output (issue #72)</div>
<div class="line"><a id="l00363" name="l00363"></a><span class="lineno">  363</span>%&gt;  09/06/15: Fixed issue #58: -transparent removed anti-aliasing when exporting to PNG</div>
<div class="line"><a id="l00364" name="l00364"></a><span class="lineno">  364</span>%&gt;  19/06/15: Added -update option to download and install the latest version of savefig</div>
<div class="line"><a id="l00365" name="l00365"></a><span class="lineno">  365</span>%&gt;  07/07/15: Added -nofontswap option to avoid font-swapping in EPS/PDF</div>
<div class="line"><a id="l00366" name="l00366"></a><span class="lineno">  366</span>%&gt;  16/07/15: Fixed problem with anti-aliasing on old MATLAB releases</div>
<div class="line"><a id="l00367" name="l00367"></a><span class="lineno">  367</span>%&gt;  11/09/15: Fixed issue #103: magnification must never become negative; also fixed reported error msg in parsing input params</div>
<div class="line"><a id="l00368" name="l00368"></a><span class="lineno">  368</span>%&gt;  26/09/15: Alert <span class="keywordflow">if</span> trying to export transparent patches/areas to non-PNG outputs (issue #108)</div>
<div class="line"><a id="l00369" name="l00369"></a><span class="lineno">  369</span>%&gt;  04/10/15: Do not suggest workarounds for certain errors that have already been handled previously</div>
<div class="line"><a id="l00370" name="l00370"></a><span class="lineno">  370</span>%&gt;  01/11/15: Fixed issue #112: use same renderer in print2eps as savefig (thanks to Jess Pestana Puerta)</div>
<div class="line"><a id="l00371" name="l00371"></a><span class="lineno">  371</span>%&gt;  10/11/15: Custom GS installation webpage for MacOS. Thanks to Andy Hueni via FEX</div>
<div class="line"><a id="l00372" name="l00372"></a><span class="lineno">  372</span>%&gt;  19/11/15: Fixed clipboard export in R2015b (thanks to Dan K via FEX)</div>
<div class="line"><a id="l00373" name="l00373"></a><span class="lineno">  373</span>%&gt;  21/02/16: Added -c option for indicating specific crop amounts (idea by Cedric Noordam on FEX)</div>
<div class="line"><a id="l00374" name="l00374"></a><span class="lineno">  374</span>%&gt;  08/05/16: Added message about possible error reason when groot.Units~=pixels (issue #149)</div>
<div class="line"><a id="l00375" name="l00375"></a><span class="lineno">  375</span>%&gt;  17/05/16: Fixed case of image YData containing more than 2 elements (issue #151)</div>
<div class="line"><a id="l00376" name="l00376"></a><span class="lineno">  376</span>%&gt;  08/08/16: Enabled exporting transparency to TIF, in addition to PNG/PDF (issue #168)</div>
<div class="line"><a id="l00377" name="l00377"></a><span class="lineno">  377</span>%&gt;  11/12/16: Added alert in case of error creating output PDF/EPS file (issue #179)</div>
<div class="line"><a id="l00378" name="l00378"></a><span class="lineno">  378</span>%&gt;  13/12/16: Minor fix to the commit for issue #179 from 2 days ago</div>
<div class="line"><a id="l00379" name="l00379"></a><span class="lineno">  379</span>%&gt;  22/03/17: Fixed issue #187: only set manual ticks when no exponent is present</div>
<div class="line"><a id="l00380" name="l00380"></a><span class="lineno">  380</span>%&gt;  09/04/17: Added -linecaps option (idea by Baron Finer, issue #192)</div>
<div class="line"><a id="l00381" name="l00381"></a><span class="lineno">  381</span>%&gt;  15/09/17: Fixed issue #205: incorrect tick-labels when Ticks number don&#39;t match the TickLabels number</div>
<div class="line"><a id="l00382" name="l00382"></a><span class="lineno">  382</span>%&gt;  15/09/17: Fixed issue #210: initialize alpha map to ones instead of zeros when -transparent is not used</div>
<div class="line"><a id="l00383" name="l00383"></a><span class="lineno">  383</span>%&gt;  18/09/17: Added -font_space option to replace font-name spaces in EPS/PDF (workaround for issue #194)</div>
<div class="line"><a id="l00384" name="l00384"></a><span class="lineno">  384</span>%&gt;  18/09/17: Added -noinvert option to solve some export problems with some graphic cards (workaround for issue #197)</div>
<div class="line"><a id="l00385" name="l00385"></a><span class="lineno">  385</span>%&gt;  08/11/17: Fixed issue #220: axes exponent is removed in HG1 when TickMode is &#39;manual&#39; (internal MATLAB bug)</div>
<div class="line"><a id="l00386" name="l00386"></a><span class="lineno">  386</span>%&gt;  08/11/17: Fixed issue #221: alert if the requested folder does not exist</div>
<div class="line"><a id="l00387" name="l00387"></a><span class="lineno">  387</span>%&gt;  19/11/17: Workaround for issue #207: alert when trying to use transparent bgcolor with -opengl</div>
<div class="line"><a id="l00388" name="l00388"></a><span class="lineno">  388</span>%&gt;  29/11/17: Workaround for issue #206: warn if exporting PDF/EPS for a figure that contains an image</div>
<div class="line"><a id="l00389" name="l00389"></a><span class="lineno">  389</span>%&gt;  11/12/17: Fixed issue #230: use OpenGL renderer when exported image contains transparency (also see issue #206)</div>
<div class="line"><a id="l00390" name="l00390"></a><span class="lineno">  390</span>%&gt;  30/01/18: Updated SVG message to point to https:<span class="comment">//github.com/kupiqu/plot2svg and display user-selected filename if available</span></div>
<div class="line"><a id="l00391" name="l00391"></a><span class="lineno">  391</span>%&gt;  27/02/18: Fixed issue #236: axes exponent cropped from output if on right-hand axes</div>
<div class="line"><a id="l00392" name="l00392"></a><span class="lineno">  392</span>%&gt;  29/05/18: Fixed issue #245: process &quot;string&quot; inputs just like &#39;char&#39; inputs</div>
<div class="line"><a id="l00393" name="l00393"></a><span class="lineno">  393</span>%&gt;  13/08/18: Fixed issue #249: correct black axes color to off-black to avoid extra cropping with -transparent</div>
<div class="line"><a id="l00394" name="l00394"></a><span class="lineno">  394</span>%&gt;  27/08/18: Added a possible file-open reason in EPS/PDF write-error message (suggested by &quot;craq&quot; on FEX page)</div>
<div class="line"><a id="l00395" name="l00395"></a><span class="lineno">  395</span>%&gt;  22/09/18: Xpdf website changed to xpdfreader.com</div>
<div class="line"><a id="l00396" name="l00396"></a><span class="lineno">  396</span>%&gt;  23/09/18: Fixed issue #243: only set non-bold font (workaround for issue #69) in R2015b or earlier; warn <span class="keywordflow">if</span> changing font</div>
<div class="line"><a id="l00397" name="l00397"></a><span class="lineno">  397</span>%&gt;  23/09/18: Workaround <span class="keywordflow">for</span> issue #241: don<span class="stringliteral">&#39;t use -r864 in EPS/PDF outputs when -native is requested (solves black lines problem)</span></div>
<div class="line"><a id="l00398" name="l00398"></a><span class="lineno">  398</span><span class="stringliteral">%&gt;  18/11/18: Issue #261: Added informative alert when trying to export a uifigure (which is not currently supported)</span></div>
<div class="line"><a id="l00399" name="l00399"></a><span class="lineno">  399</span><span class="stringliteral">%&gt;  13/12/18: Issue #261: Fixed last commit for cases of specifying axes/panel handle as input, rather than a figure handle</span></div>
<div class="line"><a id="l00400" name="l00400"></a><span class="lineno">  400</span><span class="stringliteral">%&gt;  13/01/19: Issue #72: Added basic SVG output support</span></div>
<div class="line"><a id="l00401" name="l00401"></a><span class="lineno">  401</span><span class="stringliteral">%&gt;  04/02/19: Workaround for issues #207 and #267: -transparent implies -noinvert</span></div>
<div class="line"><a id="l00402" name="l00402"></a><span class="lineno">  402</span><span class="stringliteral">%&gt;  08/03/19: Issue #269: Added ability to specify format-specific options for PNG,TIF,JPG outputs; fixed help section</span></div>
<div class="line"><a id="l00403" name="l00403"></a><span class="lineno">  403</span><span class="stringliteral">%&gt;  21/03/19: Fixed the workaround for issues #207 and #267 from 4/2/19 (-transparent now does *NOT* imply -noinvert; -transparent output should now be ok in all formats)</span></div>
<div class="line"><a id="l00404" name="l00404"></a><span class="lineno">  404</span><span class="stringliteral">%&gt;  12/06/19: Issue #277: Enabled preservation of figure&#39;</span>s PaperSize in output PDF/EPS file</div>
<div class="line"><a id="l00405" name="l00405"></a><span class="lineno">  405</span>%&gt;  06/08/19: Remove warning message about obsolete JavaFrame in R2019b</div>
<div class="line"><a id="l00406" name="l00406"></a><span class="lineno">  406</span>%&gt;  30/10/19: Fixed issue #261: added support <span class="keywordflow">for</span> exporting uifigures and uiaxes (thanks to idea by @MarvinILA)</div>
<div class="line"><a id="l00407" name="l00407"></a><span class="lineno">  407</span>%&gt;  12/12/19: Added warning in <span class="keywordflow">case</span> user requested anti-aliased output on an aliased HG2 figure (issue #292)</div>
<div class="line"><a id="l00408" name="l00408"></a><span class="lineno">  408</span>%&gt;  15/12/19: Added promo message</div>
<div class="line"><a id="l00409" name="l00409"></a><span class="lineno">  409</span>%&gt;  08/01/20: (3.00) Added check for newer version online (initialized to <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> 3.00)</div>
<div class="line"><a id="l00410" name="l00410"></a><span class="lineno">  410</span>%&gt;  15/01/20: (3.01) Clarified/fixed error messages; Added error IDs; easier -update; various other small fixes</div>
<div class="line"><a id="l00411" name="l00411"></a><span class="lineno">  411</span>%&gt;  20/01/20: (3.02) Attempted fix <span class="keywordflow">for</span> issue #285 (unsupported patch transparency in some Ghostscript versions); Improved suggested fixes message upon error</div>
<div class="line"><a id="l00412" name="l00412"></a><span class="lineno">  412</span>%&gt;  03/03/20: (3.03) Suggest to upload problematic EPS file in <span class="keywordflow">case</span> of <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> Ghostscript error in <a class="code hl_function" href="eps2pdf_8m.html#aae7a92625a1b810944df6799863301a1">eps2pdf</a> (&amp; don<span class="stringliteral">&#39;t delete this file)</span></div>
<div class="line"><a id="l00413" name="l00413"></a><span class="lineno">  413</span><span class="stringliteral">%&gt;  22/03/20: (3.04) Workaround for issue #15; Alert if ghostscript file not found on MATLAB path</span></div>
<div class="line"><a id="l00414" name="l00414"></a><span class="lineno">  414</span><span class="stringliteral">%&gt;  10/05/20: (3.05) Fix the generated SVG file, based on Cris Luengo&#39;</span>s SVG_FIX_VIEWBOX; Don<span class="stringliteral">&#39;t generate PNG when only SVG is requested</span></div>
<div class="line"><a id="l00415" name="l00415"></a><span class="lineno">  415</span><span class="stringliteral">%&gt;  02/07/20: (3.06) Significantly improved performance (speed) and fidelity of bitmap images; Return alpha matrix for bitmap images; Fixed issue #302 (-update bug); Added EMF output; Added -clipboard formats (image,bitmap,emf,pdf); Added hints for exportgraphics/copygraphics usage in certain use-cases; Added description of new version features in the update message; Fixed issue #306 (yyaxis cropping); Fixed EPS/PDF auto-cropping with -transparent</span></div>
<div class="line"><a id="l00416" name="l00416"></a><span class="lineno">  416</span><span class="stringliteral">%&gt;  06/07/20: (3.07) Fixed issue #307 (bug in padding of bitmap images); Fixed axes transparency in -clipboard:emf with -transparent</span></div>
<div class="line"><a id="l00417" name="l00417"></a><span class="lineno">  417</span><span class="stringliteral">%&gt;  07/07/20: (3.08) Fixed issue #308 (bug in R2019a and earlier)</span></div>
<div class="line"><a id="l00418" name="l00418"></a><span class="lineno">  418</span><span class="stringliteral">%&gt;  18/07/20: (3.09) Fixed issue #310 (bug with tiny image on HG1); Fixed title cropping bug</span></div>
<div class="line"><a id="l00419" name="l00419"></a><span class="lineno">  419</span><span class="stringliteral">%&gt;  23/07/20: (3.10) Fixed issues #313,314 (figure position changes if units ~= pixels); Display multiple versions change-log, if relevant; Fixed issue #312 (PNG: only use alpha channel if -transparent was requested)</span></div>
<div class="line"><a id="l00420" name="l00420"></a><span class="lineno">  420</span><span class="stringliteral">%&gt;  30/07/20: (3.11) Fixed issue #317 (bug when exporting figure with non-pixels units); Potential solve also of issue #303 (size change upon export)</span></div>
<div class="line"><a id="l00421" name="l00421"></a><span class="lineno">  421</span><span class="stringliteral">%&gt;  14/08/20: (3.12) Fixed some exportgraphics/copygraphics compatibility messages; Added -silent option to suppress non-critical messages; Reduced promo message display rate to once a week; Added progress messages during savefig(&#39;</span>-update&#39;)</div>
<div class="line"><a id="l00422" name="l00422"></a><span class="lineno">  422</span>%&gt;  07/10/20: (3.13) Added version info and change-log links to update message (issue #322); Added -<a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> option to return the current <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a>; Avoid JavaFrame warning message; Improved exportgraphics/copygraphics infomercial message inc. support of upcoming MATLAB R2021a</div>
<div class="line"><a id="l00423" name="l00423"></a><span class="lineno">  423</span>%&gt;  10/12/20: (3.14) Enabled user-specified regexp replacements in generated EPS/PDF files (issue #324)</div>
<div class="line"><a id="l00424" name="l00424"></a><span class="lineno">  424</span>%&gt;  01/07/21: (3.15) Added informative message in <span class="keywordflow">case</span> of setopacityalpha error (issue #285)</div>
<div class="line"><a id="l00425" name="l00425"></a><span class="lineno">  425</span>%&gt;  26/08/21: (3.16) Fixed problem of white elements appearing transparent (issue #330); clarified some error messages</div>
<div class="line"><a id="l00426" name="l00426"></a><span class="lineno">  426</span>%&gt;  27/09/21: (3.17) Made MATLAB<span class="stringliteral">&#39;s builtin export the default for SVG, rather than fig2svg/plot2svg (issue #316); updated transparency error message (issues #285, #343); reduced promo message frequency</span></div>
<div class="line"><a id="l00427" name="l00427"></a><span class="lineno">  427</span><span class="stringliteral">%&gt;  03/10/21: (3.18) Fixed warning about invalid escaped character when the output folder does not exist (issue #345)</span></div>
<div class="line"><a id="l00428" name="l00428"></a><span class="lineno">  428</span><span class="stringliteral">%&gt;  25/10/21: (3.19) Fixed print error when exporting a specific subplot (issue #347); avoid duplicate error messages</span></div>
<div class="line"><a id="l00429" name="l00429"></a><span class="lineno">  429</span><span class="stringliteral">%&gt;  11/12/21: (3.20) Added GIF support, including animated &amp; transparent-background; accept format options as cell-array, not just nested struct</span></div>
<div class="line"><a id="l00430" name="l00430"></a><span class="lineno">  430</span><span class="stringliteral">%&gt;  20/12/21: (3.21) Speedups; fixed exporting non-current figure (hopefully fixes issue #318); fixed warning when appending to animated GIF</span></div>
<div class="line"><a id="l00431" name="l00431"></a><span class="lineno">  431</span><span class="stringliteral">%&gt;  02/03/22: (3.22) Fixed small potential memory leak during screen-capture; expanded exportgraphics message for vector exports; fixed rotated tick labels on R2021a+</span></div>
<div class="line"><a id="l00432" name="l00432"></a><span class="lineno">  432</span><span class="stringliteral">%&gt;  02/03/22: (3.23) Added -toolbar and -menubar options to add figure toolbar/menubar items for interactive figure export (issue #73); fixed edge-case bug with GIF export</span></div>
<div class="line"><a id="l00433" name="l00433"></a><span class="lineno">  433</span><span class="stringliteral">%&gt;  14/03/22: (3.24) Added support for specifying figure name in addition to handle; added warning when trying to export TIF/JPG/BMP with transparency; use current figure as default handle even when its HandleVisibility is not &#39;</span>on<span class="stringliteral">&#39;</span></div>
<div class="line"><a id="l00434" name="l00434"></a><span class="lineno">  434</span><span class="stringliteral">%&gt;  16/03/22: (3.25) Fixed occasional empty files due to excessive cropping (issues #318, #350, #351)</span></div>
<div class="line"><a id="l00435" name="l00435"></a><span class="lineno">  435</span><span class="stringliteral">%&gt;  01/05/22: (3.26) Added -transparency option for TIFF files</span></div>
<div class="line"><a id="l00436" name="l00436"></a><span class="lineno">  436</span><span class="stringliteral">%&gt;  15/05/22: (3.27) Fixed EPS bounding box (issue #356)</span></div>
<div class="line"><a id="l00437" name="l00437"></a><span class="lineno">  437</span><span class="stringliteral">%&gt;  04/12/22: (3.28) Added -metadata option to add custom info to PDF files; fixed -clipboard export (transparent and gray-scale images; deployed apps; old Matlabs)</span></div>
<div class="line"><a id="l00438" name="l00438"></a><span class="lineno">  438</span><span class="stringliteral">%&gt;  03/01/23: (3.29) Use silent mode by default in deployed apps; suggest installing ghostscript/pdftops if required yet missing; fixed invalid chars in export filename; reuse existing figure toolbar if available</span></div>
<div class="line"><a id="l00439" name="l00439"></a><span class="lineno">  439</span><span class="stringliteral">%&gt;  03/02/23: (3.30) Added -contextmenu option to add interactive context-menu items; fixed: -menubar,-toolbar created the full default figure menubar/toolbar if not shown; enlarged toolbar icon; support adding savefig icon to custom toolbars; alert if specifying multiple or invalid handle(s)</span></div>
<div class="line"><a id="l00440" name="l00440"></a><span class="lineno">  440</span><span class="stringliteral">%&gt;  20/02/23: (3.31) Fixed PDF quality issues as suggested by @scholnik (issues #285, #368); minor fixes for MacOS/Linux; use figure&#39;</span>s FileName property (<span class="keywordflow">if</span> available) as the <span class="keywordflow">default</span> export filename; added -gif optional format parameter; Display the export folder (full pathname) in menu items when <span class="keyword">using</span> -toolbar, -menubar and/or -contextmenu</div>
<div class="line"><a id="l00441" name="l00441"></a><span class="lineno">  441</span>%&gt;  21/02/23: (3.32) Fixed EPS export error handling in deployed apps; use MATLAB<span class="stringliteral">&#39;s builtin EPS export if pdftops is not installed or fails; disabled EMF export option on MacOS/Linux; fixed some EMF warning messages; don&#39;</span>t export PNG <span class="keywordflow">if</span> only -toolbar etc were specified</div>
<div class="line"><a id="l00442" name="l00442"></a><span class="lineno">  442</span>%&gt;  23/02/23: (3.33) Fixed PDF -append (issue #369); Added -notify option to notify user when the export is done; propagate all specified <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> options to -toolbar,-menubar,-contextmenu exports; -silent is no longer set by <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1split2real.html#ab54ab7b589a005c1a2f537b0af530de3">default</a> in deployed apps (<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#a3dff586d2788a00dcaa39c7b4ba08d33">i</a>.e. you need to call -silent explicitly)</div>
<div class="line"><a id="l00443" name="l00443"></a><span class="lineno">  443</span>%&gt;  23/03/23: (3.34) Fixed error when exporting axes handle to clipboard without filename (issue #372)</div>
<div class="line"><a id="l00444" name="l00444"></a><span class="lineno">  444</span>%&gt;  11/04/23: (3.35) Added -n,-x,-s options to set min, max, and fixed output image size (issue #315)</div>
<div class="line"><a id="l00445" name="l00445"></a><span class="lineno">  445</span>%&gt;  13/04/23: (3.36) Reduced (hopefully fixed) unintended EPS/PDF image cropping (issues #97, #318); clarified warning in <span class="keywordflow">case</span> of PDF/EPS export of transparent patches (issues #94, #106, #108)</div>
<div class="line"><a id="l00446" name="l00446"></a><span class="lineno">  446</span>%&gt;  23/04/23: (3.37) Fixed <a class="code hl_function" href="paradram_2run_8m.html#abc2f0166a8f9ceb2d426085d75b92a7e">run</a>-time error with old MATLAB releases (issue #374); -notify console message about exported image now displays black (STDOUT) not red (STDERR)</div>
<div class="line"><a id="l00447" name="l00447"></a><span class="lineno">  447</span>%&gt;  15/05/23: (3.38) Fixed endless recursion when using savefig in Live Scripts (issue #375); don<span class="stringliteral">&#39;t warn about exportgraphics/copygraphics alternatives in deployed mode</span></div>
<div class="line"><a id="l00448" name="l00448"></a><span class="lineno">  448</span><span class="stringliteral">%&gt;  30/05/23: (3.39) Fixed exported bgcolor of uifigures or figures in Live Scripts (issue #377)</span></div>
<div class="line"><a id="l00449" name="l00449"></a><span class="lineno">  449</span><span class="stringliteral">%&gt;  06/07/23: (3.40) For Tiff compression, use AdobeDeflate codec (if available) instead of Deflate (issue #379)</span></div>
<div class="line"><a id="l00450" name="l00450"></a><span class="lineno">  450</span><span class="stringliteral">%&gt;  29/11/23: (3.41) Fixed error when no filename is specified nor available in the exported figure (issue #381)</span></div>
<div class="line"><a id="l00451" name="l00451"></a><span class="lineno">  451</span><span class="stringliteral">%&gt;  05/12/23: (3.42) Fixed unintended cropping of colorbar title in PDF export with -transparent (issues #382, #383)</span></div>
<div class="line"><a id="l00452" name="l00452"></a><span class="lineno">  452</span><span class="stringliteral">%&gt;  07/12/23: (3.43) Fixed unintended modification of colorbar in bitmap export (issue #385)</span></div>
<div class="line"><a id="l00453" name="l00453"></a><span class="lineno">  453</span><span class="stringliteral">%&gt;  @endverbatim</span></div>
<div class="line"><a id="l00454" name="l00454"></a><span class="lineno">  454</span><span class="stringliteral">%&gt;  &lt;p&gt;&lt;/p&gt;</span></div>
<div class="line"><a id="l00455" name="l00455"></a><span class="lineno">  455</span><span class="stringliteral">%&gt;</span></div>
<div class="line"><a id="l00456" name="l00456"></a><span class="lineno">  456</span><span class="stringliteral">%&gt;  @author</span></div>
<div class="line"><a id="l00457" name="l00457"></a><span class="lineno">  457</span><span class="stringliteral">%&gt;  @FatemehBagheri, May 20 2024, 1:25 PM, NASA Goddard Space Flight Center (GSFC), Washington, D.C.&lt;br&gt;</span></div>
<div class="line"><a id="l00458" name="l00458"></a><span class="lineno">  458</span><span class="stringliteral">%&gt;  @AmirShahmoradi, May 16 2016, 9:03 AM, Oden Institute for Computational Engineering and Sciences (ICES), UT Austin&lt;br&gt;</span></div>
<div class="line"><a id="l00459" name="l00459"></a><span class="lineno"><a class="line" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">  459</a></span><span class="stringliteral">function [imageData, alpha] = savefig(varargin) %#ok&lt;*STRCL1,*DATST,*TNOW1&gt;</span></div>
<div class="line"><a id="l00460" name="l00460"></a><span class="lineno">  460</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00461" name="l00461"></a><span class="lineno">  461</span><span class="stringliteral">    %%%%</span></div>
<div class="line"><a id="l00462" name="l00462"></a><span class="lineno">  462</span><span class="stringliteral">    %%%% Ensure all input string values are characters.</span></div>
<div class="line"><a id="l00463" name="l00463"></a><span class="lineno">  463</span><span class="stringliteral">    %%%%</span></div>
<div class="line"><a id="l00464" name="l00464"></a><span class="lineno">  464</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00465" name="l00465"></a><span class="lineno">  465</span><span class="stringliteral">    for i = 1:length(varargin)</span></div>
<div class="line"><a id="l00466" name="l00466"></a><span class="lineno">  466</span><span class="stringliteral">        if isa(varargin{i}, &quot;string&quot;)</span></div>
<div class="line"><a id="l00467" name="l00467"></a><span class="lineno">  467</span><span class="stringliteral">            varargin{i} = convertStringsToChars(varargin{i});</span></div>
<div class="line"><a id="l00468" name="l00468"></a><span class="lineno">  468</span><span class="stringliteral">        end</span></div>
<div class="line"><a id="l00469" name="l00469"></a><span class="lineno">  469</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l00470" name="l00470"></a><span class="lineno">  470</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00471" name="l00471"></a><span class="lineno">  471</span><span class="stringliteral">    %%%%</span></div>
<div class="line"><a id="l00472" name="l00472"></a><span class="lineno">  472</span><span class="stringliteral">    %%%% Continue.</span></div>
<div class="line"><a id="l00473" name="l00473"></a><span class="lineno">  473</span><span class="stringliteral">    %%%%</span></div>
<div class="line"><a id="l00474" name="l00474"></a><span class="lineno">  474</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00475" name="l00475"></a><span class="lineno">  475</span><span class="stringliteral">    if nargout</span></div>
<div class="line"><a id="l00476" name="l00476"></a><span class="lineno">  476</span><span class="stringliteral">        [imageData, alpha] = deal([]);</span></div>
<div class="line"><a id="l00477" name="l00477"></a><span class="lineno">  477</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l00478" name="l00478"></a><span class="lineno">  478</span><span class="stringliteral">    displaySuggestedWorkarounds = true;</span></div>
<div class="line"><a id="l00479" name="l00479"></a><span class="lineno">  479</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00480" name="l00480"></a><span class="lineno">  480</span><span class="stringliteral">    % Ensure the figure is rendered correctly _now_ so that properties like axes limits are up-to-date</span></div>
<div class="line"><a id="l00481" name="l00481"></a><span class="lineno">  481</span><span class="stringliteral">    drawnow;</span></div>
<div class="line"><a id="l00482" name="l00482"></a><span class="lineno">  482</span><span class="stringliteral">    pause(0.05);  % this solves timing issues with Java Swing&#39;</span>s EDT (http:<span class="comment">//undocumentedmatlab.com/blog/solving-a-matlab-hang-problem)</span></div>
<div class="line"><a id="l00483" name="l00483"></a><span class="lineno">  483</span> </div>
<div class="line"><a id="l00484" name="l00484"></a><span class="lineno">  484</span>    % Display promo (just once every 10 days!)</div>
<div class="line"><a id="l00485" name="l00485"></a><span class="lineno">  485</span>    persistent promo_time</div>
<div class="line"><a id="l00486" name="l00486"></a><span class="lineno">  486</span>    <span class="keywordflow">if</span> isempty(promo_time)</div>
<div class="line"><a id="l00487" name="l00487"></a><span class="lineno">  487</span>        <span class="keywordflow">try</span> promo_time = getpref(<span class="stringliteral">&#39;savefig&#39;</span>,<span class="stringliteral">&#39;promo_time&#39;</span>); <span class="keywordflow">catch</span>, promo_time=-inf; end</div>
<div class="line"><a id="l00488" name="l00488"></a><span class="lineno">  488</span>    end</div>
<div class="line"><a id="l00489" name="l00489"></a><span class="lineno">  489</span>    <span class="keywordflow">if</span> abs(now-promo_time) &gt; 10 &amp;&amp; ~isdeployed</div>
<div class="line"><a id="l00490" name="l00490"></a><span class="lineno">  490</span>        programsCrossCheck;</div>
<div class="line"><a id="l00491" name="l00491"></a><span class="lineno">  491</span>        msg = char(<span class="stringliteral">&#39;Gps!qspgfttjpobm!Nbumbc!bttjtubodf-!qmfbtf!dpoubdu!=%?&#39;</span>-1);</div>
<div class="line"><a id="l00492" name="l00492"></a><span class="lineno">  492</span>        url = char(<span class="stringliteral">&#39;iuuqt;00VoepdvnfoufeNbumbc/dpn0dpotvmujoh&#39;</span>-1);</div>
<div class="line"><a id="l00493" name="l00493"></a><span class="lineno">  493</span>        displayPromoMsg(msg, url);</div>
<div class="line"><a id="l00494" name="l00494"></a><span class="lineno">  494</span>        promo_time = now;</div>
<div class="line"><a id="l00495" name="l00495"></a><span class="lineno">  495</span>        setpref(<span class="stringliteral">&#39;savefig&#39;</span>,<span class="stringliteral">&#39;promo_time&#39;</span>,now)</div>
<div class="line"><a id="l00496" name="l00496"></a><span class="lineno">  496</span>    end</div>
<div class="line"><a id="l00497" name="l00497"></a><span class="lineno">  497</span> </div>
<div class="line"><a id="l00498" name="l00498"></a><span class="lineno">  498</span>    % Use the current figure as the <span class="keywordflow">default</span> figure handle</div>
<div class="line"><a id="l00499" name="l00499"></a><span class="lineno">  499</span>    % temporarily set ShowHiddenHandles=<span class="stringliteral">&#39;on&#39;</span> to access figure with HandleVisibility=<span class="stringliteral">&#39;off&#39;</span></div>
<div class="line"><a id="l00500" name="l00500"></a><span class="lineno">  500</span>    <span class="keywordflow">try</span> oldValue = get(0,<span class="stringliteral">&#39;ShowHiddenHandles&#39;</span>); set(0,<span class="stringliteral">&#39;ShowHiddenHandles&#39;</span>,<span class="stringliteral">&#39;on&#39;</span>); <span class="keywordflow">catch</span>, end</div>
<div class="line"><a id="l00501" name="l00501"></a><span class="lineno">  501</span>    fig = get(0, <span class="stringliteral">&#39;CurrentFigure&#39;</span>);</div>
<div class="line"><a id="l00502" name="l00502"></a><span class="lineno">  502</span>    <span class="keywordflow">try</span> set(0,<span class="stringliteral">&#39;ShowHiddenHandles&#39;</span>,oldValue); <span class="keywordflow">catch</span>, end</div>
<div class="line"><a id="l00503" name="l00503"></a><span class="lineno">  503</span> </div>
<div class="line"><a id="l00504" name="l00504"></a><span class="lineno">  504</span>    % Parse the input arguments</div>
<div class="line"><a id="l00505" name="l00505"></a><span class="lineno">  505</span>    argNames = {};</div>
<div class="line"><a id="l00506" name="l00506"></a><span class="lineno">  506</span>    <span class="keywordflow">for</span> idx = nargin:-1:1, argNames{idx} = inputname(idx); end</div>
<div class="line"><a id="l00507" name="l00507"></a><span class="lineno">  507</span>    [fig, options] = <a class="code hl_function" href="im2gif_8m.html#a406f3b1b666559c9e0e756fc57128c5e">parse_args</a>(nargout, fig, argNames, varargin{:});</div>
<div class="line"><a id="l00508" name="l00508"></a><span class="lineno">  508</span> </div>
<div class="line"><a id="l00509" name="l00509"></a><span class="lineno">  509</span>    % Check <span class="keywordflow">for</span> newer <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> and exportgraphics/copygraphics compatibility</div>
<div class="line"><a id="l00510" name="l00510"></a><span class="lineno">  510</span>    currentVersion = 3.43;</div>
<div class="line"><a id="l00511" name="l00511"></a><span class="lineno">  511</span>    <span class="keywordflow">if</span> options.version  % <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a><span class="stringliteral">&#39;s version requested - return it and bail out</span></div>
<div class="line"><a id="l00512" name="l00512"></a><span class="lineno">  512</span><span class="stringliteral">        imageData = currentVersion;</span></div>
<div class="line"><a id="l00513" name="l00513"></a><span class="lineno">  513</span><span class="stringliteral">        return</span></div>
<div class="line"><a id="l00514" name="l00514"></a><span class="lineno">  514</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l00515" name="l00515"></a><span class="lineno">  515</span><span class="stringliteral">    if ~options.silent &amp;&amp; ~isdeployed</span></div>
<div class="line"><a id="l00516" name="l00516"></a><span class="lineno">  516</span><span class="stringliteral">        % Check for newer version (not too often)</span></div>
<div class="line"><a id="l00517" name="l00517"></a><span class="lineno">  517</span><span class="stringliteral">        checkForNewerVersion(currentVersion);  % this breaks in version 3.05- due to regexp limitation in checkForNewerVersion()</span></div>
<div class="line"><a id="l00518" name="l00518"></a><span class="lineno">  518</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00519" name="l00519"></a><span class="lineno">  519</span><span class="stringliteral">        % Hint to users to use exportgraphics/copygraphics in certain cases</span></div>
<div class="line"><a id="l00520" name="l00520"></a><span class="lineno">  520</span><span class="stringliteral">        alertForExportOrCopygraphics(options);</span></div>
<div class="line"><a id="l00521" name="l00521"></a><span class="lineno">  521</span><span class="stringliteral">        %return</span></div>
<div class="line"><a id="l00522" name="l00522"></a><span class="lineno">  522</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l00523" name="l00523"></a><span class="lineno">  523</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l00524" name="l00524"></a><span class="lineno">  524</span><span class="stringliteral">    % Ensure that we have a scalar valid figure handle</span></div>
<div class="line"><a id="l00525" name="l00525"></a><span class="lineno">  525</span><span class="stringliteral">    if isequal(fig,-1)</span></div>
<div class="line"><a id="l00526" name="l00526"></a><span class="lineno">  526</span><span class="stringliteral">        return  % silent bail-out</span></div>
<div class="line"><a id="l00527" name="l00527"></a><span class="lineno">  527</span><span class="stringliteral">    elseif isempty(fig)</span></div>
<div class="line"><a id="l00528" name="l00528"></a><span class="lineno">  528</span><span class="stringliteral">        error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:NoFigure<span class="charliteral">&#39;,&#39;</span>No figure found<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l00529" name="l00529"></a><span class="lineno">  529</span><span class="stringliteral">    elseif numel(fig) &gt; 1</span></div>
<div class="line"><a id="l00530" name="l00530"></a><span class="lineno">  530</span><span class="stringliteral">        error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:MultipleFigures<span class="charliteral">&#39;,&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> can only process one figure at <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> time<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l00531" name="l00531"></a><span class="lineno">  531</span><span class="stringliteral">    elseif ~ishandle(fig)</span></div>
<div class="line"><a id="l00532" name="l00532"></a><span class="lineno">  532</span><span class="stringliteral">        error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:InvalidHandle<span class="charliteral">&#39;,&#39;</span>invalid figure handle specified to <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a><span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l00533" name="l00533"></a><span class="lineno">  533</span><span class="stringliteral">    elseif ~isequal(getappdata(fig,&#39;</span>isExportFigCopy<span class="stringliteral">&#39;),true)</span></div>
<div class="line"><a id="l00534" name="l00534"></a><span class="lineno">  534</span><span class="stringliteral">        oldWarn = warning(&#39;</span>off<span class="charliteral">&#39;,&#39;</span>MATLAB:HandleGraphics:ObsoletedProperty:JavaFrame<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l00535" name="l00535"></a><span class="lineno">  535</span><span class="stringliteral">        warning off MATLAB:ui:javaframe:PropertyToBeRemoved</span></div>
<div class="line"><a id="l00536" name="l00536"></a><span class="lineno">  536</span><span class="stringliteral">        hFig = handle(ancestor(fig,&#39;</span>figure<span class="stringliteral">&#39;));</span></div>
<div class="line"><a id="l00537" name="l00537"></a><span class="lineno">  537</span><span class="stringliteral">        try jf = get(hFig,&#39;</span>JavaFrame_I<span class="stringliteral">&#39;); catch, try jf = get(hFig,&#39;</span>JavaFrame<span class="stringliteral">&#39;); catch, jf=1; end, end %#ok&lt;JAVFM&gt;</span></div>
<div class="line"><a id="l00538" name="l00538"></a><span class="lineno">  538</span><span class="stringliteral">        warning(oldWarn);</span></div>
<div class="line"><a id="l00539" name="l00539"></a><span class="lineno">  539</span><span class="stringliteral">        if isempty(jf)  % this is a uifigure</span></div>
<div class="line"><a id="l00540" name="l00540"></a><span class="lineno">  540</span><span class="stringliteral">            %error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:uifigures<span class="charliteral">&#39;,&#39;</span>Figures created <span class="keyword">using</span> the uifigure command or App Designer are not supported by <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>. See %s <span class="keywordflow">for</span> details.<span class="stringliteral">&#39;, hyperlink(&#39;</span>https:<span class="comment">//github.com/altmany/savefig/issues/261&#39;,&#39;issue #261&#39;));</span></div>
<div class="line"><a id="l00541" name="l00541"></a><span class="lineno">  541</span>            <span class="keywordflow">if</span> numel(fig) &gt; 1</div>
<div class="line"><a id="l00542" name="l00542"></a><span class="lineno">  542</span>                error(<span class="stringliteral">&#39;savefig:uifigure:multipleHandles&#39;</span>, <span class="stringliteral">&#39;savefig only supports exporting a single uifigure handle at a time; array of handles is not currently supported.&#39;</span>)</div>
<div class="line"><a id="l00543" name="l00543"></a><span class="lineno">  543</span>            elseif ~any(strcmpi(fig.Type,{<span class="stringliteral">&#39;figure&#39;</span>,<span class="stringliteral">&#39;axes&#39;</span>}))</div>
<div class="line"><a id="l00544" name="l00544"></a><span class="lineno">  544</span>                error(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:uifigure:notFigureOrAxes&#39;, &#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> only supports exporting <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> uifigure or uiaxes handle; other handles of <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> uifigure are not currently supported.&#39;)</div>
<div class="line"><a id="l00545" name="l00545"></a><span class="lineno">  545</span>            end</div>
<div class="line"><a id="l00546" name="l00546"></a><span class="lineno">  546</span>            % fig is either <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> uifigure or uiaxes handle</div>
<div class="line"><a id="l00547" name="l00547"></a><span class="lineno">  547</span>            isUiaxes = strcmpi(fig.Type,&#39;axes&#39;);</div>
<div class="line"><a id="l00548" name="l00548"></a><span class="lineno">  548</span>            if isUiaxes</div>
<div class="line"><a id="l00549" name="l00549"></a><span class="lineno">  549</span>                % Label the specified axes so that we can <a class="code hl_function" href="namespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1find.html#a7ea2890f440ea143a4be87232126fb38">find</a> it in the legacy figure</div>
<div class="line"><a id="l00550" name="l00550"></a><span class="lineno">  550</span>                oldUserData = fig.UserData;</div>
<div class="line"><a id="l00551" name="l00551"></a><span class="lineno">  551</span>                tempStr = tempname;</div>
<div class="line"><a id="l00552" name="l00552"></a><span class="lineno">  552</span>                fig.UserData = tempStr;</div>
<div class="line"><a id="l00553" name="l00553"></a><span class="lineno">  553</span>            end</div>
<div class="line"><a id="l00554" name="l00554"></a><span class="lineno">  554</span>            try</div>
<div class="line"><a id="l00555" name="l00555"></a><span class="lineno">  555</span>                % Create an invisible legacy figure at the same position/size as the uifigure</div>
<div class="line"><a id="l00556" name="l00556"></a><span class="lineno">  556</span>                hNewFig = figure(&#39;Visible&#39;,&#39;off&#39;,    &#39;Color&#39;,hFig.Color, ...</div>
<div class="line"><a id="l00557" name="l00557"></a><span class="lineno">  557</span>                                 &#39;Units&#39;,hFig.Units, &#39;Position&#39;,hFig.Position, ...</div>
<div class="line"><a id="l00558" name="l00558"></a><span class="lineno">  558</span>                                 &#39;MenuBar&#39;,&#39;none&#39;,   &#39;ToolBar&#39;,&#39;none&#39;);</div>
<div class="line"><a id="l00559" name="l00559"></a><span class="lineno">  559</span>                % Copy the uifigure contents onto the new invisible legacy figure</div>
<div class="line"><a id="l00560" name="l00560"></a><span class="lineno">  560</span>                try</div>
<div class="line"><a id="l00561" name="l00561"></a><span class="lineno">  561</span>                    hChildren = allchild(hFig); %=uifig.Children;</div>
<div class="line"><a id="l00562" name="l00562"></a><span class="lineno">  562</span>                    copyobj(hChildren,hNewFig);</div>
<div class="line"><a id="l00563" name="l00563"></a><span class="lineno">  563</span>                catch</div>
<div class="line"><a id="l00564" name="l00564"></a><span class="lineno">  564</span>                    if ~options.silent</div>
<div class="line"><a id="l00565" name="l00565"></a><span class="lineno">  565</span>                        warning(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:uifigure:controls&#39;, &#39;Some uifigure controls cannot be exported by <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> and will not appear in the generated output.&#39;);</div>
<div class="line"><a id="l00566" name="l00566"></a><span class="lineno">  566</span>                    end</div>
<div class="line"><a id="l00567" name="l00567"></a><span class="lineno">  567</span>                end</div>
<div class="line"><a id="l00568" name="l00568"></a><span class="lineno">  568</span>                try fig.UserData = oldUserData; catch, end  % restore axes UserData, if modified above</div>
<div class="line"><a id="l00569" name="l00569"></a><span class="lineno">  569</span>                setappdata(hNewFig,&#39;isExportFigCopy&#39;,true); % avoid endless recursion (issue <span class="preprocessor">#375)</span></div>
<div class="line"><a id="l00570" name="l00570"></a><span class="lineno">  570</span>                % Replace the uihandle in the input args with the legacy handle</div>
<div class="line"><a id="l00571" name="l00571"></a><span class="lineno">  571</span>                <span class="keywordflow">if</span> isUiaxes  % uiaxes</div>
<div class="line"><a id="l00572" name="l00572"></a><span class="lineno">  572</span>                    % Locate the corresponding axes handle in the <span class="keyword">new</span> legacy figure</div>
<div class="line"><a id="l00573" name="l00573"></a><span class="lineno">  573</span>                    hAxes = findall(hNewFig,<span class="stringliteral">&#39;type&#39;</span>,<span class="stringliteral">&#39;axes&#39;</span>,<span class="stringliteral">&#39;UserData&#39;</span>,tempStr);</div>
<div class="line"><a id="l00574" name="l00574"></a><span class="lineno">  574</span>                    <span class="keywordflow">if</span> isempty(hAxes) % should never happen, check just in <span class="keywordflow">case</span></div>
<div class="line"><a id="l00575" name="l00575"></a><span class="lineno">  575</span>                        hNewHandle = hNewFig;  % export the figure instead of the axes</div>
<div class="line"><a id="l00576" name="l00576"></a><span class="lineno">  576</span>                    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00577" name="l00577"></a><span class="lineno">  577</span>                        hNewHandle = hAxes;  % <span class="keyword">new</span> axes handle found: use it instead of the uiaxes</div>
<div class="line"><a id="l00578" name="l00578"></a><span class="lineno">  578</span>                    end</div>
<div class="line"><a id="l00579" name="l00579"></a><span class="lineno">  579</span>                <span class="keywordflow">else</span>  % uifigure</div>
<div class="line"><a id="l00580" name="l00580"></a><span class="lineno">  580</span>                    hNewHandle = hNewFig;</div>
<div class="line"><a id="l00581" name="l00581"></a><span class="lineno">  581</span>                end</div>
<div class="line"><a id="l00582" name="l00582"></a><span class="lineno">  582</span>                varargin(cellfun(@(c)isequal(c,fig),varargin)) = {hNewHandle};</div>
<div class="line"><a id="l00583" name="l00583"></a><span class="lineno">  583</span>                % Rerun <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> on the legacy figure (with the replaced handle)</div>
<div class="line"><a id="l00584" name="l00584"></a><span class="lineno">  584</span>                [imageData, alpha] = <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>(varargin{:});</div>
<div class="line"><a id="l00585" name="l00585"></a><span class="lineno">  585</span>                % Delete the temp legacy figure and bail out</div>
<div class="line"><a id="l00586" name="l00586"></a><span class="lineno">  586</span>                <span class="keywordflow">try</span> <span class="keyword">delete</span>(hNewFig); <span class="keywordflow">catch</span>, end</div>
<div class="line"><a id="l00587" name="l00587"></a><span class="lineno">  587</span>                <span class="keywordflow">return</span></div>
<div class="line"><a id="l00588" name="l00588"></a><span class="lineno">  588</span>            <span class="keywordflow">catch</span> err</div>
<div class="line"><a id="l00589" name="l00589"></a><span class="lineno">  589</span>                % Clean up the temp legacy figure and report the error</div>
<div class="line"><a id="l00590" name="l00590"></a><span class="lineno">  590</span>                <span class="keywordflow">try</span> <span class="keyword">delete</span>(hNewFig); <span class="keywordflow">catch</span>, end</div>
<div class="line"><a id="l00591" name="l00591"></a><span class="lineno">  591</span>                rethrow(err)</div>
<div class="line"><a id="l00592" name="l00592"></a><span class="lineno">  592</span>            end</div>
<div class="line"><a id="l00593" name="l00593"></a><span class="lineno">  593</span>        end</div>
<div class="line"><a id="l00594" name="l00594"></a><span class="lineno">  594</span>    end</div>
<div class="line"><a id="l00595" name="l00595"></a><span class="lineno">  595</span> </div>
<div class="line"><a id="l00596" name="l00596"></a><span class="lineno">  596</span>    % If toolbar button was requested, add it to the specified figure(s)</div>
<div class="line"><a id="l00597" name="l00597"></a><span class="lineno">  597</span>    <span class="keywordflow">if</span> options.toolbar</div>
<div class="line"><a id="l00598" name="l00598"></a><span class="lineno">  598</span>        addToolbarButton(hFig, options);</div>
<div class="line"><a id="l00599" name="l00599"></a><span class="lineno">  599</span>    end</div>
<div class="line"><a id="l00600" name="l00600"></a><span class="lineno">  600</span> </div>
<div class="line"><a id="l00601" name="l00601"></a><span class="lineno">  601</span>    % If menubar menu was requested, add it to the specified figure(s)</div>
<div class="line"><a id="l00602" name="l00602"></a><span class="lineno">  602</span>    <span class="keywordflow">if</span> options.menubar</div>
<div class="line"><a id="l00603" name="l00603"></a><span class="lineno">  603</span>        addMenubarMenu(hFig, options);</div>
<div class="line"><a id="l00604" name="l00604"></a><span class="lineno">  604</span>    end</div>
<div class="line"><a id="l00605" name="l00605"></a><span class="lineno">  605</span> </div>
<div class="line"><a id="l00606" name="l00606"></a><span class="lineno">  606</span>    % If context-menu was requested, add it to the specified handle(s)</div>
<div class="line"><a id="l00607" name="l00607"></a><span class="lineno">  607</span>    if options.contextmenu</div>
<div class="line"><a id="l00608" name="l00608"></a><span class="lineno">  608</span>        addContextMenu(hFig, options);</div>
<div class="line"><a id="l00609" name="l00609"></a><span class="lineno">  609</span>    end</div>
<div class="line"><a id="l00610" name="l00610"></a><span class="lineno">  610</span> </div>
<div class="line"><a id="l00611" name="l00611"></a><span class="lineno">  611</span>    % Isolate the subplot, <span class="keywordflow">if</span> it is one</div>
<div class="line"><a id="l00612" name="l00612"></a><span class="lineno">  612</span>    cls = all(ismember(get(fig, <span class="stringliteral">&#39;Type&#39;</span>), {<span class="stringliteral">&#39;axes&#39;</span>, <span class="stringliteral">&#39;uipanel&#39;</span>}));</div>
<div class="line"><a id="l00613" name="l00613"></a><span class="lineno">  613</span>    <span class="keywordflow">if</span> cls</div>
<div class="line"><a id="l00614" name="l00614"></a><span class="lineno">  614</span>        % Given handles of one or more axes, so isolate them from the rest</div>
<div class="line"><a id="l00615" name="l00615"></a><span class="lineno">  615</span>        fig = <a class="code hl_function" href="isolate__axes_8m.html#a897b8fb9c2f3b417aa8262d3fda639f3">isolate_axes</a>(fig);</div>
<div class="line"><a id="l00616" name="l00616"></a><span class="lineno">  616</span>    <span class="keywordflow">else</span></div>
<div class="line"><a id="l00617" name="l00617"></a><span class="lineno">  617</span>        % Check we have <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> figure</div>
<div class="line"><a id="l00618" name="l00618"></a><span class="lineno">  618</span>        <span class="keywordflow">if</span> ~isequal(get(fig, <span class="stringliteral">&#39;Type&#39;</span>), <span class="stringliteral">&#39;figure&#39;</span>)</div>
<div class="line"><a id="l00619" name="l00619"></a><span class="lineno">  619</span>            error(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadHandle&#39;,&#39;<a class="code hl_class" href="classHandle.html">Handle</a> must be that of <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> figure, axes or uipanel&#39;);</div>
<div class="line"><a id="l00620" name="l00620"></a><span class="lineno">  620</span>        end</div>
<div class="line"><a id="l00621" name="l00621"></a><span class="lineno">  621</span>        % Get the old InvertHardcopy mode</div>
<div class="line"><a id="l00622" name="l00622"></a><span class="lineno">  622</span>        old_mode = get(fig, &#39;InvertHardcopy&#39;);</div>
<div class="line"><a id="l00623" name="l00623"></a><span class="lineno">  623</span>    end</div>
<div class="line"><a id="l00624" name="l00624"></a><span class="lineno">  624</span>    % from this point onward, fig is assured to be <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> figure handle</div>
<div class="line"><a id="l00625" name="l00625"></a><span class="lineno">  625</span> </div>
<div class="line"><a id="l00626" name="l00626"></a><span class="lineno">  626</span>    % Hack the font units where necessary (due to <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> font rendering bug in print?).</div>
<div class="line"><a id="l00627" name="l00627"></a><span class="lineno">  627</span>    % This may not work perfectly in all cases.</div>
<div class="line"><a id="l00628" name="l00628"></a><span class="lineno">  628</span>    % Also it can change the figure layout if reverted, so use <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> <a class="code hl_function" href="copy_8m.html#ab633577f583e18a523fef5b3b2295eee">copy</a>.</div>
<div class="line"><a id="l00629" name="l00629"></a><span class="lineno">  629</span>    magnify = options.magnify * options.aa_factor;</div>
<div class="line"><a id="l00630" name="l00630"></a><span class="lineno">  630</span>    if isbitmap(options) &amp;&amp; magnify ~= 1</div>
<div class="line"><a id="l00631" name="l00631"></a><span class="lineno">  631</span>        fontu = findall(fig, &#39;FontUnits&#39;, &#39;normalized&#39;);</div>
<div class="line"><a id="l00632" name="l00632"></a><span class="lineno">  632</span>        if ~isempty(fontu)</div>
<div class="line"><a id="l00633" name="l00633"></a><span class="lineno">  633</span>            % Some normalized font units found</div>
<div class="line"><a id="l00634" name="l00634"></a><span class="lineno">  634</span>            if ~cls</div>
<div class="line"><a id="l00635" name="l00635"></a><span class="lineno">  635</span>                fig = <a class="code hl_function" href="copyfig_8m.html#afc97c9d7f5431eb28ca277c67fb49cf5">copyfig</a>(fig);</div>
<div class="line"><a id="l00636" name="l00636"></a><span class="lineno">  636</span>                set(fig, &#39;Visible&#39;, &#39;off&#39;);</div>
<div class="line"><a id="l00637" name="l00637"></a><span class="lineno">  637</span>                fontu = findall(fig, &#39;FontUnits&#39;, &#39;normalized&#39;);</div>
<div class="line"><a id="l00638" name="l00638"></a><span class="lineno">  638</span>                cls = true;</div>
<div class="line"><a id="l00639" name="l00639"></a><span class="lineno">  639</span>            end</div>
<div class="line"><a id="l00640" name="l00640"></a><span class="lineno">  640</span>            set(fontu, &#39;FontUnits&#39;, &#39;points&#39;);</div>
<div class="line"><a id="l00641" name="l00641"></a><span class="lineno">  641</span>        end</div>
<div class="line"><a id="l00642" name="l00642"></a><span class="lineno">  642</span>    end</div>
<div class="line"><a id="l00643" name="l00643"></a><span class="lineno">  643</span> </div>
<div class="line"><a id="l00644" name="l00644"></a><span class="lineno">  644</span>    try</div>
<div class="line"><a id="l00645" name="l00645"></a><span class="lineno">  645</span>        % MATLAB &quot;feature&quot;: axes limits and tick marks can change when printing</div>
<div class="line"><a id="l00646" name="l00646"></a><span class="lineno">  646</span>        Hlims = findall(fig, &#39;Type&#39;, &#39;axes&#39;);</div>
<div class="line"><a id="l00647" name="l00647"></a><span class="lineno">  647</span>        if ~cls</div>
<div class="line"><a id="l00648" name="l00648"></a><span class="lineno">  648</span>            % Record the old axes limit and tick modes</div>
<div class="line"><a id="l00649" name="l00649"></a><span class="lineno">  649</span>            Xlims  = make_cell(get(Hlims, &#39;XLimMode&#39;));</div>
<div class="line"><a id="l00650" name="l00650"></a><span class="lineno">  650</span>            Ylims  = make_cell(get(Hlims, &#39;YLimMode&#39;));</div>
<div class="line"><a id="l00651" name="l00651"></a><span class="lineno">  651</span>            Zlims  = make_cell(get(Hlims, &#39;ZLimMode&#39;));</div>
<div class="line"><a id="l00652" name="l00652"></a><span class="lineno">  652</span>            Xtick  = make_cell(get(Hlims, &#39;XTickMode&#39;));</div>
<div class="line"><a id="l00653" name="l00653"></a><span class="lineno">  653</span>            Ytick  = make_cell(get(Hlims, &#39;YTickMode&#39;));</div>
<div class="line"><a id="l00654" name="l00654"></a><span class="lineno">  654</span>            Ztick  = make_cell(get(Hlims, &#39;ZTickMode&#39;));</div>
<div class="line"><a id="l00655" name="l00655"></a><span class="lineno">  655</span>            Xlabel = make_cell(get(Hlims, &#39;XTickLabelMode&#39;));</div>
<div class="line"><a id="l00656" name="l00656"></a><span class="lineno">  656</span>            Ylabel = make_cell(get(Hlims, &#39;YTickLabelMode&#39;));</div>
<div class="line"><a id="l00657" name="l00657"></a><span class="lineno">  657</span>            Zlabel = make_cell(get(Hlims, &#39;ZTickLabelMode&#39;));</div>
<div class="line"><a id="l00658" name="l00658"></a><span class="lineno">  658</span>            try  % XTickLabelRotation etc. was added in R2021a</div>
<div class="line"><a id="l00659" name="l00659"></a><span class="lineno">  659</span>                Xtkrot = make_cell(get(Hlims, &#39;XTickLabelRotationMode&#39;));</div>
<div class="line"><a id="l00660" name="l00660"></a><span class="lineno">  660</span>                Ytkrot = make_cell(get(Hlims, &#39;YTickLabelRotationMode&#39;));</div>
<div class="line"><a id="l00661" name="l00661"></a><span class="lineno">  661</span>                Ztkrot = make_cell(get(Hlims, &#39;ZTickLabelRotationMode&#39;));</div>
<div class="line"><a id="l00662" name="l00662"></a><span class="lineno">  662</span>            catch</div>
<div class="line"><a id="l00663" name="l00663"></a><span class="lineno">  663</span>            end % only in R2021a+</div>
<div class="line"><a id="l00664" name="l00664"></a><span class="lineno">  664</span>        end</div>
<div class="line"><a id="l00665" name="l00665"></a><span class="lineno">  665</span> </div>
<div class="line"><a id="l00666" name="l00666"></a><span class="lineno">  666</span>        % Set all axes limit and tick modes to manual, so the limits and ticks can&#39;t change</div>
<div class="line"><a id="l00667" name="l00667"></a><span class="lineno">  667</span>        % Fix MATLAB R2014b bug (issue <span class="preprocessor">#34): plot markers are not displayed when ZLimMode=&#39;manual&#39;</span></div>
<div class="line"><a id="l00668" name="l00668"></a><span class="lineno">  668</span>        set_manual_axes_modes(Hlims, <span class="charliteral">&#39;X&#39;</span>);</div>
<div class="line"><a id="l00669" name="l00669"></a><span class="lineno">  669</span>        set_manual_axes_modes(Hlims, <span class="charliteral">&#39;Y&#39;</span>);</div>
<div class="line"><a id="l00670" name="l00670"></a><span class="lineno">  670</span>        <span class="keywordflow">if</span> ~using_hg2(fig)</div>
<div class="line"><a id="l00671" name="l00671"></a><span class="lineno">  671</span>            set_manual_axes_modes(Hlims, <span class="charliteral">&#39;Z&#39;</span>);</div>
<div class="line"><a id="l00672" name="l00672"></a><span class="lineno">  672</span>        end</div>
<div class="line"><a id="l00673" name="l00673"></a><span class="lineno">  673</span>    <span class="keywordflow">catch</span></div>
<div class="line"><a id="l00674" name="l00674"></a><span class="lineno">  674</span>        % ignore - fix issue #4 (using HG2 on R2014a and earlier)</div>
<div class="line"><a id="l00675" name="l00675"></a><span class="lineno">  675</span>    end</div>
<div class="line"><a id="l00676" name="l00676"></a><span class="lineno">  676</span> </div>
<div class="line"><a id="l00677" name="l00677"></a><span class="lineno">  677</span>    % Fix issue #21 (bold TeX axes labels/titles in R2014b when exporting to EPS/PDF)</div>
<div class="line"><a id="l00678" name="l00678"></a><span class="lineno">  678</span>    try</div>
<div class="line"><a id="l00679" name="l00679"></a><span class="lineno">  679</span>        if <a class="code hl_function" href="using__hg2_8m.html#a54d6ede409f48c279dc31dd2f5a2036f">using_hg2</a>(fig) &amp;&amp; isvector(options)</div>
<div class="line"><a id="l00680" name="l00680"></a><span class="lineno">  680</span>            % Set the FontWeight of axes labels/titles to &#39;normal&#39;</div>
<div class="line"><a id="l00681" name="l00681"></a><span class="lineno">  681</span>            % Fix issue #69: set non-bold font only if the string contains symbols (\beta etc.)</div>
<div class="line"><a id="l00682" name="l00682"></a><span class="lineno">  682</span>            % Issue #243: only set non-bold font (workaround for issue #69) in R2015b or earlier</div>
<div class="line"><a id="l00683" name="l00683"></a><span class="lineno">  683</span>            try isPreR2016a = verLessThan(&#39;matlab&#39;,&#39;8.7&#39;); <span class="keywordflow">catch</span>, isPreR2016a = <span class="keyword">true</span>; end</div>
<div class="line"><a id="l00684" name="l00684"></a><span class="lineno">  684</span>            <span class="keywordflow">if</span> isPreR2016a</div>
<div class="line"><a id="l00685" name="l00685"></a><span class="lineno">  685</span>                texLabels = findall(fig, <span class="stringliteral">&#39;type&#39;</span>,<span class="stringliteral">&#39;text&#39;</span>, <span class="stringliteral">&#39;FontWeight&#39;</span>,<span class="stringliteral">&#39;bold&#39;</span>);</div>
<div class="line"><a id="l00686" name="l00686"></a><span class="lineno">  686</span>                symbolIdx = ~cellfun(<span class="stringliteral">&#39;isempty&#39;</span>,strfind({texLabels.String},<span class="charliteral">&#39;\&#39;</span>));</div>
<div class="line"><a id="l00687" name="l00687"></a><span class="lineno">  687</span>                <span class="keywordflow">if</span> ~isempty(symbolIdx)</div>
<div class="line"><a id="l00688" name="l00688"></a><span class="lineno">  688</span>                    set(texLabels(symbolIdx), <span class="stringliteral">&#39;FontWeight&#39;</span>,<span class="stringliteral">&#39;normal&#39;</span>);</div>
<div class="line"><a id="l00689" name="l00689"></a><span class="lineno">  689</span>                    <span class="keywordflow">if</span> ~options.silent</div>
<div class="line"><a id="l00690" name="l00690"></a><span class="lineno">  690</span>                        warning(<span class="stringliteral">&#39;savefig:BoldTexLabels&#39;</span>, <span class="stringliteral">&#39;Bold labels with Tex symbols converted into non-bold in savefig (fix for issue #69)&#39;</span>);</div>
<div class="line"><a id="l00691" name="l00691"></a><span class="lineno">  691</span>                    end</div>
<div class="line"><a id="l00692" name="l00692"></a><span class="lineno">  692</span>                end</div>
<div class="line"><a id="l00693" name="l00693"></a><span class="lineno">  693</span>            end</div>
<div class="line"><a id="l00694" name="l00694"></a><span class="lineno">  694</span>        end</div>
<div class="line"><a id="l00695" name="l00695"></a><span class="lineno">  695</span>    <span class="keywordflow">catch</span></div>
<div class="line"><a id="l00696" name="l00696"></a><span class="lineno">  696</span>        % ignore</div>
<div class="line"><a id="l00697" name="l00697"></a><span class="lineno">  697</span>    end</div>
<div class="line"><a id="l00698" name="l00698"></a><span class="lineno">  698</span> </div>
<div class="line"><a id="l00699" name="l00699"></a><span class="lineno">  699</span>    % Fix issue #42: non-normalized annotations on HG1 (internal MATLAB bug)</div>
<div class="line"><a id="l00700" name="l00700"></a><span class="lineno">  700</span>    annotationHandles = [];</div>
<div class="line"><a id="l00701" name="l00701"></a><span class="lineno">  701</span>    <span class="keywordflow">try</span></div>
<div class="line"><a id="l00702" name="l00702"></a><span class="lineno">  702</span>        <span class="keywordflow">if</span> ~using_hg2(fig)</div>
<div class="line"><a id="l00703" name="l00703"></a><span class="lineno">  703</span>            annotationHandles = findall(fig,<span class="stringliteral">&#39;Type&#39;</span>,<span class="stringliteral">&#39;hggroup&#39;</span>,<span class="stringliteral">&#39;-and&#39;</span>,<span class="stringliteral">&#39;-property&#39;</span>,<span class="stringliteral">&#39;Units&#39;</span>,<span class="stringliteral">&#39;-and&#39;</span>,<span class="stringliteral">&#39;-not&#39;</span>,<span class="stringliteral">&#39;Units&#39;</span>,<span class="stringliteral">&#39;norm&#39;</span>);</div>
<div class="line"><a id="l00704" name="l00704"></a><span class="lineno">  704</span>            <span class="keywordflow">try</span>  % suggested by Jess Pestana Puerta (jespestana) 30/9/2015</div>
<div class="line"><a id="l00705" name="l00705"></a><span class="lineno">  705</span>                originalUnits = get(annotationHandles,<span class="stringliteral">&#39;Units&#39;</span>);</div>
<div class="line"><a id="l00706" name="l00706"></a><span class="lineno">  706</span>                set(annotationHandles,<span class="stringliteral">&#39;Units&#39;</span>,<span class="stringliteral">&#39;norm&#39;</span>);</div>
<div class="line"><a id="l00707" name="l00707"></a><span class="lineno">  707</span>            <span class="keywordflow">catch</span></div>
<div class="line"><a id="l00708" name="l00708"></a><span class="lineno">  708</span>            end</div>
<div class="line"><a id="l00709" name="l00709"></a><span class="lineno">  709</span>        end</div>
<div class="line"><a id="l00710" name="l00710"></a><span class="lineno">  710</span>    <span class="keywordflow">catch</span></div>
<div class="line"><a id="l00711" name="l00711"></a><span class="lineno">  711</span>        % should never happen, but ignore in any <span class="keywordflow">case</span> - issue #50</div>
<div class="line"><a id="l00712" name="l00712"></a><span class="lineno">  712</span>    end</div>
<div class="line"><a id="l00713" name="l00713"></a><span class="lineno">  713</span> </div>
<div class="line"><a id="l00714" name="l00714"></a><span class="lineno">  714</span>    % Fix issue #46: Ghostscript crash if figure units &lt;&gt; pixels</div>
<div class="line"><a id="l00715" name="l00715"></a><span class="lineno">  715</span>    pos = get(fig, &#39;Position&#39;);  % Fix issues #313, #314</div>
<div class="line"><a id="l00716" name="l00716"></a><span class="lineno">  716</span>    oldFigUnits = get(fig,<span class="stringliteral">&#39;Units&#39;</span>);</div>
<div class="line"><a id="l00717" name="l00717"></a><span class="lineno">  717</span>    set(fig,<span class="stringliteral">&#39;Units&#39;</span>,<span class="stringliteral">&#39;pixels&#39;</span>);</div>
<div class="line"><a id="l00718" name="l00718"></a><span class="lineno">  718</span>    pixelpos = get(fig, <span class="stringliteral">&#39;Position&#39;</span>); %=getpixelposition(fig);</div>
<div class="line"><a id="l00719" name="l00719"></a><span class="lineno">  719</span> </div>
<div class="line"><a id="l00720" name="l00720"></a><span class="lineno">  720</span>    tcol = get(fig, <span class="stringliteral">&#39;Color&#39;</span>);</div>
<div class="line"><a id="l00721" name="l00721"></a><span class="lineno">  721</span>    tcol_orig = tcol;</div>
<div class="line"><a id="l00722" name="l00722"></a><span class="lineno">  722</span> </div>
<div class="line"><a id="l00723" name="l00723"></a><span class="lineno">  723</span>    % Set to print exactly what is there</div>
<div class="line"><a id="l00724" name="l00724"></a><span class="lineno">  724</span>    <span class="keywordflow">if</span> options.invert_hardcopy</div>
<div class="line"><a id="l00725" name="l00725"></a><span class="lineno">  725</span>        <span class="keywordflow">try</span> set(fig, <span class="stringliteral">&#39;InvertHardcopy&#39;</span>, <span class="stringliteral">&#39;off&#39;</span>); <span class="keywordflow">catch</span>, end  % fail silently in uifigures</div>
<div class="line"><a id="l00726" name="l00726"></a><span class="lineno">  726</span>    end</div>
<div class="line"><a id="l00727" name="l00727"></a><span class="lineno">  727</span> </div>
<div class="line"><a id="l00728" name="l00728"></a><span class="lineno">  728</span>    % Set the renderer</div>
<div class="line"><a id="l00729" name="l00729"></a><span class="lineno">  729</span>    <span class="keywordflow">switch</span> options.renderer</div>
<div class="line"><a id="l00730" name="l00730"></a><span class="lineno">  730</span>        <span class="keywordflow">case</span> 1</div>
<div class="line"><a id="l00731" name="l00731"></a><span class="lineno">  731</span>            renderer = <span class="stringliteral">&#39;-opengl&#39;</span>;</div>
<div class="line"><a id="l00732" name="l00732"></a><span class="lineno">  732</span>        <span class="keywordflow">case</span> 2</div>
<div class="line"><a id="l00733" name="l00733"></a><span class="lineno">  733</span>            renderer = <span class="stringliteral">&#39;-zbuffer&#39;</span>;</div>
<div class="line"><a id="l00734" name="l00734"></a><span class="lineno">  734</span>        <span class="keywordflow">case</span> 3</div>
<div class="line"><a id="l00735" name="l00735"></a><span class="lineno">  735</span>            renderer = <span class="stringliteral">&#39;-painters&#39;</span>;</div>
<div class="line"><a id="l00736" name="l00736"></a><span class="lineno">  736</span>        otherwise</div>
<div class="line"><a id="l00737" name="l00737"></a><span class="lineno">  737</span>            renderer = <span class="stringliteral">&#39;-opengl&#39;</span>; % Default <span class="keywordflow">for</span> bitmaps</div>
<div class="line"><a id="l00738" name="l00738"></a><span class="lineno">  738</span>    end</div>
<div class="line"><a id="l00739" name="l00739"></a><span class="lineno">  739</span> </div>
<div class="line"><a id="l00740" name="l00740"></a><span class="lineno">  740</span>    % Initialize</div>
<div class="line"><a id="l00741" name="l00741"></a><span class="lineno">  741</span>    tmp_nam = <span class="stringliteral">&#39;&#39;</span>;</div>
<div class="line"><a id="l00742" name="l00742"></a><span class="lineno">  742</span>    exported_files = 0;</div>
<div class="line"><a id="l00743" name="l00743"></a><span class="lineno">  743</span> </div>
<div class="line"><a id="l00744" name="l00744"></a><span class="lineno">  744</span>    % Main processing</div>
<div class="line"><a id="l00745" name="l00745"></a><span class="lineno">  745</span>    <span class="keywordflow">try</span></div>
<div class="line"><a id="l00746" name="l00746"></a><span class="lineno">  746</span>        oldWarn = warning;</div>
<div class="line"><a id="l00747" name="l00747"></a><span class="lineno">  747</span> </div>
<div class="line"><a id="l00748" name="l00748"></a><span class="lineno">  748</span>        % Export bitmap formats first</div>
<div class="line"><a id="l00749" name="l00749"></a><span class="lineno">  749</span>        <span class="keywordflow">if</span> isbitmap(options)</div>
<div class="line"><a id="l00750" name="l00750"></a><span class="lineno">  750</span>            <span class="keywordflow">if</span> abs(options.bb_padding) &gt; 1</div>
<div class="line"><a id="l00751" name="l00751"></a><span class="lineno">  751</span>                displaySuggestedWorkarounds = <span class="keyword">false</span>;</div>
<div class="line"><a id="l00752" name="l00752"></a><span class="lineno">  752</span>                error(<span class="stringliteral">&#39;savefig:padding&#39;</span>,<span class="stringliteral">&#39;For bitmap output (png,jpg,tif,bmp) the padding value (-p) must be between -1&lt;p&lt;1&#39;</span>)</div>
<div class="line"><a id="l00753" name="l00753"></a><span class="lineno">  753</span>            end</div>
<div class="line"><a id="l00754" name="l00754"></a><span class="lineno">  754</span>            % Print large <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> to array</div>
<div class="line"><a id="l00755" name="l00755"></a><span class="lineno">  755</span>            [A, tcol, alpha] = getFigImage(fig, magnify, renderer, options, pixelpos);</div>
<div class="line"><a id="l00756" name="l00756"></a><span class="lineno">  756</span>            % Get the background colour</div>
<div class="line"><a id="l00757" name="l00757"></a><span class="lineno">  757</span>            if options.transparent</div>
<div class="line"><a id="l00758" name="l00758"></a><span class="lineno">  758</span>                if (options.png || options.alpha || options.gif || options.tif)</div>
<div class="line"><a id="l00759" name="l00759"></a><span class="lineno">  759</span>                    try %options.aa_factor &lt; 4  % <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1split2real.html#ab54ab7b589a005c1a2f537b0af530de3">default</a>, faster but lines are not anti-aliased</div>
<div class="line"><a id="l00760" name="l00760"></a><span class="lineno">  760</span>                        % If all pixels are indicated as opaque (<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#a3dff586d2788a00dcaa39c7b4ba08d33">i</a>.e. something went wrong with the Java screen-capture)</div>
<div class="line"><a id="l00761" name="l00761"></a><span class="lineno">  761</span>                        isBgColor = A(:,:,1) == tcol(1) &amp; ...</div>
<div class="line"><a id="l00762" name="l00762"></a><span class="lineno">  762</span>                                    A(:,:,2) == tcol(2) &amp; ...</div>
<div class="line"><a id="l00763" name="l00763"></a><span class="lineno">  763</span>                                    A(:,:,3) == tcol(3);</div>
<div class="line"><a id="l00764" name="l00764"></a><span class="lineno">  764</span>                        % Set the bgcolor pixels to be fully-transparent</div>
<div class="line"><a id="l00765" name="l00765"></a><span class="lineno">  765</span>                        A(repmat(isBgColor,[1,1,3])) = 254; %=off-white % TODO: more memory efficient without repmat</div>
<div class="line"><a id="l00766" name="l00766"></a><span class="lineno">  766</span>                        alpha(isBgColor) = 0;</div>
<div class="line"><a id="l00767" name="l00767"></a><span class="lineno">  767</span>                    catch  % older logic - much slower and causes figure flicker</div>
<div class="line"><a id="l00768" name="l00768"></a><span class="lineno">  768</span>                        if true  % to fold the code below...</div>
<div class="line"><a id="l00769" name="l00769"></a><span class="lineno">  769</span>                            % Get out an alpha channel</div>
<div class="line"><a id="l00770" name="l00770"></a><span class="lineno">  770</span>                            % MATLAB &quot;feature&quot;: black colorbar axes can change to white and vice versa!</div>
<div class="line"><a id="l00771" name="l00771"></a><span class="lineno">  771</span>                            hCB = findall(fig, &#39;Type&#39;,&#39;axes&#39;, &#39;Tag&#39;,&#39;Colorbar&#39;);</div>
<div class="line"><a id="l00772" name="l00772"></a><span class="lineno">  772</span>                            if isempty(hCB)</div>
<div class="line"><a id="l00773" name="l00773"></a><span class="lineno">  773</span>                                yCol = [];</div>
<div class="line"><a id="l00774" name="l00774"></a><span class="lineno">  774</span>                                xCol = [];</div>
<div class="line"><a id="l00775" name="l00775"></a><span class="lineno">  775</span>                            else</div>
<div class="line"><a id="l00776" name="l00776"></a><span class="lineno">  776</span>                                yCol = get(hCB, &#39;YColor&#39;);</div>
<div class="line"><a id="l00777" name="l00777"></a><span class="lineno">  777</span>                                xCol = get(hCB, &#39;XColor&#39;);</div>
<div class="line"><a id="l00778" name="l00778"></a><span class="lineno">  778</span>                                if iscell(yCol)</div>
<div class="line"><a id="l00779" name="l00779"></a><span class="lineno">  779</span>                                    yCol = cell2mat(yCol);</div>
<div class="line"><a id="l00780" name="l00780"></a><span class="lineno">  780</span>                                    xCol = cell2mat(xCol);</div>
<div class="line"><a id="l00781" name="l00781"></a><span class="lineno">  781</span>                                end</div>
<div class="line"><a id="l00782" name="l00782"></a><span class="lineno">  782</span>                                yCol = sum(yCol, 2);</div>
<div class="line"><a id="l00783" name="l00783"></a><span class="lineno">  783</span>                                xCol = sum(xCol, 2);</div>
<div class="line"><a id="l00784" name="l00784"></a><span class="lineno">  784</span>                            end</div>
<div class="line"><a id="l00785" name="l00785"></a><span class="lineno">  785</span>                            % MATLAB &quot;feature&quot;: apparently figure size can change when changing</div>
<div class="line"><a id="l00786" name="l00786"></a><span class="lineno">  786</span>                            % colour in -nodisplay mode</div>
<div class="line"><a id="l00787" name="l00787"></a><span class="lineno">  787</span>                            % Set the background colour to black, and set size in case it was</div>
<div class="line"><a id="l00788" name="l00788"></a><span class="lineno">  788</span>                            % changed internally</div>
<div class="line"><a id="l00789" name="l00789"></a><span class="lineno">  789</span>                            set(fig, &#39;Color&#39;, &#39;k&#39;, &#39;Position&#39;, pos);</div>
<div class="line"><a id="l00790" name="l00790"></a><span class="lineno">  790</span>                            % Correct the colorbar axes colours</div>
<div class="line"><a id="l00791" name="l00791"></a><span class="lineno">  791</span>                            set(hCB(yCol==0), &#39;YColor&#39;, [0 0 0]);</div>
<div class="line"><a id="l00792" name="l00792"></a><span class="lineno">  792</span>                            set(hCB(xCol==0), &#39;XColor&#39;, [0 0 0]);</div>
<div class="line"><a id="l00793" name="l00793"></a><span class="lineno">  793</span>                            % Correct black axes color to off-black (issue <span class="preprocessor">#249)</span></div>
<div class="line"><a id="l00794" name="l00794"></a><span class="lineno">  794</span>                            hAxes = findall(fig, <span class="stringliteral">&#39;Type&#39;</span>,<span class="stringliteral">&#39;axes&#39;</span>);</div>
<div class="line"><a id="l00795" name="l00795"></a><span class="lineno">  795</span>                            [hXs,hXrs] = fixBlackAxle(hAxes, <span class="stringliteral">&#39;XColor&#39;</span>);</div>
<div class="line"><a id="l00796" name="l00796"></a><span class="lineno">  796</span>                            [hYs,hYrs] = fixBlackAxle(hAxes, <span class="stringliteral">&#39;YColor&#39;</span>);</div>
<div class="line"><a id="l00797" name="l00797"></a><span class="lineno">  797</span>                            [hZs,hZrs] = fixBlackAxle(hAxes, <span class="stringliteral">&#39;ZColor&#39;</span>);</div>
<div class="line"><a id="l00798" name="l00798"></a><span class="lineno">  798</span> </div>
<div class="line"><a id="l00799" name="l00799"></a><span class="lineno">  799</span>                            % The following code might cause out-of-memory errors</div>
<div class="line"><a id="l00800" name="l00800"></a><span class="lineno">  800</span>                            try</div>
<div class="line"><a id="l00801" name="l00801"></a><span class="lineno">  801</span>                                % Print large <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> to array</div>
<div class="line"><a id="l00802" name="l00802"></a><span class="lineno">  802</span>                                B = <a class="code hl_function" href="print2array_8m.html#aaf500360abeaa0f66c501c642cfc45e5">print2array</a>(fig, magnify, renderer);</div>
<div class="line"><a id="l00803" name="l00803"></a><span class="lineno">  803</span>                                % Downscale the image</div>
<div class="line"><a id="l00804" name="l00804"></a><span class="lineno">  804</span>                                B = downsize(single(B), options.aa_factor);</div>
<div class="line"><a id="l00805" name="l00805"></a><span class="lineno">  805</span>                            <span class="keywordflow">catch</span></div>
<div class="line"><a id="l00806" name="l00806"></a><span class="lineno">  806</span>                                % This is more conservative in memory, but kills transparency (issue #58)</div>
<div class="line"><a id="l00807" name="l00807"></a><span class="lineno">  807</span>                                B = single(<a class="code hl_function" href="print2array_8m.html#aaf500360abeaa0f66c501c642cfc45e5">print2array</a>(fig, magnify/options.aa_factor, renderer));</div>
<div class="line"><a id="l00808" name="l00808"></a><span class="lineno">  808</span>                            end</div>
<div class="line"><a id="l00809" name="l00809"></a><span class="lineno">  809</span> </div>
<div class="line"><a id="l00810" name="l00810"></a><span class="lineno">  810</span>                            % Set background to white (and set size)</div>
<div class="line"><a id="l00811" name="l00811"></a><span class="lineno">  811</span>                            set(fig, <span class="stringliteral">&#39;Color&#39;</span>, <span class="charliteral">&#39;w&#39;</span>, <span class="stringliteral">&#39;Position&#39;</span>, pos);</div>
<div class="line"><a id="l00812" name="l00812"></a><span class="lineno">  812</span>                            % Correct the colorbar axes colours</div>
<div class="line"><a id="l00813" name="l00813"></a><span class="lineno">  813</span>                            set(hCB(yCol==3), <span class="stringliteral">&#39;YColor&#39;</span>, [1 1 1]);</div>
<div class="line"><a id="l00814" name="l00814"></a><span class="lineno">  814</span>                            set(hCB(xCol==3), <span class="stringliteral">&#39;XColor&#39;</span>, [1 1 1]);</div>
<div class="line"><a id="l00815" name="l00815"></a><span class="lineno">  815</span>                            % Revert the black axes colors</div>
<div class="line"><a id="l00816" name="l00816"></a><span class="lineno">  816</span>                            set(hXs, <span class="stringliteral">&#39;XColor&#39;</span>, [0,0,0]);</div>
<div class="line"><a id="l00817" name="l00817"></a><span class="lineno">  817</span>                            set(hYs, <span class="stringliteral">&#39;YColor&#39;</span>, [0,0,0]);</div>
<div class="line"><a id="l00818" name="l00818"></a><span class="lineno">  818</span>                            set(hZs, <span class="stringliteral">&#39;ZColor&#39;</span>, [0,0,0]);</div>
<div class="line"><a id="l00819" name="l00819"></a><span class="lineno">  819</span>                            set(hXrs, <span class="stringliteral">&#39;Color&#39;</span>, [0,0,0]);</div>
<div class="line"><a id="l00820" name="l00820"></a><span class="lineno">  820</span>                            set(hYrs, <span class="stringliteral">&#39;Color&#39;</span>, [0,0,0]);</div>
<div class="line"><a id="l00821" name="l00821"></a><span class="lineno">  821</span>                            set(hZrs, <span class="stringliteral">&#39;Color&#39;</span>, [0,0,0]);</div>
<div class="line"><a id="l00822" name="l00822"></a><span class="lineno">  822</span> </div>
<div class="line"><a id="l00823" name="l00823"></a><span class="lineno">  823</span>                            % The following code might cause out-of-memory errors</div>
<div class="line"><a id="l00824" name="l00824"></a><span class="lineno">  824</span>                            try</div>
<div class="line"><a id="l00825" name="l00825"></a><span class="lineno">  825</span>                                % Print large <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> to array</div>
<div class="line"><a id="l00826" name="l00826"></a><span class="lineno">  826</span>                                A = <a class="code hl_function" href="print2array_8m.html#aaf500360abeaa0f66c501c642cfc45e5">print2array</a>(fig, magnify, renderer);</div>
<div class="line"><a id="l00827" name="l00827"></a><span class="lineno">  827</span>                                % Downscale the image</div>
<div class="line"><a id="l00828" name="l00828"></a><span class="lineno">  828</span>                                A = downsize(single(A), options.aa_factor);</div>
<div class="line"><a id="l00829" name="l00829"></a><span class="lineno">  829</span>                            <span class="keywordflow">catch</span></div>
<div class="line"><a id="l00830" name="l00830"></a><span class="lineno">  830</span>                                % This is more conservative in memory, but kills transparency (issue #58)</div>
<div class="line"><a id="l00831" name="l00831"></a><span class="lineno">  831</span>                                A = single(<a class="code hl_function" href="print2array_8m.html#aaf500360abeaa0f66c501c642cfc45e5">print2array</a>(fig, magnify/options.aa_factor, renderer));</div>
<div class="line"><a id="l00832" name="l00832"></a><span class="lineno">  832</span>                            end</div>
<div class="line"><a id="l00833" name="l00833"></a><span class="lineno">  833</span> </div>
<div class="line"><a id="l00834" name="l00834"></a><span class="lineno">  834</span>                            % Workaround <span class="keywordflow">for</span> issue #15</div>
<div class="line"><a id="l00835" name="l00835"></a><span class="lineno">  835</span>                            szA = size(A);</div>
<div class="line"><a id="l00836" name="l00836"></a><span class="lineno">  836</span>                            szB = size(B);</div>
<div class="line"><a id="l00837" name="l00837"></a><span class="lineno">  837</span>                            <span class="keywordflow">if</span> ~isequal(szA,szB)</div>
<div class="line"><a id="l00838" name="l00838"></a><span class="lineno">  838</span>                                A = A(1:min(szA(1),szB(1)), 1:min(szA(2),szB(2)), :);</div>
<div class="line"><a id="l00839" name="l00839"></a><span class="lineno">  839</span>                                B = B(1:min(szA(1),szB(1)), 1:min(szA(2),szB(2)), :);</div>
<div class="line"><a id="l00840" name="l00840"></a><span class="lineno">  840</span>                                <span class="keywordflow">if</span> ~options.silent</div>
<div class="line"><a id="l00841" name="l00841"></a><span class="lineno">  841</span>                                    warning(<span class="stringliteral">&#39;savefig:bitmap:sizeMismatch&#39;</span>,<span class="stringliteral">&#39;Problem detected by savefig generation of a bitmap image; the generated export may look bad. Try to reduce the figure size to fit the screen, or avoid using savefig&#39;</span><span class="stringliteral">&#39;s -transparent option.&#39;</span>)</div>
<div class="line"><a id="l00842" name="l00842"></a><span class="lineno">  842</span>                                end</div>
<div class="line"><a id="l00843" name="l00843"></a><span class="lineno">  843</span>                            end</div>
<div class="line"><a id="l00844" name="l00844"></a><span class="lineno">  844</span>                            % Compute the alpha map</div>
<div class="line"><a id="l00845" name="l00845"></a><span class="lineno">  845</span>                            alpha = round(sum(B - A, 3)) / (255 * 3) + 1;</div>
<div class="line"><a id="l00846" name="l00846"></a><span class="lineno">  846</span>                            A = alpha;</div>
<div class="line"><a id="l00847" name="l00847"></a><span class="lineno">  847</span>                            A(A==0) = 1;</div>
<div class="line"><a id="l00848" name="l00848"></a><span class="lineno">  848</span>                            A = B ./ A(:,:,[1 1 1]);</div>
<div class="line"><a id="l00849" name="l00849"></a><span class="lineno">  849</span>                            clear B</div>
<div class="line"><a id="l00850" name="l00850"></a><span class="lineno">  850</span>                        end %folded code...</div>
<div class="line"><a id="l00851" name="l00851"></a><span class="lineno">  851</span>                    end</div>
<div class="line"><a id="l00852" name="l00852"></a><span class="lineno">  852</span>                    %A = uint8(A);</div>
<div class="line"><a id="l00853" name="l00853"></a><span class="lineno">  853</span>                else  % JPG,BMP</div>
<div class="line"><a id="l00854" name="l00854"></a><span class="lineno">  854</span>                    warning(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:unsupported:background&#39;,&#39;MATLAB cannot set transparency when exporting JPG/BMP image files (see imwrite function documentation)&#39;)</div>
<div class="line"><a id="l00855" name="l00855"></a><span class="lineno">  855</span>                end</div>
<div class="line"><a id="l00856" name="l00856"></a><span class="lineno">  856</span>            end</div>
<div class="line"><a id="l00857" name="l00857"></a><span class="lineno">  857</span>            % Downscale the image if its size was increased (for anti-aliasing)</div>
<div class="line"><a id="l00858" name="l00858"></a><span class="lineno">  858</span>            if size(A,1) &gt; 1.1 * options.magnify * pixelpos(4) %1.1 to avoid edge-cases</div>
<div class="line"><a id="l00859" name="l00859"></a><span class="lineno">  859</span>                % Downscale the image</div>
<div class="line"><a id="l00860" name="l00860"></a><span class="lineno">  860</span>                A     = downsize(A,     options.aa_factor);</div>
<div class="line"><a id="l00861" name="l00861"></a><span class="lineno">  861</span>                alpha = downsize(alpha, options.aa_factor);</div>
<div class="line"><a id="l00862" name="l00862"></a><span class="lineno">  862</span>            end</div>
<div class="line"><a id="l00863" name="l00863"></a><span class="lineno">  863</span>            % Crop the margins based on the bgcolor, if requested</div>
<div class="line"><a id="l00864" name="l00864"></a><span class="lineno">  864</span>            if options.crop</div>
<div class="line"><a id="l00865" name="l00865"></a><span class="lineno">  865</span>                %[alpha, v] = <a class="code hl_function" href="crop__borders_8m.html#a0b5568512ef21430092459ba3ac1e274">crop_borders</a>(alpha, 0, 1, options.crop_amounts);</div>
<div class="line"><a id="l00866" name="l00866"></a><span class="lineno">  866</span>                %A = A(v(1):v(2),v(3):v(4),:);</div>
<div class="line"><a id="l00867" name="l00867"></a><span class="lineno">  867</span>                [A, vA, vB] = <a class="code hl_function" href="crop__borders_8m.html#a0b5568512ef21430092459ba3ac1e274">crop_borders</a>(A, tcol, options.bb_padding, options.crop_amounts);</div>
<div class="line"><a id="l00868" name="l00868"></a><span class="lineno">  868</span>                if ~any(isnan(vB)) % positive padding</div>
<div class="line"><a id="l00869" name="l00869"></a><span class="lineno">  869</span>                    sz = size(A); % Fix issue <span class="preprocessor">#308</span></div>
<div class="line"><a id="l00870" name="l00870"></a><span class="lineno">  870</span>                    B = repmat(uint8(zeros(1,1,size(alpha,3))),sz([1,2])); % Fix issue #307 %=zeros(sz([1,2]),<span class="stringliteral">&#39;uint8&#39;</span>);</div>
<div class="line"><a id="l00871" name="l00871"></a><span class="lineno">  871</span>                    B(vB(1):vB(2), vB(3):vB(4), :) = alpha(vA(1):vA(2), vA(3):vA(4), :); % ADDED BY OH</div>
<div class="line"><a id="l00872" name="l00872"></a><span class="lineno">  872</span>                    alpha = B;</div>
<div class="line"><a id="l00873" name="l00873"></a><span class="lineno">  873</span>                <span class="keywordflow">else</span>  % negative padding</div>
<div class="line"><a id="l00874" name="l00874"></a><span class="lineno">  874</span>                    alpha = alpha(vA(1):vA(2), vA(3):vA(4), :);</div>
<div class="line"><a id="l00875" name="l00875"></a><span class="lineno">  875</span>                end</div>
<div class="line"><a id="l00876" name="l00876"></a><span class="lineno">  876</span>            end</div>
<div class="line"><a id="l00877" name="l00877"></a><span class="lineno">  877</span>            % Get the non-alpha image (presumably unneeded with Java-based screen-capture)</div>
<div class="line"><a id="l00878" name="l00878"></a><span class="lineno">  878</span>            %{</div>
<div class="line"><a id="l00879" name="l00879"></a><span class="lineno">  879</span>            <span class="keywordflow">if</span> isbitmap(options)</div>
<div class="line"><a id="l00880" name="l00880"></a><span class="lineno">  880</span>                % Modify the intensity of the pixels<span class="stringliteral">&#39; RGB values based on their alpha transparency</span></div>
<div class="line"><a id="l00881" name="l00881"></a><span class="lineno">  881</span><span class="stringliteral">                % TODO: not sure that we want this with Java screen-capture values!</span></div>
<div class="line"><a id="l00882" name="l00882"></a><span class="lineno">  882</span><span class="stringliteral">                alph = alpha(:,:,ones(1, size(A, 3)));</span></div>
<div class="line"><a id="l00883" name="l00883"></a><span class="lineno">  883</span><span class="stringliteral">                A = uint8(single(A) .* alph + 255 * (1 - alph));</span></div>
<div class="line"><a id="l00884" name="l00884"></a><span class="lineno">  884</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l00885" name="l00885"></a><span class="lineno">  885</span><span class="stringliteral">            %}</span></div>
<div class="line"><a id="l00886" name="l00886"></a><span class="lineno">  886</span><span class="stringliteral">            % Revert the figure properties back to their original values</span></div>
<div class="line"><a id="l00887" name="l00887"></a><span class="lineno">  887</span><span class="stringliteral">            set(fig, &#39;</span>Units<span class="stringliteral">&#39;,oldFigUnits, &#39;</span>Position<span class="stringliteral">&#39;,pos, &#39;</span>Color<span class="stringliteral">&#39;,tcol_orig);</span></div>
<div class="line"><a id="l00888" name="l00888"></a><span class="lineno">  888</span><span class="stringliteral">            % Check for greyscale images</span></div>
<div class="line"><a id="l00889" name="l00889"></a><span class="lineno">  889</span><span class="stringliteral">            if options.colourspace == 2</span></div>
<div class="line"><a id="l00890" name="l00890"></a><span class="lineno">  890</span><span class="stringliteral">                % Convert to greyscale</span></div>
<div class="line"><a id="l00891" name="l00891"></a><span class="lineno">  891</span><span class="stringliteral">                A = rgb2grey(A);</span></div>
<div class="line"><a id="l00892" name="l00892"></a><span class="lineno">  892</span><span class="stringliteral">            else</span></div>
<div class="line"><a id="l00893" name="l00893"></a><span class="lineno">  893</span><span class="stringliteral">                % Return only one channel for greyscale</span></div>
<div class="line"><a id="l00894" name="l00894"></a><span class="lineno">  894</span><span class="stringliteral">                A = check_greyscale(A);</span></div>
<div class="line"><a id="l00895" name="l00895"></a><span class="lineno">  895</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l00896" name="l00896"></a><span class="lineno">  896</span><span class="stringliteral">            % Change alpha from [0:255] uint8 =&gt; [0:1] single from here onward:</span></div>
<div class="line"><a id="l00897" name="l00897"></a><span class="lineno">  897</span><span class="stringliteral">            alpha = single(alpha) / 255;</span></div>
<div class="line"><a id="l00898" name="l00898"></a><span class="lineno">  898</span><span class="stringliteral">            % Clamp the image&#39;</span>s min/max size (<span class="keywordflow">if</span> specified)</div>
<div class="line"><a id="l00899" name="l00899"></a><span class="lineno">  899</span>            sz = size(A); sz(3:end) = []; %sz=size(A,1:2); %issue #374 &amp; X. Xu PM</div>
<div class="line"><a id="l00900" name="l00900"></a><span class="lineno">  900</span>            szNew = options.min_size;</div>
<div class="line"><a id="l00901" name="l00901"></a><span class="lineno">  901</span>            <span class="keywordflow">if</span> numel(szNew) == 2</div>
<div class="line"><a id="l00902" name="l00902"></a><span class="lineno">  902</span>                szNew(isinf(szNew)) = 0;</div>
<div class="line"><a id="l00903" name="l00903"></a><span class="lineno">  903</span>                szNew = round(max(sz,szNew,<span class="stringliteral">&#39;includenan&#39;</span>));</div>
<div class="line"><a id="l00904" name="l00904"></a><span class="lineno">  904</span>                idxToCompare = ~isnan(szNew);</div>
<div class="line"><a id="l00905" name="l00905"></a><span class="lineno">  905</span>                <span class="keywordflow">if</span> ~isequal(sz(idxToCompare), szNew(idxToCompare))</div>
<div class="line"><a id="l00906" name="l00906"></a><span class="lineno">  906</span>                    A     = imresize(A,szNew);</div>
<div class="line"><a id="l00907" name="l00907"></a><span class="lineno">  907</span>                    alpha = imresize(alpha,szNew);</div>
<div class="line"><a id="l00908" name="l00908"></a><span class="lineno">  908</span>                end</div>
<div class="line"><a id="l00909" name="l00909"></a><span class="lineno">  909</span>            end</div>
<div class="line"><a id="l00910" name="l00910"></a><span class="lineno">  910</span>            szNew = options.max_size;</div>
<div class="line"><a id="l00911" name="l00911"></a><span class="lineno">  911</span>            <span class="keywordflow">if</span> numel(szNew) == 2</div>
<div class="line"><a id="l00912" name="l00912"></a><span class="lineno">  912</span>                szNew(szNew &lt;= 1) = inf;</div>
<div class="line"><a id="l00913" name="l00913"></a><span class="lineno">  913</span>                szNew = round(min(sz,szNew,<span class="stringliteral">&#39;includenan&#39;</span>));</div>
<div class="line"><a id="l00914" name="l00914"></a><span class="lineno">  914</span>                idxToCompare = ~isnan(szNew);</div>
<div class="line"><a id="l00915" name="l00915"></a><span class="lineno">  915</span>                <span class="keywordflow">if</span> ~isequal(sz(idxToCompare), szNew(idxToCompare))</div>
<div class="line"><a id="l00916" name="l00916"></a><span class="lineno">  916</span>                    A     = imresize(A,szNew);</div>
<div class="line"><a id="l00917" name="l00917"></a><span class="lineno">  917</span>                    alpha = imresize(alpha,szNew);</div>
<div class="line"><a id="l00918" name="l00918"></a><span class="lineno">  918</span>                end</div>
<div class="line"><a id="l00919" name="l00919"></a><span class="lineno">  919</span>            end</div>
<div class="line"><a id="l00920" name="l00920"></a><span class="lineno">  920</span>            % Clamp the image<span class="stringliteral">&#39;s fixed size (if specified) - has to be done last!</span></div>
<div class="line"><a id="l00921" name="l00921"></a><span class="lineno">  921</span><span class="stringliteral">            szNew = options.fixed_size;</span></div>
<div class="line"><a id="l00922" name="l00922"></a><span class="lineno">  922</span><span class="stringliteral">            if numel(szNew) == 2</span></div>
<div class="line"><a id="l00923" name="l00923"></a><span class="lineno">  923</span><span class="stringliteral">                if szNew(1) &lt; 0, szNew(1) = round(-sz(1)*szNew(1)/100); end</span></div>
<div class="line"><a id="l00924" name="l00924"></a><span class="lineno">  924</span><span class="stringliteral">                if szNew(2) &lt; 0, szNew(2) = round(-sz(2)*szNew(2)/100); end</span></div>
<div class="line"><a id="l00925" name="l00925"></a><span class="lineno">  925</span><span class="stringliteral">                szNew(szNew &lt;= 1) = inf;</span></div>
<div class="line"><a id="l00926" name="l00926"></a><span class="lineno">  926</span><span class="stringliteral">                szNew(isinf(szNew)) = sz(isinf(szNew));  % unchanged dimensions</span></div>
<div class="line"><a id="l00927" name="l00927"></a><span class="lineno">  927</span><span class="stringliteral">                idxToCompare = ~isnan(szNew);</span></div>
<div class="line"><a id="l00928" name="l00928"></a><span class="lineno">  928</span><span class="stringliteral">                if ~isequal(sz(idxToCompare), szNew(idxToCompare))</span></div>
<div class="line"><a id="l00929" name="l00929"></a><span class="lineno">  929</span><span class="stringliteral">                    A     = imresize(A,szNew);</span></div>
<div class="line"><a id="l00930" name="l00930"></a><span class="lineno">  930</span><span class="stringliteral">                    alpha = imresize(alpha,szNew);</span></div>
<div class="line"><a id="l00931" name="l00931"></a><span class="lineno">  931</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l00932" name="l00932"></a><span class="lineno">  932</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l00933" name="l00933"></a><span class="lineno">  933</span><span class="stringliteral">            % Outputs</span></div>
<div class="line"><a id="l00934" name="l00934"></a><span class="lineno">  934</span><span class="stringliteral">            if options.im</span></div>
<div class="line"><a id="l00935" name="l00935"></a><span class="lineno">  935</span><span class="stringliteral">                imageData = A;</span></div>
<div class="line"><a id="l00936" name="l00936"></a><span class="lineno">  936</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l00937" name="l00937"></a><span class="lineno">  937</span><span class="stringliteral">            if options.alpha</span></div>
<div class="line"><a id="l00938" name="l00938"></a><span class="lineno">  938</span><span class="stringliteral">                imageData = A;</span></div>
<div class="line"><a id="l00939" name="l00939"></a><span class="lineno">  939</span><span class="stringliteral">                %alpha = ones(size(A, 1), size(A, 2), &#39;</span>single<span class="stringliteral">&#39;);  %=all pixels opaque</span></div>
<div class="line"><a id="l00940" name="l00940"></a><span class="lineno">  940</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l00941" name="l00941"></a><span class="lineno">  941</span><span class="stringliteral">            % Save the images</span></div>
<div class="line"><a id="l00942" name="l00942"></a><span class="lineno">  942</span><span class="stringliteral">            if options.png</span></div>
<div class="line"><a id="l00943" name="l00943"></a><span class="lineno">  943</span><span class="stringliteral">                % Compute the resolution</span></div>
<div class="line"><a id="l00944" name="l00944"></a><span class="lineno">  944</span><span class="stringliteral">                res = options.magnify * get(0, &#39;</span>ScreenPixelsPerInch<span class="stringliteral">&#39;) / 25.4e-3;</span></div>
<div class="line"><a id="l00945" name="l00945"></a><span class="lineno">  945</span><span class="stringliteral">                % Save the png</span></div>
<div class="line"><a id="l00946" name="l00946"></a><span class="lineno">  946</span><span class="stringliteral">                [format_options, bitDepth] = getFormatOptions(options, &#39;</span>png<span class="stringliteral">&#39;);  %Issue #269</span></div>
<div class="line"><a id="l00947" name="l00947"></a><span class="lineno">  947</span><span class="stringliteral">                filename = [options.name &#39;</span>.png<span class="stringliteral">&#39;];</span></div>
<div class="line"><a id="l00948" name="l00948"></a><span class="lineno">  948</span><span class="stringliteral">                pngOptions = {filename, &#39;</span>ResolutionUnit<span class="charliteral">&#39;,&#39;</span>meter<span class="stringliteral">&#39;, &#39;</span>XResolution<span class="stringliteral">&#39;,res, &#39;</span>YResolution<span class="stringliteral">&#39;,res, format_options{:}}; %#ok&lt;CCAT&gt;</span></div>
<div class="line"><a id="l00949" name="l00949"></a><span class="lineno">  949</span><span class="stringliteral">                if options.transparent  % Fix issue #312: only use alpha channel if -transparent was requested</span></div>
<div class="line"><a id="l00950" name="l00950"></a><span class="lineno">  950</span><span class="stringliteral">                    pngOptions = [pngOptions &#39;</span>Alpha<span class="stringliteral">&#39;,double(alpha)];</span></div>
<div class="line"><a id="l00951" name="l00951"></a><span class="lineno">  951</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l00952" name="l00952"></a><span class="lineno">  952</span><span class="stringliteral">                if ~isempty(bitDepth) &amp;&amp; bitDepth &lt; 16 &amp;&amp; size(A,3) == 3</span></div>
<div class="line"><a id="l00953" name="l00953"></a><span class="lineno">  953</span><span class="stringliteral">                    % BitDepth specification requires using a color-map</span></div>
<div class="line"><a id="l00954" name="l00954"></a><span class="lineno">  954</span><span class="stringliteral">                    [img, map] = rgb2ind(A, 256);</span></div>
<div class="line"><a id="l00955" name="l00955"></a><span class="lineno">  955</span><span class="stringliteral">                    imwrite(img, map, pngOptions{:});</span></div>
<div class="line"><a id="l00956" name="l00956"></a><span class="lineno">  956</span><span class="stringliteral">                else</span></div>
<div class="line"><a id="l00957" name="l00957"></a><span class="lineno">  957</span><span class="stringliteral">                    imwrite(A, pngOptions{:});</span></div>
<div class="line"><a id="l00958" name="l00958"></a><span class="lineno">  958</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l00959" name="l00959"></a><span class="lineno">  959</span><span class="stringliteral">                if options.notify, notify(filename); end</span></div>
<div class="line"><a id="l00960" name="l00960"></a><span class="lineno">  960</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l00961" name="l00961"></a><span class="lineno">  961</span><span class="stringliteral">            if options.bmp</span></div>
<div class="line"><a id="l00962" name="l00962"></a><span class="lineno">  962</span><span class="stringliteral">                filename = [options.name &#39;</span>.bmp<span class="stringliteral">&#39;];</span></div>
<div class="line"><a id="l00963" name="l00963"></a><span class="lineno">  963</span><span class="stringliteral">                imwrite(A, filename);</span></div>
<div class="line"><a id="l00964" name="l00964"></a><span class="lineno">  964</span><span class="stringliteral">                if options.notify, notify(filename); end</span></div>
<div class="line"><a id="l00965" name="l00965"></a><span class="lineno">  965</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l00966" name="l00966"></a><span class="lineno">  966</span><span class="stringliteral">            if options.jpg</span></div>
<div class="line"><a id="l00967" name="l00967"></a><span class="lineno">  967</span><span class="stringliteral">                % Save jpeg with the specified quality</span></div>
<div class="line"><a id="l00968" name="l00968"></a><span class="lineno">  968</span><span class="stringliteral">                quality = options.quality;</span></div>
<div class="line"><a id="l00969" name="l00969"></a><span class="lineno">  969</span><span class="stringliteral">                if isempty(quality)</span></div>
<div class="line"><a id="l00970" name="l00970"></a><span class="lineno">  970</span><span class="stringliteral">                    quality = 95;</span></div>
<div class="line"><a id="l00971" name="l00971"></a><span class="lineno">  971</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l00972" name="l00972"></a><span class="lineno">  972</span><span class="stringliteral">                format_options = getFormatOptions(options, &#39;</span>jpg<span class="stringliteral">&#39;);  %Issue #269</span></div>
<div class="line"><a id="l00973" name="l00973"></a><span class="lineno">  973</span><span class="stringliteral">                filename = [options.name &#39;</span>.jpg<span class="stringliteral">&#39;];</span></div>
<div class="line"><a id="l00974" name="l00974"></a><span class="lineno">  974</span><span class="stringliteral">                if quality &gt; 100</span></div>
<div class="line"><a id="l00975" name="l00975"></a><span class="lineno">  975</span><span class="stringliteral">                    imwrite(A, filename, &#39;</span>Mode<span class="charliteral">&#39;,&#39;</span>lossless<span class="stringliteral">&#39;, format_options{:});</span></div>
<div class="line"><a id="l00976" name="l00976"></a><span class="lineno">  976</span><span class="stringliteral">                else</span></div>
<div class="line"><a id="l00977" name="l00977"></a><span class="lineno">  977</span><span class="stringliteral">                    imwrite(A, filename, &#39;</span>Quality<span class="stringliteral">&#39;,quality, format_options{:});</span></div>
<div class="line"><a id="l00978" name="l00978"></a><span class="lineno">  978</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l00979" name="l00979"></a><span class="lineno">  979</span><span class="stringliteral">                if options.notify, notify(filename); end</span></div>
<div class="line"><a id="l00980" name="l00980"></a><span class="lineno">  980</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l00981" name="l00981"></a><span class="lineno">  981</span><span class="stringliteral">            if options.tif</span></div>
<div class="line"><a id="l00982" name="l00982"></a><span class="lineno">  982</span><span class="stringliteral">                % Save tif images in cmyk if wanted (and possible)</span></div>
<div class="line"><a id="l00983" name="l00983"></a><span class="lineno">  983</span><span class="stringliteral">                if options.colourspace == 1 &amp;&amp; size(A, 3) == 3</span></div>
<div class="line"><a id="l00984" name="l00984"></a><span class="lineno">  984</span><span class="stringliteral">                    img = double(255 - A);</span></div>
<div class="line"><a id="l00985" name="l00985"></a><span class="lineno">  985</span><span class="stringliteral">                    K = min(img, [], 3);</span></div>
<div class="line"><a id="l00986" name="l00986"></a><span class="lineno">  986</span><span class="stringliteral">                    K_ = 255 ./ max(255 - K, 1);</span></div>
<div class="line"><a id="l00987" name="l00987"></a><span class="lineno">  987</span><span class="stringliteral">                    C = (img(:,:,1) - K) .* K_;</span></div>
<div class="line"><a id="l00988" name="l00988"></a><span class="lineno">  988</span><span class="stringliteral">                    M = (img(:,:,2) - K) .* K_;</span></div>
<div class="line"><a id="l00989" name="l00989"></a><span class="lineno">  989</span><span class="stringliteral">                    Y = (img(:,:,3) - K) .* K_;</span></div>
<div class="line"><a id="l00990" name="l00990"></a><span class="lineno">  990</span><span class="stringliteral">                    img = uint8(cat(3, C, M, Y, K));</span></div>
<div class="line"><a id="l00991" name="l00991"></a><span class="lineno">  991</span><span class="stringliteral">                    clear C M Y K K_</span></div>
<div class="line"><a id="l00992" name="l00992"></a><span class="lineno">  992</span><span class="stringliteral">                else</span></div>
<div class="line"><a id="l00993" name="l00993"></a><span class="lineno">  993</span><span class="stringliteral">                    img = A;</span></div>
<div class="line"><a id="l00994" name="l00994"></a><span class="lineno">  994</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l00995" name="l00995"></a><span class="lineno">  995</span><span class="stringliteral">                resolution = options.magnify * get(0,&#39;</span>ScreenPixelsPerInch<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l00996" name="l00996"></a><span class="lineno">  996</span><span class="stringliteral">                filename = [options.name &#39;</span>.tif<span class="stringliteral">&#39;];</span></div>
<div class="line"><a id="l00997" name="l00997"></a><span class="lineno">  997</span><span class="stringliteral">                if options.transparent &amp;&amp; any(alpha(:) &lt; 1) &amp;&amp; any(isBgColor(:))</span></div>
<div class="line"><a id="l00998" name="l00998"></a><span class="lineno">  998</span><span class="stringliteral">                    % Need to use low-level Tiff library since imwrite/writetif doesn&#39;</span>t support alpha channel</div>
<div class="line"><a id="l00999" name="l00999"></a><span class="lineno">  999</span>                    alpha8 = uint8(alpha*255);</div>
<div class="line"><a id="l01000" name="l01000"></a><span class="lineno"> 1000</span>                    tag = [&#39;MATLAB &#39; version &#39; savefig v&#39; num2str(currentVersion)];</div>
<div class="line"><a id="l01001" name="l01001"></a><span class="lineno"> 1001</span>                    mode = <span class="charliteral">&#39;w&#39;</span>; <span class="keywordflow">if</span> options.append, mode = <span class="charliteral">&#39;a&#39;</span>; end</div>
<div class="line"><a id="l01002" name="l01002"></a><span class="lineno"> 1002</span>                    t = Tiff(filename,mode); %R2009a or newer</div>
<div class="line"><a id="l01003" name="l01003"></a><span class="lineno"> 1003</span>                    %See https:<span class="comment">//www.awaresystems.be/imaging/tiff/tifftags/baseline.html</span></div>
<div class="line"><a id="l01004" name="l01004"></a><span class="lineno"> 1004</span>                    t.setTag(<span class="stringliteral">&#39;ImageLength&#39;</span>,    size(img,1));</div>
<div class="line"><a id="l01005" name="l01005"></a><span class="lineno"> 1005</span>                    t.setTag(<span class="stringliteral">&#39;ImageWidth&#39;</span>,     size(img,2));</div>
<div class="line"><a id="l01006" name="l01006"></a><span class="lineno"> 1006</span>                    t.setTag(<span class="stringliteral">&#39;Photometric&#39;</span>,         Tiff.Photometric.RGB);</div>
<div class="line"><a id="l01007" name="l01007"></a><span class="lineno"> 1007</span>                    <span class="keywordflow">try</span> %issue #379 use Tiff.Compression.AdobeDeflate by <span class="keywordflow">default</span></div>
<div class="line"><a id="l01008" name="l01008"></a><span class="lineno"> 1008</span>                        compressionMode = Tiff.Compression.AdobeDeflate;</div>
<div class="line"><a id="l01009" name="l01009"></a><span class="lineno"> 1009</span>                    <span class="keywordflow">catch</span></div>
<div class="line"><a id="l01010" name="l01010"></a><span class="lineno"> 1010</span>                        warning off imageio:tiffmexutils:libtiffWarning  %issue #379</div>
<div class="line"><a id="l01011" name="l01011"></a><span class="lineno"> 1011</span>                        compressionMode = Tiff.Compression.Deflate;</div>
<div class="line"><a id="l01012" name="l01012"></a><span class="lineno"> 1012</span>                    end</div>
<div class="line"><a id="l01013" name="l01013"></a><span class="lineno"> 1013</span>                    t.setTag(<span class="stringliteral">&#39;Compression&#39;</span>,         compressionMode);</div>
<div class="line"><a id="l01014" name="l01014"></a><span class="lineno"> 1014</span>                    t.setTag(<span class="stringliteral">&#39;PlanarConfiguration&#39;</span>, Tiff.PlanarConfiguration.Chunky);</div>
<div class="line"><a id="l01015" name="l01015"></a><span class="lineno"> 1015</span>                    t.setTag(<span class="stringliteral">&#39;ExtraSamples&#39;</span>,        Tiff.ExtraSamples.AssociatedAlpha);</div>
<div class="line"><a id="l01016" name="l01016"></a><span class="lineno"> 1016</span>                    t.setTag(<span class="stringliteral">&#39;ResolutionUnit&#39;</span>,      Tiff.ResolutionUnit.Inch);</div>
<div class="line"><a id="l01017" name="l01017"></a><span class="lineno"> 1017</span>                    t.setTag(<span class="stringliteral">&#39;BitsPerSample&#39;</span>,  8);</div>
<div class="line"><a id="l01018" name="l01018"></a><span class="lineno"> 1018</span>                    t.setTag(<span class="stringliteral">&#39;SamplesPerPixel&#39;</span>,size(img,3)+1); %+1=alpha channel</div>
<div class="line"><a id="l01019" name="l01019"></a><span class="lineno"> 1019</span>                    t.setTag(&#39;XResolution&#39;,    resolution);</div>
<div class="line"><a id="l01020" name="l01020"></a><span class="lineno"> 1020</span>                    t.setTag(<span class="stringliteral">&#39;YResolution&#39;</span>,    resolution);</div>
<div class="line"><a id="l01021" name="l01021"></a><span class="lineno"> 1021</span>                    t.setTag(<span class="stringliteral">&#39;Software&#39;</span>, tag);</div>
<div class="line"><a id="l01022" name="l01022"></a><span class="lineno"> 1022</span>                    t.write(cat(3,img,alpha8));</div>
<div class="line"><a id="l01023" name="l01023"></a><span class="lineno"> 1023</span>                    t.close;</div>
<div class="line"><a id="l01024" name="l01024"></a><span class="lineno"> 1024</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01025" name="l01025"></a><span class="lineno"> 1025</span>                    % Use the builtin imwrite/writetif function</div>
<div class="line"><a id="l01026" name="l01026"></a><span class="lineno"> 1026</span>                    append_mode = {<span class="stringliteral">&#39;overwrite&#39;</span>, <span class="stringliteral">&#39;append&#39;</span>};</div>
<div class="line"><a id="l01027" name="l01027"></a><span class="lineno"> 1027</span>                    mode = append_mode{options.append+1};</div>
<div class="line"><a id="l01028" name="l01028"></a><span class="lineno"> 1028</span>                    format_options = getFormatOptions(options, <span class="stringliteral">&#39;tif&#39;</span>);  %Issue #269</div>
<div class="line"><a id="l01029" name="l01029"></a><span class="lineno"> 1029</span>                    imwrite(img, filename, <span class="stringliteral">&#39;Resolution&#39;</span>,resolution, <span class="stringliteral">&#39;WriteMode&#39;</span>,mode, format_options{:});</div>
<div class="line"><a id="l01030" name="l01030"></a><span class="lineno"> 1030</span>                end</div>
<div class="line"><a id="l01031" name="l01031"></a><span class="lineno"> 1031</span>                <span class="keywordflow">if</span> options.notify, notify(filename); end</div>
<div class="line"><a id="l01032" name="l01032"></a><span class="lineno"> 1032</span>            end</div>
<div class="line"><a id="l01033" name="l01033"></a><span class="lineno"> 1033</span>            <span class="keywordflow">if</span> options.gif</div>
<div class="line"><a id="l01034" name="l01034"></a><span class="lineno"> 1034</span>                % TODO - merge contents with <a class="code hl_function" href="im2gif_8m.html#af4749aaaa8b2da99a97d3f94be3a67cb">im2gif</a>.py</div>
<div class="line"><a id="l01035" name="l01035"></a><span class="lineno"> 1035</span>                % Convert to color-map image required by GIF specification</div>
<div class="line"><a id="l01036" name="l01036"></a><span class="lineno"> 1036</span>                [img, map] = rgb2ind(A, 256);</div>
<div class="line"><a id="l01037" name="l01037"></a><span class="lineno"> 1037</span>                % <a class="code hl_class" href="classHandle.html">Handle</a> the <span class="keywordflow">case</span> of trying to append to non-existing GIF file</div>
<div class="line"><a id="l01038" name="l01038"></a><span class="lineno"> 1038</span>                % (imwrite() croaks when asked to append to <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> non-existing file)</div>
<div class="line"><a id="l01039" name="l01039"></a><span class="lineno"> 1039</span>                filename = [options.<a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a> &#39;.gif&#39;];</div>
<div class="line"><a id="l01040" name="l01040"></a><span class="lineno"> 1040</span>                options.append = options.append &amp;&amp; existFile(filename);</div>
<div class="line"><a id="l01041" name="l01041"></a><span class="lineno"> 1041</span>                % Set the <span class="keywordflow">default</span> GIF options <span class="keywordflow">for</span> imwrite()</div>
<div class="line"><a id="l01042" name="l01042"></a><span class="lineno"> 1042</span>                append_mode = {<span class="stringliteral">&#39;overwrite&#39;</span>, <span class="stringliteral">&#39;append&#39;</span>};</div>
<div class="line"><a id="l01043" name="l01043"></a><span class="lineno"> 1043</span>                writeMode = append_mode{options.append+1};</div>
<div class="line"><a id="l01044" name="l01044"></a><span class="lineno"> 1044</span>                gifOptions = {<span class="stringliteral">&#39;WriteMode&#39;</span>,writeMode};</div>
<div class="line"><a id="l01045" name="l01045"></a><span class="lineno"> 1045</span>                <span class="keywordflow">if</span> options.transparent  % only use alpha channel <span class="keywordflow">if</span> -transparent was requested</div>
<div class="line"><a id="l01046" name="l01046"></a><span class="lineno"> 1046</span>                    exp = 256 .^ (0:2);</div>
<div class="line"><a id="l01047" name="l01047"></a><span class="lineno"> 1047</span>                    mapVals = sum(round(map*255).*exp,2);</div>
<div class="line"><a id="l01048" name="l01048"></a><span class="lineno"> 1048</span>                    tcolVal = sum(round(<span class="keywordtype">double</span>(tcol)).*exp);</div>
<div class="line"><a id="l01049" name="l01049"></a><span class="lineno"> 1049</span>                    alphaIdx = <a class="code hl_function" href="namespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1find.html#a7ea2890f440ea143a4be87232126fb38">find</a>(mapVals==tcolVal,1);</div>
<div class="line"><a id="l01050" name="l01050"></a><span class="lineno"> 1050</span>                    <span class="keywordflow">if</span> isempty(alphaIdx) || alphaIdx &lt;= 0, alphaIdx = 1; end</div>
<div class="line"><a id="l01051" name="l01051"></a><span class="lineno"> 1051</span>                    % GIF color <a class="code hl_function" href="index_8m.html#a5e9da7e1ba3f2f6d159127bb7d902c6b">index</a> of uint8/logical images starts at 0, not 1</div>
<div class="line"><a id="l01052" name="l01052"></a><span class="lineno"> 1052</span>                    <span class="keywordflow">if</span> ~isfloat(img), alphaIdx = alphaIdx - 1; end</div>
<div class="line"><a id="l01053" name="l01053"></a><span class="lineno"> 1053</span>                    gifOptions = [gifOptions, &#39;TransparentColor&#39;,alphaIdx, ...</div>
<div class="line"><a id="l01054" name="l01054"></a><span class="lineno"> 1054</span>                                              &#39;DisposalMethod&#39;,&#39;restoreBG&#39;];</div>
<div class="line"><a id="l01055" name="l01055"></a><span class="lineno"> 1055</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01056" name="l01056"></a><span class="lineno"> 1056</span>                    alphaIdx = 1;</div>
<div class="line"><a id="l01057" name="l01057"></a><span class="lineno"> 1057</span>                end</div>
<div class="line"><a id="l01058" name="l01058"></a><span class="lineno"> 1058</span>                <span class="keywordflow">if</span> ~options.append</div>
<div class="line"><a id="l01059" name="l01059"></a><span class="lineno"> 1059</span>                    % LoopCount and BackgroundColor can only be specified in the</div>
<div class="line"><a id="l01060" name="l01060"></a><span class="lineno"> 1060</span>                    % 1st GIF frame (not in append mode)</div>
<div class="line"><a id="l01061" name="l01061"></a><span class="lineno"> 1061</span>                    % Set <span class="keywordflow">default</span> LoopCount=65535 to enable looping within MS Office</div>
<div class="line"><a id="l01062" name="l01062"></a><span class="lineno"> 1062</span>                    gifOptions = [gifOptions, &#39;LoopCount&#39;,65535, &#39;BackgroundColor&#39;,alphaIdx];</div>
<div class="line"><a id="l01063" name="l01063"></a><span class="lineno"> 1063</span>                end</div>
<div class="line"><a id="l01064" name="l01064"></a><span class="lineno"> 1064</span>                % Set GIF-specific options specified by the user (if any)</div>
<div class="line"><a id="l01065" name="l01065"></a><span class="lineno"> 1065</span>                format_options = getFormatOptions(options, &#39;gif&#39;);</div>
<div class="line"><a id="l01066" name="l01066"></a><span class="lineno"> 1066</span>                gifOptions = [gifOptions, format_options{:}];</div>
<div class="line"><a id="l01067" name="l01067"></a><span class="lineno"> 1067</span>                % Save the gif file</div>
<div class="line"><a id="l01068" name="l01068"></a><span class="lineno"> 1068</span>                imwrite(img, map, filename, gifOptions{:});</div>
<div class="line"><a id="l01069" name="l01069"></a><span class="lineno"> 1069</span>                <span class="keywordflow">if</span> options.notify, notify(filename); end</div>
<div class="line"><a id="l01070" name="l01070"></a><span class="lineno"> 1070</span>            end</div>
<div class="line"><a id="l01071" name="l01071"></a><span class="lineno"> 1071</span>        end</div>
<div class="line"><a id="l01072" name="l01072"></a><span class="lineno"> 1072</span> </div>
<div class="line"><a id="l01073" name="l01073"></a><span class="lineno"> 1073</span>        % Now export the vector formats <a class="code hl_function" href="namespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1which.html#a1b834b4e4b89ed9f7aae0da42263af15">which</a> are based on EPS</div>
<div class="line"><a id="l01074" name="l01074"></a><span class="lineno"> 1074</span>        <span class="keywordflow">if</span> isvector(options)</div>
<div class="line"><a id="l01075" name="l01075"></a><span class="lineno"> 1075</span>            hImages = findall(fig,<span class="stringliteral">&#39;type&#39;</span>,<span class="stringliteral">&#39;image&#39;</span>);</div>
<div class="line"><a id="l01076" name="l01076"></a><span class="lineno"> 1076</span>            % Set the <span class="keywordflow">default</span> renderer to painters</div>
<div class="line"><a id="l01077" name="l01077"></a><span class="lineno"> 1077</span>            <span class="keywordflow">if</span> ~options.renderer</div>
<div class="line"><a id="l01078" name="l01078"></a><span class="lineno"> 1078</span>                % <a class="code hl_class" href="classHandle.html">Handle</a> transparent patches</div>
<div class="line"><a id="l01079" name="l01079"></a><span class="lineno"> 1079</span>                hasTransparency = ~isempty(findall(fig,<span class="stringliteral">&#39;-property&#39;</span>,<span class="stringliteral">&#39;FaceAlpha&#39;</span>,<span class="stringliteral">&#39;-and&#39;</span>,<span class="stringliteral">&#39;-not&#39;</span>,<span class="stringliteral">&#39;FaceAlpha&#39;</span>,1));</div>
<div class="line"><a id="l01080" name="l01080"></a><span class="lineno"> 1080</span>                <span class="keywordflow">if</span> hasTransparency</div>
<div class="line"><a id="l01081" name="l01081"></a><span class="lineno"> 1081</span>                    % Alert <span class="keywordflow">if</span> trying to export transparent patches/areas to non-supported outputs (issues #94, #106, #108)</div>
<div class="line"><a id="l01082" name="l01082"></a><span class="lineno"> 1082</span>                    % http:<span class="comment">//www.mathworks.com/matlabcentral/answers/265265-can-savefig-or-else-draw-vector-graphics-with-transparent-surfaces</span></div>
<div class="line"><a id="l01083" name="l01083"></a><span class="lineno"> 1083</span>                    % TODO - use transparency when exporting to PDF by not passing via print2eps</div>
<div class="line"><a id="l01084" name="l01084"></a><span class="lineno"> 1084</span>                    if options.pdf, format = &#39;PDF&#39;; <span class="keywordflow">else</span>, format = <span class="stringliteral">&#39;non-PNG formats&#39;</span>; end</div>
<div class="line"><a id="l01085" name="l01085"></a><span class="lineno"> 1085</span>                    msg = <span class="stringliteral">&#39;savefig supports transparent patches/areas best in PNG output format. &#39;</span>;</div>
<div class="line"><a id="l01086" name="l01086"></a><span class="lineno"> 1086</span>                    msg = sprintf(<span class="stringliteral">&#39;%s\nExporting figures with transparency to %s sometimes renders incorrectly. &#39;</span>, msg, format);</div>
<div class="line"><a id="l01087" name="l01087"></a><span class="lineno"> 1087</span>                    msg = sprintf(<span class="stringliteral">&#39;%s\nIn such cases, try to use the&#39;</span>, msg);</div>
<div class="line"><a id="l01088" name="l01088"></a><span class="lineno"> 1088</span>                    <span class="keywordflow">if</span> options.pdf &amp;&amp; ~options.silent</div>
<div class="line"><a id="l01089" name="l01089"></a><span class="lineno"> 1089</span>                        warning(<span class="stringliteral">&#39;savefig:transparency&#39;</span>, <span class="stringliteral">&#39;%s print command: print(gcf, &#39;</span><span class="stringliteral">&#39;-dpdf&#39;</span><span class="stringliteral">&#39;, &#39;</span><span class="stringliteral">&#39;%s.pdf&#39;</span><span class="stringliteral">&#39;);&#39;</span>, msg, options.name);</div>
<div class="line"><a id="l01090" name="l01090"></a><span class="lineno"> 1090</span>                    elseif ~options.png &amp;&amp; ~options.tif &amp;&amp; ~options.silent  % issue #168</div>
<div class="line"><a id="l01091" name="l01091"></a><span class="lineno"> 1091</span>                        warning(<span class="stringliteral">&#39;savefig:transparency&#39;</span>, <span class="stringliteral">&#39;%s ScreenCapture utility on the MATLAB File Exchange: http://bit.ly/1QFrBip&#39;</span>, msg);</div>
<div class="line"><a id="l01092" name="l01092"></a><span class="lineno"> 1092</span>                    end</div>
<div class="line"><a id="l01093" name="l01093"></a><span class="lineno"> 1093</span>                elseif ~isempty(hImages)</div>
<div class="line"><a id="l01094" name="l01094"></a><span class="lineno"> 1094</span>                    % Fix <span class="keywordflow">for</span> issue #230: use OpenGL renderer when exported image contains transparency</div>
<div class="line"><a id="l01095" name="l01095"></a><span class="lineno"> 1095</span>                    <span class="keywordflow">for</span> idx = 1 : numel(hImages)</div>
<div class="line"><a id="l01096" name="l01096"></a><span class="lineno"> 1096</span>                        cdata = get(hImages(idx),<span class="stringliteral">&#39;CData&#39;</span>);</div>
<div class="line"><a id="l01097" name="l01097"></a><span class="lineno"> 1097</span>                        <span class="keywordflow">if</span> any(isnan(cdata(:)))</div>
<div class="line"><a id="l01098" name="l01098"></a><span class="lineno"> 1098</span>                            hasTransparency = true;</div>
<div class="line"><a id="l01099" name="l01099"></a><span class="lineno"> 1099</span>                            break</div>
<div class="line"><a id="l01100" name="l01100"></a><span class="lineno"> 1100</span>                        end</div>
<div class="line"><a id="l01101" name="l01101"></a><span class="lineno"> 1101</span>                    end</div>
<div class="line"><a id="l01102" name="l01102"></a><span class="lineno"> 1102</span>                end</div>
<div class="line"><a id="l01103" name="l01103"></a><span class="lineno"> 1103</span>                hasPatches = ~isempty(findall(fig,&#39;type&#39;,&#39;patch&#39;));</div>
<div class="line"><a id="l01104" name="l01104"></a><span class="lineno"> 1104</span>                if hasTransparency || hasPatches</div>
<div class="line"><a id="l01105" name="l01105"></a><span class="lineno"> 1105</span>                    % This is *MUCH* slower, but more accurate for patches and transparent annotations (issue <span class="preprocessor">#39)</span></div>
<div class="line"><a id="l01106" name="l01106"></a><span class="lineno"> 1106</span>                    renderer = <span class="stringliteral">&#39;-opengl&#39;</span>;</div>
<div class="line"><a id="l01107" name="l01107"></a><span class="lineno"> 1107</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01108" name="l01108"></a><span class="lineno"> 1108</span>                    renderer = <span class="stringliteral">&#39;-painters&#39;</span>;</div>
<div class="line"><a id="l01109" name="l01109"></a><span class="lineno"> 1109</span>                end</div>
<div class="line"><a id="l01110" name="l01110"></a><span class="lineno"> 1110</span>            end</div>
<div class="line"><a id="l01111" name="l01111"></a><span class="lineno"> 1111</span>            options.rendererStr = renderer;  % fix <span class="keywordflow">for</span> issue #112</div>
<div class="line"><a id="l01112" name="l01112"></a><span class="lineno"> 1112</span>            % Generate some filenames</div>
<div class="line"><a id="l01113" name="l01113"></a><span class="lineno"> 1113</span>            tmp_nam = [tempname &#39;.eps&#39;];</div>
<div class="line"><a id="l01114" name="l01114"></a><span class="lineno"> 1114</span>            <span class="keywordflow">try</span></div>
<div class="line"><a id="l01115" name="l01115"></a><span class="lineno"> 1115</span>                % Ensure that the temp dir is writable (Javier Paredes 30/1/15)</div>
<div class="line"><a id="l01116" name="l01116"></a><span class="lineno"> 1116</span>                fid = fopen(tmp_nam,&#39;w&#39;);</div>
<div class="line"><a id="l01117" name="l01117"></a><span class="lineno"> 1117</span>                fwrite(fid,1);</div>
<div class="line"><a id="l01118" name="l01118"></a><span class="lineno"> 1118</span>                fclose(fid);</div>
<div class="line"><a id="l01119" name="l01119"></a><span class="lineno"> 1119</span>                delete(tmp_nam);</div>
<div class="line"><a id="l01120" name="l01120"></a><span class="lineno"> 1120</span>                pdf_nam_tmp = [tempname &#39;.pdf&#39;];</div>
<div class="line"><a id="l01121" name="l01121"></a><span class="lineno"> 1121</span>            catch</div>
<div class="line"><a id="l01122" name="l01122"></a><span class="lineno"> 1122</span>                % Temp dir is not writable, so use the user-specified folder</div>
<div class="line"><a id="l01123" name="l01123"></a><span class="lineno"> 1123</span>                [dummy,fname,fext] = fileparts(tmp_nam); %<span class="preprocessor">#ok&lt;ASGLU&gt;</span></div>
<div class="line"><a id="l01124" name="l01124"></a><span class="lineno"> 1124</span>                fpath = fileparts(options.name);</div>
<div class="line"><a id="l01125" name="l01125"></a><span class="lineno"> 1125</span>                tmp_nam = fullfile(fpath,[fname fext]);</div>
<div class="line"><a id="l01126" name="l01126"></a><span class="lineno"> 1126</span>                pdf_nam_tmp = fullfile(fpath,[fname <span class="stringliteral">&#39;.pdf&#39;</span>]);</div>
<div class="line"><a id="l01127" name="l01127"></a><span class="lineno"> 1127</span>            end</div>
<div class="line"><a id="l01128" name="l01128"></a><span class="lineno"> 1128</span>            <span class="keywordflow">if</span> options.pdf</div>
<div class="line"><a id="l01129" name="l01129"></a><span class="lineno"> 1129</span>                pdf_nam = [options.name &#39;.pdf&#39;];</div>
<div class="line"><a id="l01130" name="l01130"></a><span class="lineno"> 1130</span>                <span class="keywordflow">try</span> copyfile(pdf_nam, pdf_nam_tmp, <span class="charliteral">&#39;f&#39;</span>); <span class="keywordflow">catch</span>, end  % fix <span class="keywordflow">for</span> issue #65</div>
<div class="line"><a id="l01131" name="l01131"></a><span class="lineno"> 1131</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01132" name="l01132"></a><span class="lineno"> 1132</span>                pdf_nam = pdf_nam_tmp;</div>
<div class="line"><a id="l01133" name="l01133"></a><span class="lineno"> 1133</span>            end</div>
<div class="line"><a id="l01134" name="l01134"></a><span class="lineno"> 1134</span>            % Generate the options <span class="keywordflow">for</span> print</div>
<div class="line"><a id="l01135" name="l01135"></a><span class="lineno"> 1135</span>            printArgs = {renderer};</div>
<div class="line"><a id="l01136" name="l01136"></a><span class="lineno"> 1136</span>            <span class="keywordflow">if</span> ~isempty(options.resolution)  % issue #241</div>
<div class="line"><a id="l01137" name="l01137"></a><span class="lineno"> 1137</span>                printArgs{end+1} = sprintf(&#39;-r%d&#39;, options.resolution);</div>
<div class="line"><a id="l01138" name="l01138"></a><span class="lineno"> 1138</span>            end</div>
<div class="line"><a id="l01139" name="l01139"></a><span class="lineno"> 1139</span>            <span class="keywordflow">if</span> options.colourspace == 1  % CMYK</div>
<div class="line"><a id="l01140" name="l01140"></a><span class="lineno"> 1140</span>                % Issue #33: due to internal bugs in MATLAB<span class="stringliteral">&#39;s print() function, we can&#39;</span>t use its -cmyk option</div>
<div class="line"><a id="l01141" name="l01141"></a><span class="lineno"> 1141</span>                %printArgs{end+1} = &#39;-cmyk&#39;;</div>
<div class="line"><a id="l01142" name="l01142"></a><span class="lineno"> 1142</span>            end</div>
<div class="line"><a id="l01143" name="l01143"></a><span class="lineno"> 1143</span>            <span class="keywordflow">if</span> ~options.crop</div>
<div class="line"><a id="l01144" name="l01144"></a><span class="lineno"> 1144</span>                % Issue #56: due to internal bugs in MATLAB<span class="stringliteral">&#39;s print() function, we can&#39;</span>t use its internal cropping mechanism,</div>
<div class="line"><a id="l01145" name="l01145"></a><span class="lineno"> 1145</span>                % therefore we always use <span class="stringliteral">&#39;-loose&#39;</span> (in <a class="code hl_function" href="print2eps_8m.html#ac513bb70bab782e7884fde67dd56284a">print2eps</a>.py) and <span class="keywordflow">do</span> our own cropping (with <a class="code hl_function" href="crop__borders_8m.html#a0b5568512ef21430092459ba3ac1e274">crop_borders</a>.py)</div>
<div class="line"><a id="l01146" name="l01146"></a><span class="lineno"> 1146</span>                %printArgs{end+1} = &#39;-loose&#39;;</div>
<div class="line"><a id="l01147" name="l01147"></a><span class="lineno"> 1147</span>            end</div>
<div class="line"><a id="l01148" name="l01148"></a><span class="lineno"> 1148</span>            <span class="keywordflow">if</span> any(strcmpi(varargin,<span class="stringliteral">&#39;-depsc&#39;</span>))</div>
<div class="line"><a id="l01149" name="l01149"></a><span class="lineno"> 1149</span>                % Issue #45: lines in image subplots are exported in invalid color.</div>
<div class="line"><a id="l01150" name="l01150"></a><span class="lineno"> 1150</span>                % The workaround is to use the -depsc parameter instead of the <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1split2real.html#ab54ab7b589a005c1a2f537b0af530de3">default</a> -depsc2</div>
<div class="line"><a id="l01151" name="l01151"></a><span class="lineno"> 1151</span>                printArgs{end+1} = &#39;-depsc&#39;;</div>
<div class="line"><a id="l01152" name="l01152"></a><span class="lineno"> 1152</span>            end</div>
<div class="line"><a id="l01153" name="l01153"></a><span class="lineno"> 1153</span>            % Print to base EPS file (<span class="keywordflow">if</span> <span class="keyword">this</span> fails, we cannot proceed further)</div>
<div class="line"><a id="l01154" name="l01154"></a><span class="lineno"> 1154</span>            <span class="keyword">try</span></div>
<div class="line"><a id="l01155" name="l01155"></a><span class="lineno"> 1155</span>                % Remove background <span class="keywordflow">if</span> requested (issue #207)</div>
<div class="line"><a id="l01156" name="l01156"></a><span class="lineno"> 1156</span>                originalBgColor = get(fig, <span class="stringliteral">&#39;Color&#39;</span>);</div>
<div class="line"><a id="l01157" name="l01157"></a><span class="lineno"> 1157</span>                [hXs, hXrs, hYs, hYrs, hZs, hZrs] = deal([]);</div>
<div class="line"><a id="l01158" name="l01158"></a><span class="lineno"> 1158</span>                <span class="keywordflow">if</span> options.transparent %&amp;&amp; ~isequal(get(fig, <span class="stringliteral">&#39;Color&#39;</span>), <span class="stringliteral">&#39;none&#39;</span>)</div>
<div class="line"><a id="l01159" name="l01159"></a><span class="lineno"> 1159</span>                    if options.renderer == 1 &amp;&amp; ~options.silent  % OpenGL</div>
<div class="line"><a id="l01160" name="l01160"></a><span class="lineno"> 1160</span>                        warning(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:openglTransparentBG&#39;, &#39;-opengl sometimes fails to produce transparent backgrounds; in such <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> case, try to use -painters instead&#39;);</div>
<div class="line"><a id="l01161" name="l01161"></a><span class="lineno"> 1161</span>                    end</div>
<div class="line"><a id="l01162" name="l01162"></a><span class="lineno"> 1162</span> </div>
<div class="line"><a id="l01163" name="l01163"></a><span class="lineno"> 1163</span>                    % Fix for issue <span class="preprocessor">#207, #267 (corrected)</span></div>
<div class="line"><a id="l01164" name="l01164"></a><span class="lineno"> 1164</span>                    set(fig,<span class="stringliteral">&#39;Color&#39;</span>,<span class="stringliteral">&#39;none&#39;</span>);</div>
<div class="line"><a id="l01165" name="l01165"></a><span class="lineno"> 1165</span> </div>
<div class="line"><a id="l01166" name="l01166"></a><span class="lineno"> 1166</span>                    % Correct black axes color to off-black (issue #249)</div>
<div class="line"><a id="l01167" name="l01167"></a><span class="lineno"> 1167</span>                    hAxes = findall(fig, &#39;Type&#39;,&#39;axes&#39;);</div>
<div class="line"><a id="l01168" name="l01168"></a><span class="lineno"> 1168</span>                    [hXs,hXrs] = fixBlackAxle(hAxes, <span class="stringliteral">&#39;XColor&#39;</span>);</div>
<div class="line"><a id="l01169" name="l01169"></a><span class="lineno"> 1169</span>                    [hYs,hYrs] = fixBlackAxle(hAxes, <span class="stringliteral">&#39;YColor&#39;</span>);</div>
<div class="line"><a id="l01170" name="l01170"></a><span class="lineno"> 1170</span>                    [hZs,hZrs] = fixBlackAxle(hAxes, <span class="stringliteral">&#39;ZColor&#39;</span>);</div>
<div class="line"><a id="l01171" name="l01171"></a><span class="lineno"> 1171</span> </div>
<div class="line"><a id="l01172" name="l01172"></a><span class="lineno"> 1172</span>                    % Correct black titles to off-black</div>
<div class="line"><a id="l01173" name="l01173"></a><span class="lineno"> 1173</span>                    % https:<span class="comment">//www.mathworks.com/matlabcentral/answers/567027-matlab-savefig-crops-title</span></div>
<div class="line"><a id="l01174" name="l01174"></a><span class="lineno"> 1174</span>                    hTitle = fixBlackText(hAxes,&#39;Title&#39;);</div>
<div class="line"><a id="l01175" name="l01175"></a><span class="lineno"> 1175</span>                    <span class="keywordflow">try</span> hCBs = getappdata(hAxes,<span class="stringliteral">&#39;LayoutPeers&#39;</span>); <span class="keywordflow">catch</span>, hCBs=[]; end  %issue #383</div>
<div class="line"><a id="l01176" name="l01176"></a><span class="lineno"> 1176</span>                    hCBs = unique([findall(fig,<span class="stringliteral">&#39;tag&#39;</span>,<span class="stringliteral">&#39;Colorbar&#39;</span>), hCBs]);</div>
<div class="line"><a id="l01177" name="l01177"></a><span class="lineno"> 1177</span>                    hCbTxt = fixBlackText(hCBs,<span class="stringliteral">&#39;Title&#39;</span>); % issue #382</div>
<div class="line"><a id="l01178" name="l01178"></a><span class="lineno"> 1178</span>                end</div>
<div class="line"><a id="l01179" name="l01179"></a><span class="lineno"> 1179</span>                % Generate an eps</div>
<div class="line"><a id="l01180" name="l01180"></a><span class="lineno"> 1180</span>                <a class="code hl_function" href="print2eps_8m.html#ac513bb70bab782e7884fde67dd56284a">print2eps</a>(tmp_nam, fig, options, printArgs{:}); %winopen(tmp_nam)</div>
<div class="line"><a id="l01181" name="l01181"></a><span class="lineno"> 1181</span>                % {</div>
<div class="line"><a id="l01182" name="l01182"></a><span class="lineno"> 1182</span>                % Remove the background, <span class="keywordflow">if</span> desired</div>
<div class="line"><a id="l01183" name="l01183"></a><span class="lineno"> 1183</span>                <span class="keywordflow">if</span> options.transparent %&amp;&amp; ~isequal(get(fig, <span class="stringliteral">&#39;Color&#39;</span>), <span class="stringliteral">&#39;none&#39;</span>)</div>
<div class="line"><a id="l01184" name="l01184"></a><span class="lineno"> 1184</span>                    eps_remove_background(tmp_nam, 1 + <a class="code hl_function" href="using__hg2_8m.html#a54d6ede409f48c279dc31dd2f5a2036f">using_hg2</a>(fig));</div>
<div class="line"><a id="l01185" name="l01185"></a><span class="lineno"> 1185</span> </div>
<div class="line"><a id="l01186" name="l01186"></a><span class="lineno"> 1186</span>                    % Revert the black axles/titles colors</div>
<div class="line"><a id="l01187" name="l01187"></a><span class="lineno"> 1187</span>                    set(hXs, &#39;XColor&#39;, [0,0,0]);</div>
<div class="line"><a id="l01188" name="l01188"></a><span class="lineno"> 1188</span>                    set(hYs, &#39;YColor&#39;, [0,0,0]);</div>
<div class="line"><a id="l01189" name="l01189"></a><span class="lineno"> 1189</span>                    set(hZs, &#39;ZColor&#39;, [0,0,0]);</div>
<div class="line"><a id="l01190" name="l01190"></a><span class="lineno"> 1190</span>                    set(hXrs, &#39;Color&#39;, [0,0,0]);</div>
<div class="line"><a id="l01191" name="l01191"></a><span class="lineno"> 1191</span>                    set(hYrs, &#39;Color&#39;, [0,0,0]);</div>
<div class="line"><a id="l01192" name="l01192"></a><span class="lineno"> 1192</span>                    set(hZrs, &#39;Color&#39;, [0,0,0]);</div>
<div class="line"><a id="l01193" name="l01193"></a><span class="lineno"> 1193</span>                    set(hTitle,&#39;Color&#39;,[0,0,0]);</div>
<div class="line"><a id="l01194" name="l01194"></a><span class="lineno"> 1194</span>                    set(hCbTxt,&#39;Color&#39;,[0,0,0]);</div>
<div class="line"><a id="l01195" name="l01195"></a><span class="lineno"> 1195</span>                end</div>
<div class="line"><a id="l01196" name="l01196"></a><span class="lineno"> 1196</span>                %}</div>
<div class="line"><a id="l01197" name="l01197"></a><span class="lineno"> 1197</span>                % Restore the figure&#39;s previous background color (if modified)</div>
<div class="line"><a id="l01198" name="l01198"></a><span class="lineno"> 1198</span>                try set(fig,&#39;Color&#39;,originalBgColor); drawnow; catch, end</div>
<div class="line"><a id="l01199" name="l01199"></a><span class="lineno"> 1199</span>                % Fix colorspace to CMYK, if requested (workaround for issue <span class="preprocessor">#33)</span></div>
<div class="line"><a id="l01200" name="l01200"></a><span class="lineno"> 1200</span>                <span class="keywordflow">if</span> options.colourspace == 1  % CMYK</div>
<div class="line"><a id="l01201" name="l01201"></a><span class="lineno"> 1201</span>                    % Issue #33: due to internal bugs in MATLAB<span class="stringliteral">&#39;s print() function, we can&#39;</span>t use its -cmyk option</div>
<div class="line"><a id="l01202" name="l01202"></a><span class="lineno"> 1202</span>                    change_rgb_to_cmyk(tmp_nam);</div>
<div class="line"><a id="l01203" name="l01203"></a><span class="lineno"> 1203</span>                end</div>
<div class="line"><a id="l01204" name="l01204"></a><span class="lineno"> 1204</span>                % Add <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> bookmark to the PDF <span class="keywordflow">if</span> desired</div>
<div class="line"><a id="l01205" name="l01205"></a><span class="lineno"> 1205</span>                <span class="keywordflow">if</span> options.bookmark</div>
<div class="line"><a id="l01206" name="l01206"></a><span class="lineno"> 1206</span>                    fig_nam = get(fig, <span class="stringliteral">&#39;Name&#39;</span>);</div>
<div class="line"><a id="l01207" name="l01207"></a><span class="lineno"> 1207</span>                    <span class="keywordflow">if</span> isempty(fig_nam) &amp;&amp; ~options.silent</div>
<div class="line"><a id="l01208" name="l01208"></a><span class="lineno"> 1208</span>                        warning(<span class="stringliteral">&#39;savefig:EmptyBookmark&#39;</span>, <span class="stringliteral">&#39;Bookmark requested for figure with no name. Bookmark will be empty.&#39;</span>);</div>
<div class="line"><a id="l01209" name="l01209"></a><span class="lineno"> 1209</span>                    end</div>
<div class="line"><a id="l01210" name="l01210"></a><span class="lineno"> 1210</span>                    add_bookmark(tmp_nam, fig_nam);</div>
<div class="line"><a id="l01211" name="l01211"></a><span class="lineno"> 1211</span>                end</div>
<div class="line"><a id="l01212" name="l01212"></a><span class="lineno"> 1212</span>            <span class="keywordflow">catch</span> ex</div>
<div class="line"><a id="l01213" name="l01213"></a><span class="lineno"> 1213</span>                % Restore the figure<span class="stringliteral">&#39;s previous background color (in case it was not already restored)</span></div>
<div class="line"><a id="l01214" name="l01214"></a><span class="lineno"> 1214</span><span class="stringliteral">                try set(fig,&#39;</span>Color<span class="stringliteral">&#39;,originalBgColor); drawnow; catch, end</span></div>
<div class="line"><a id="l01215" name="l01215"></a><span class="lineno"> 1215</span><span class="stringliteral">                % Delete the temporary eps file - NOT! (Yair 3/3/2020)</span></div>
<div class="line"><a id="l01216" name="l01216"></a><span class="lineno"> 1216</span><span class="stringliteral">                %delete(tmp_nam);</span></div>
<div class="line"><a id="l01217" name="l01217"></a><span class="lineno"> 1217</span><span class="stringliteral">                % Rethrow the EPS-generation error</span></div>
<div class="line"><a id="l01218" name="l01218"></a><span class="lineno"> 1218</span><span class="stringliteral">                rethrow(ex);</span></div>
<div class="line"><a id="l01219" name="l01219"></a><span class="lineno"> 1219</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l01220" name="l01220"></a><span class="lineno"> 1220</span><span class="stringliteral">            % Generate a PDF file from the base EPS</span></div>
<div class="line"><a id="l01221" name="l01221"></a><span class="lineno"> 1221</span><span class="stringliteral">            % (if this fails, we can still proceed if only EPS was requested)</span></div>
<div class="line"><a id="l01222" name="l01222"></a><span class="lineno"> 1222</span><span class="stringliteral">            try</span></div>
<div class="line"><a id="l01223" name="l01223"></a><span class="lineno"> 1223</span><span class="stringliteral">                %if existFile(pdf_nam_tmp), delete(pdf_nam_tmp); end %issue #369</span></div>
<div class="line"><a id="l01224" name="l01224"></a><span class="lineno"> 1224</span><span class="stringliteral">                eps2pdf(tmp_nam, pdf_nam_tmp, 1, options.append, options.colourspace==2, options.quality, options.gs_options);</span></div>
<div class="line"><a id="l01225" name="l01225"></a><span class="lineno"> 1225</span><span class="stringliteral">                % Ghostscript croaks on % chars in the output PDF file, so use tempname and then rename the file</span></div>
<div class="line"><a id="l01226" name="l01226"></a><span class="lineno"> 1226</span><span class="stringliteral">                try</span></div>
<div class="line"><a id="l01227" name="l01227"></a><span class="lineno"> 1227</span><span class="stringliteral">                    % Rename the file (except if it is already the same)</span></div>
<div class="line"><a id="l01228" name="l01228"></a><span class="lineno"> 1228</span><span class="stringliteral">                    % Abbie K&#39;</span>s comment on the commit <span class="keywordflow">for</span> issue #179 (#commitcomment-20173476)</div>
<div class="line"><a id="l01229" name="l01229"></a><span class="lineno"> 1229</span>                    if ~isequal(pdf_nam_tmp, pdf_nam)</div>
<div class="line"><a id="l01230" name="l01230"></a><span class="lineno"> 1230</span>                        movefile(pdf_nam_tmp, pdf_nam, &#39;f&#39;);</div>
<div class="line"><a id="l01231" name="l01231"></a><span class="lineno"> 1231</span>                    end</div>
<div class="line"><a id="l01232" name="l01232"></a><span class="lineno"> 1232</span>                <span class="keywordflow">catch</span>  %movefile <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#a8c243a4f459ad113b02ee7bba809d22f">failed</a></div>
<div class="line"><a id="l01233" name="l01233"></a><span class="lineno"> 1233</span>                    % Alert in <span class="keywordflow">case</span> of error creating output PDF file (issue #179)</div>
<div class="line"><a id="l01234" name="l01234"></a><span class="lineno"> 1234</span>                    <span class="keywordflow">if</span> existFile(pdf_nam_tmp)</div>
<div class="line"><a id="l01235" name="l01235"></a><span class="lineno"> 1235</span>                        fpath = fileparts(pdf_nam);</div>
<div class="line"><a id="l01236" name="l01236"></a><span class="lineno"> 1236</span>                        <span class="keywordflow">if</span> ~isempty(fpath) &amp;&amp; exist(fpath,<span class="stringliteral">&#39;dir&#39;</span>)==0</div>
<div class="line"><a id="l01237" name="l01237"></a><span class="lineno"> 1237</span>                            errMsg = [&#39;Could not create &#39; pdf_nam &#39; - folder &quot;&#39; fpath &#39;&quot; does not exist&#39;];</div>
<div class="line"><a id="l01238" name="l01238"></a><span class="lineno"> 1238</span>                        <span class="keywordflow">else</span>  % output folder exists</div>
<div class="line"><a id="l01239" name="l01239"></a><span class="lineno"> 1239</span>                            errMsg = [&#39;Could not create &#39; pdf_nam &#39; - perhaps you do not have write permissions, or the file is open in another application&#39;];</div>
<div class="line"><a id="l01240" name="l01240"></a><span class="lineno"> 1240</span>                        end</div>
<div class="line"><a id="l01241" name="l01241"></a><span class="lineno"> 1241</span>                        error(<span class="stringliteral">&#39;savefig:PDF:create&#39;</span>,errMsg);</div>
<div class="line"><a id="l01242" name="l01242"></a><span class="lineno"> 1242</span>                    <span class="keywordflow">else</span>  % impossible: movefile succeeded but still an error</div>
<div class="line"><a id="l01243" name="l01243"></a><span class="lineno"> 1243</span>                        error(<span class="stringliteral">&#39;savefig:NoEPS&#39;</span>,<span class="stringliteral">&#39;Could not generate intermediary PDF file from %s.&#39;</span>,tmp_name);</div>
<div class="line"><a id="l01244" name="l01244"></a><span class="lineno"> 1244</span>                    end</div>
<div class="line"><a id="l01245" name="l01245"></a><span class="lineno"> 1245</span>                end</div>
<div class="line"><a id="l01246" name="l01246"></a><span class="lineno"> 1246</span>            <span class="keywordflow">catch</span> ex</div>
<div class="line"><a id="l01247" name="l01247"></a><span class="lineno"> 1247</span>                % If EPS export was requested, use base EPS file without passing through PDF</div>
<div class="line"><a id="l01248" name="l01248"></a><span class="lineno"> 1248</span>                <span class="keywordflow">if</span> options.eps</div>
<div class="line"><a id="l01249" name="l01249"></a><span class="lineno"> 1249</span>                    eps_filename = [options.name &#39;.eps&#39;];</div>
<div class="line"><a id="l01250" name="l01250"></a><span class="lineno"> 1250</span>                    warning(<span class="stringliteral">&#39;savefig:EPSviaPDF&#39;</span>,<span class="stringliteral">&#39;Could not generate intermediary PDF file, %s might be sub-optimal&#39;</span>,eps_filename);</div>
<div class="line"><a id="l01251" name="l01251"></a><span class="lineno"> 1251</span>                    movefile(tmp_nam,eps_filename,<span class="charliteral">&#39;f&#39;</span>);</div>
<div class="line"><a id="l01252" name="l01252"></a><span class="lineno"> 1252</span>                end</div>
<div class="line"><a id="l01253" name="l01253"></a><span class="lineno"> 1253</span>                % If PDF export was requested, rethrow the error</div>
<div class="line"><a id="l01254" name="l01254"></a><span class="lineno"> 1254</span>                <span class="keywordflow">if</span> options.pdf</div>
<div class="line"><a id="l01255" name="l01255"></a><span class="lineno"> 1255</span>                    % Rethrow the PDF-generation error</div>
<div class="line"><a id="l01256" name="l01256"></a><span class="lineno"> 1256</span>                    rethrow(ex);</div>
<div class="line"><a id="l01257" name="l01257"></a><span class="lineno"> 1257</span>                end</div>
<div class="line"><a id="l01258" name="l01258"></a><span class="lineno"> 1258</span>            end</div>
<div class="line"><a id="l01259" name="l01259"></a><span class="lineno"> 1259</span>            % Convert the PDF to EPS, <span class="keywordflow">if</span> EPS export was requested</div>
<div class="line"><a id="l01260" name="l01260"></a><span class="lineno"> 1260</span>            % (<span class="keywordflow">if</span> <span class="keyword">this</span> fails, use the base EPS file, without going through PDF)</div>
<div class="line"><a id="l01261" name="l01261"></a><span class="lineno"> 1261</span>            <span class="keywordflow">if</span> options.eps || options.linecaps</div>
<div class="line"><a id="l01262" name="l01262"></a><span class="lineno"> 1262</span>                <span class="keywordflow">try</span></div>
<div class="line"><a id="l01263" name="l01263"></a><span class="lineno"> 1263</span>                    % Generate an EPS from the PDF <span class="keyword">using</span> the <a class="code hl_function" href="pdftops_8m.html#a6f19fbd1da5c8afc348b22d9e4436442">pdftops</a> utility</div>
<div class="line"><a id="l01264" name="l01264"></a><span class="lineno"> 1264</span>                    % since <a class="code hl_function" href="pdftops_8m.html#a6f19fbd1da5c8afc348b22d9e4436442">pdftops</a> can<span class="stringliteral">&#39;t handle relative paths (e.g., &#39;</span>..\<span class="stringliteral">&#39;), use a temp file</span></div>
<div class="line"><a id="l01265" name="l01265"></a><span class="lineno"> 1265</span><span class="stringliteral">                    eps_nam_tmp = strrep(pdf_nam_tmp,&#39;</span>.pdf<span class="charliteral">&#39;,&#39;</span>.eps<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01266" name="l01266"></a><span class="lineno"> 1266</span><span class="stringliteral">                    try</span></div>
<div class="line"><a id="l01267" name="l01267"></a><span class="lineno"> 1267</span><span class="stringliteral">                        pdf2eps(pdf_nam, eps_nam_tmp);</span></div>
<div class="line"><a id="l01268" name="l01268"></a><span class="lineno"> 1268</span><span class="stringliteral">                    catch  % pdftops failed - use original eps file</span></div>
<div class="line"><a id="l01269" name="l01269"></a><span class="lineno"> 1269</span><span class="stringliteral">                        movefile(tmp_nam,eps_nam_tmp,&#39;</span>f<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01270" name="l01270"></a><span class="lineno"> 1270</span><span class="stringliteral">                    end</span></div>
<div class="line"><a id="l01271" name="l01271"></a><span class="lineno"> 1271</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l01272" name="l01272"></a><span class="lineno"> 1272</span><span class="stringliteral">                    % Issue #192: enable rounded line-caps</span></div>
<div class="line"><a id="l01273" name="l01273"></a><span class="lineno"> 1273</span><span class="stringliteral">                    if options.linecaps</span></div>
<div class="line"><a id="l01274" name="l01274"></a><span class="lineno"> 1274</span><span class="stringliteral">                        fstrm = read_write_entire_textfile(eps_nam_tmp);</span></div>
<div class="line"><a id="l01275" name="l01275"></a><span class="lineno"> 1275</span><span class="stringliteral">                        fstrm = regexprep(fstrm, &#39;</span>[02] J<span class="stringliteral">&#39;, &#39;</span>1 J<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01276" name="l01276"></a><span class="lineno"> 1276</span><span class="stringliteral">                        read_write_entire_textfile(eps_nam_tmp, fstrm);</span></div>
<div class="line"><a id="l01277" name="l01277"></a><span class="lineno"> 1277</span><span class="stringliteral">                        if options.pdf</span></div>
<div class="line"><a id="l01278" name="l01278"></a><span class="lineno"> 1278</span><span class="stringliteral">                            eps2pdf(eps_nam_tmp, pdf_nam, 1, options.append, options.colourspace==2, options.quality, options.gs_options);</span></div>
<div class="line"><a id="l01279" name="l01279"></a><span class="lineno"> 1279</span><span class="stringliteral">                        end</span></div>
<div class="line"><a id="l01280" name="l01280"></a><span class="lineno"> 1280</span><span class="stringliteral">                    end</span></div>
<div class="line"><a id="l01281" name="l01281"></a><span class="lineno"> 1281</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l01282" name="l01282"></a><span class="lineno"> 1282</span><span class="stringliteral">                    % Move the EPS file from temp folder/name to target location</span></div>
<div class="line"><a id="l01283" name="l01283"></a><span class="lineno"> 1283</span><span class="stringliteral">                    if options.eps</span></div>
<div class="line"><a id="l01284" name="l01284"></a><span class="lineno"> 1284</span><span class="stringliteral">                        filename = [options.name &#39;</span>.eps<span class="stringliteral">&#39;];</span></div>
<div class="line"><a id="l01285" name="l01285"></a><span class="lineno"> 1285</span><span class="stringliteral">                        movefile(eps_nam_tmp, filename, &#39;</span>f<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01286" name="l01286"></a><span class="lineno"> 1286</span><span class="stringliteral">                        if options.notify, notify(filename); end</span></div>
<div class="line"><a id="l01287" name="l01287"></a><span class="lineno"> 1287</span><span class="stringliteral">                    else  % if options.pdf</span></div>
<div class="line"><a id="l01288" name="l01288"></a><span class="lineno"> 1288</span><span class="stringliteral">                        try delete(eps_nam_tmp); catch, end</span></div>
<div class="line"><a id="l01289" name="l01289"></a><span class="lineno"> 1289</span><span class="stringliteral">                    end</span></div>
<div class="line"><a id="l01290" name="l01290"></a><span class="lineno"> 1290</span><span class="stringliteral">                catch ex</span></div>
<div class="line"><a id="l01291" name="l01291"></a><span class="lineno"> 1291</span><span class="stringliteral">                    if ~options.pdf</span></div>
<div class="line"><a id="l01292" name="l01292"></a><span class="lineno"> 1292</span><span class="stringliteral">                        % Delete the pdf</span></div>
<div class="line"><a id="l01293" name="l01293"></a><span class="lineno"> 1293</span><span class="stringliteral">                        delete(pdf_nam);</span></div>
<div class="line"><a id="l01294" name="l01294"></a><span class="lineno"> 1294</span><span class="stringliteral">                    end</span></div>
<div class="line"><a id="l01295" name="l01295"></a><span class="lineno"> 1295</span><span class="stringliteral">                    try delete(eps_nam_tmp); catch, end</span></div>
<div class="line"><a id="l01296" name="l01296"></a><span class="lineno"> 1296</span><span class="stringliteral">                    rethrow(ex);</span></div>
<div class="line"><a id="l01297" name="l01297"></a><span class="lineno"> 1297</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01298" name="l01298"></a><span class="lineno"> 1298</span><span class="stringliteral">                if ~options.pdf &amp;&amp; existFile(pdf_nam)</span></div>
<div class="line"><a id="l01299" name="l01299"></a><span class="lineno"> 1299</span><span class="stringliteral">                    % Delete the pdf</span></div>
<div class="line"><a id="l01300" name="l01300"></a><span class="lineno"> 1300</span><span class="stringliteral">                    try delete(pdf_nam); catch, end</span></div>
<div class="line"><a id="l01301" name="l01301"></a><span class="lineno"> 1301</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01302" name="l01302"></a><span class="lineno"> 1302</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l01303" name="l01303"></a><span class="lineno"> 1303</span><span class="stringliteral">            % Delete the base EPS file if it still exists</span></div>
<div class="line"><a id="l01304" name="l01304"></a><span class="lineno"> 1304</span><span class="stringliteral">            try if existFile(tmp_nam), delete(tmp_nam); end, catch, end</span></div>
<div class="line"><a id="l01305" name="l01305"></a><span class="lineno"> 1305</span><span class="stringliteral">            % Notify user about the file export (if -notify option specified)</span></div>
<div class="line"><a id="l01306" name="l01306"></a><span class="lineno"> 1306</span><span class="stringliteral">            if options.pdf &amp;&amp; options.notify, filename=pdf_nam; notify(filename); end</span></div>
<div class="line"><a id="l01307" name="l01307"></a><span class="lineno"> 1307</span><span class="stringliteral">            % Issue #206: warn if the figure contains an image</span></div>
<div class="line"><a id="l01308" name="l01308"></a><span class="lineno"> 1308</span><span class="stringliteral">            if ~isempty(hImages) &amp;&amp; strcmpi(renderer,&#39;</span>-opengl<span class="stringliteral">&#39;) &amp;&amp; ~options.silent  % see addendum to issue #206</span></div>
<div class="line"><a id="l01309" name="l01309"></a><span class="lineno"> 1309</span><span class="stringliteral">                warnMsg = [&#39;</span>exporting images to PDF/EPS may result in blurry images on some viewers. <span class="stringliteral">&#39; ...</span></div>
<div class="line"><a id="l01310" name="l01310"></a><span class="lineno"> 1310</span><span class="stringliteral">                           &#39;</span>If so, <span class="keywordflow">try</span> to change viewer, or increase the image<span class="stringliteral">&#39;&#39;</span>s CData resolution, or use -opengl renderer, or export via the print function. <span class="stringliteral">&#39; ...</span></div>
<div class="line"><a id="l01311" name="l01311"></a><span class="lineno"> 1311</span><span class="stringliteral">                           &#39;</span>See <span class="stringliteral">&#39; hyperlink(&#39;</span>https:<span class="comment">//github.com/altmany/savefig/issues/206&#39;, &#39;issue #206&#39;) &#39; for details.&#39;];</span></div>
<div class="line"><a id="l01312" name="l01312"></a><span class="lineno"> 1312</span>                warning(<span class="stringliteral">&#39;savefig:pdf_eps:blurry_image&#39;</span>, warnMsg);</div>
<div class="line"><a id="l01313" name="l01313"></a><span class="lineno"> 1313</span>            end</div>
<div class="line"><a id="l01314" name="l01314"></a><span class="lineno"> 1314</span>        end</div>
<div class="line"><a id="l01315" name="l01315"></a><span class="lineno"> 1315</span> </div>
<div class="line"><a id="l01316" name="l01316"></a><span class="lineno"> 1316</span>        % SVG format</div>
<div class="line"><a id="l01317" name="l01317"></a><span class="lineno"> 1317</span>        <span class="keywordflow">if</span> options.svg</div>
<div class="line"><a id="l01318" name="l01318"></a><span class="lineno"> 1318</span>            filename = [options.name &#39;.svg&#39;];</div>
<div class="line"><a id="l01319" name="l01319"></a><span class="lineno"> 1319</span>            % Adapted from Dan Joshea<span class="stringliteral">&#39;s https://github.com/djoshea/matlab-save-figure :</span></div>
<div class="line"><a id="l01320" name="l01320"></a><span class="lineno"> 1320</span><span class="stringliteral">            try %if ~verLessThan(&#39;</span>matlab<span class="stringliteral">&#39;, &#39;</span>8.4&#39;)</div>
<div class="line"><a id="l01321" name="l01321"></a><span class="lineno"> 1321</span>                % Try MATLAB<span class="stringliteral">&#39;s built-in svg engine (from Batik Graphics2D for java)</span></div>
<div class="line"><a id="l01322" name="l01322"></a><span class="lineno"> 1322</span><span class="stringliteral">                set(fig,&#39;</span>Units<span class="charliteral">&#39;,&#39;</span>pixels<span class="stringliteral">&#39;);   % All data in the svg-file is saved in pixels</span></div>
<div class="line"><a id="l01323" name="l01323"></a><span class="lineno"> 1323</span><span class="stringliteral">                printArgs = {renderer};</span></div>
<div class="line"><a id="l01324" name="l01324"></a><span class="lineno"> 1324</span><span class="stringliteral">                if ~isempty(options.resolution)</span></div>
<div class="line"><a id="l01325" name="l01325"></a><span class="lineno"> 1325</span><span class="stringliteral">                    printArgs{end+1} = sprintf(&#39;</span>-r%d<span class="stringliteral">&#39;, options.resolution);</span></div>
<div class="line"><a id="l01326" name="l01326"></a><span class="lineno"> 1326</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01327" name="l01327"></a><span class="lineno"> 1327</span><span class="stringliteral">                try</span></div>
<div class="line"><a id="l01328" name="l01328"></a><span class="lineno"> 1328</span><span class="stringliteral">                    print(fig, &#39;</span>-dsvg<span class="stringliteral">&#39;, printArgs{:}, filename);</span></div>
<div class="line"><a id="l01329" name="l01329"></a><span class="lineno"> 1329</span><span class="stringliteral">                catch</span></div>
<div class="line"><a id="l01330" name="l01330"></a><span class="lineno"> 1330</span><span class="stringliteral">                    % built-in print() failed, try saveas()</span></div>
<div class="line"><a id="l01331" name="l01331"></a><span class="lineno"> 1331</span><span class="stringliteral">                    % Note: saveas() currently just calls print(fig,filename,&#39;</span>-dsvg<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l01332" name="l01332"></a><span class="lineno"> 1332</span><span class="stringliteral">                    % so since print() failed, saveas() will probably also fail</span></div>
<div class="line"><a id="l01333" name="l01333"></a><span class="lineno"> 1333</span><span class="stringliteral">                    saveas(fig, filename);</span></div>
<div class="line"><a id="l01334" name="l01334"></a><span class="lineno"> 1334</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01335" name="l01335"></a><span class="lineno"> 1335</span><span class="stringliteral">                if ~options.silent</span></div>
<div class="line"><a id="l01336" name="l01336"></a><span class="lineno"> 1336</span><span class="stringliteral">                    warning(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:SVG:print<span class="stringliteral">&#39;, &#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> used MATLAB<span class="stringliteral">&#39;&#39;</span>s built-in SVG output engine. Better results may be gotten via the fig2svg utility (https:<span class="comment">//github.com/kupiqu/fig2svg).&#39;);</span></div>
<div class="line"><a id="l01337" name="l01337"></a><span class="lineno"> 1337</span>                end</div>
<div class="line"><a id="l01338" name="l01338"></a><span class="lineno"> 1338</span>            <span class="keywordflow">catch</span> %<span class="keywordflow">else</span>  % built-in print()/saveas() <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#a8c243a4f459ad113b02ee7bba809d22f">failed</a> - maybe an old MATLAB <a class="code hl_function" href="release_8m.html#a51df1f91ecccd6f14aa72471c11fb780">release</a> (no -dsvg)</div>
<div class="line"><a id="l01339" name="l01339"></a><span class="lineno"> 1339</span>                % Try using the fig2svg/plot2svg utilities</div>
<div class="line"><a id="l01340" name="l01340"></a><span class="lineno"> 1340</span>                try</div>
<div class="line"><a id="l01341" name="l01341"></a><span class="lineno"> 1341</span>                    try</div>
<div class="line"><a id="l01342" name="l01342"></a><span class="lineno"> 1342</span>                        fig2svg(filename, fig);  %https:<span class="comment">//github.com/kupiqu/fig2svg</span></div>
<div class="line"><a id="l01343" name="l01343"></a><span class="lineno"> 1343</span>                    catch</div>
<div class="line"><a id="l01344" name="l01344"></a><span class="lineno"> 1344</span>                        plot2svg(filename, fig); %https:<span class="comment">//github.com/jschwizer99/plot2svg</span></div>
<div class="line"><a id="l01345" name="l01345"></a><span class="lineno"> 1345</span>                        if ~options.silent</div>
<div class="line"><a id="l01346" name="l01346"></a><span class="lineno"> 1346</span>                            warning(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:SVG:plot2svg&#39;, &#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> used the plot2svg utility for SVG output. Better results may be gotten via the fig2svg utility (https:<span class="comment">//github.com/kupiqu/fig2svg).&#39;);</span></div>
<div class="line"><a id="l01347" name="l01347"></a><span class="lineno"> 1347</span>                        end</div>
<div class="line"><a id="l01348" name="l01348"></a><span class="lineno"> 1348</span>                    end</div>
<div class="line"><a id="l01349" name="l01349"></a><span class="lineno"> 1349</span>                catch err</div>
<div class="line"><a id="l01350" name="l01350"></a><span class="lineno"> 1350</span>                    filename = strrep(filename,&#39;export_fig_out&#39;,&#39;filename&#39;);</div>
<div class="line"><a id="l01351" name="l01351"></a><span class="lineno"> 1351</span>                    msg = [&#39;SVG output is not supported for your figure: &#39; err.message &#39;\n&#39; ...</div>
<div class="line"><a id="l01352" name="l01352"></a><span class="lineno"> 1352</span>                        &#39;Try one of the following alternatives:\n&#39; ...</div>
<div class="line"><a id="l01353" name="l01353"></a><span class="lineno"> 1353</span>                        &#39;  1. saveas(gcf,&#39;&#39;&#39; filename &#39;&#39;&#39;)\n&#39; ...</div>
<div class="line"><a id="l01354" name="l01354"></a><span class="lineno"> 1354</span>                        &#39;  2. fig2svg utility: https:<span class="comment">//github.com/kupiqu/fig2svg\n&#39; ...  % Note: replaced defunct https://github.com/jschwizer99/plot2svg with up-to-date fork on https://github.com/kupiqu/fig2svg</span></div>
<div class="line"><a id="l01355" name="l01355"></a><span class="lineno"> 1355</span>                        &#39;  3. <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> to EPS/PDF, then convert to SVG using non-MATLAB tools\n&#39;];</div>
<div class="line"><a id="l01356" name="l01356"></a><span class="lineno"> 1356</span>                    error(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:SVG:error&#39;,msg);</div>
<div class="line"><a id="l01357" name="l01357"></a><span class="lineno"> 1357</span>                end</div>
<div class="line"><a id="l01358" name="l01358"></a><span class="lineno"> 1358</span>            end</div>
<div class="line"><a id="l01359" name="l01359"></a><span class="lineno"> 1359</span>            % SVG output was successful if we reached this point</div>
<div class="line"><a id="l01360" name="l01360"></a><span class="lineno"> 1360</span>            % Add warning about unsupported <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> options with SVG output</div>
<div class="line"><a id="l01361" name="l01361"></a><span class="lineno"> 1361</span>            if ~options.silent &amp;&amp; (any(~isnan(options.crop_amounts)) || any(options.bb_padding))</div>
<div class="line"><a id="l01362" name="l01362"></a><span class="lineno"> 1362</span>                warning(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:SVG:options&#39;, &#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>&#39;&#39;s SVG output does not [currently] support cropping/padding.&#39;);</div>
<div class="line"><a id="l01363" name="l01363"></a><span class="lineno"> 1363</span>            end</div>
<div class="line"><a id="l01364" name="l01364"></a><span class="lineno"> 1364</span> </div>
<div class="line"><a id="l01365" name="l01365"></a><span class="lineno"> 1365</span>            % Fix the generated SVG file, based on Cris Luengo&#39;s SVG_FIX_VIEWBOX:</div>
<div class="line"><a id="l01366" name="l01366"></a><span class="lineno"> 1366</span>            % https:<span class="comment">//www.mathworks.com/matlabcentral/fileexchange/49617-svg_fix_viewbox-in_name-varargin</span></div>
<div class="line"><a id="l01367" name="l01367"></a><span class="lineno"> 1367</span>            try</div>
<div class="line"><a id="l01368" name="l01368"></a><span class="lineno"> 1368</span>                % Read SVG file</div>
<div class="line"><a id="l01369" name="l01369"></a><span class="lineno"> 1369</span>                s = <a class="code hl_function" href="read__write__entire__textfile_8m.html#ad6731c3b0a0c4ac289173fcae4f0a8da">read_write_entire_textfile</a>(filename);</div>
<div class="line"><a id="l01370" name="l01370"></a><span class="lineno"> 1370</span>                % Fix fonts <span class="preprocessor">#1: &#39;SansSerif&#39; doesn&#39;t work on my browser, the correct CSS is &#39;sans-serif&#39;</span></div>
<div class="line"><a id="l01371" name="l01371"></a><span class="lineno"> 1371</span>                s = regexprep(s,<span class="stringliteral">&#39;font-family:SansSerif;|font-family:&#39;</span><span class="stringliteral">&#39;SansSerif&#39;</span><span class="charliteral">&#39;;&#39;</span>,<span class="stringliteral">&#39;font-family:&#39;</span><span class="stringliteral">&#39;sans-serif&#39;</span><span class="charliteral">&#39;;&#39;</span>);</div>
<div class="line"><a id="l01372" name="l01372"></a><span class="lineno"> 1372</span>                % Fix fonts #1: The document-wide <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1split2real.html#ab54ab7b589a005c1a2f537b0af530de3">default</a> font is &#39;Dialog&#39;. What is this anyway?</div>
<div class="line"><a id="l01373" name="l01373"></a><span class="lineno"> 1373</span>                s = regexprep(s,&#39;font-family:&#39;&#39;Dialog&#39;&#39;;<span class="charliteral">&#39;,&#39;</span>font-family:&#39;&#39;sans-serif&#39;&#39;;<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01374" name="l01374"></a><span class="lineno"> 1374</span><span class="stringliteral">                % Replace &#39;</span>width=<span class="stringliteral">&quot;xxx&quot;</span> height=<span class="stringliteral">&quot;yyy&quot;</span><span class="stringliteral">&#39; with &#39;</span>width=<span class="stringliteral">&quot;100%&quot;</span> viewBox=<span class="stringliteral">&quot;0 0 xxx yyy&quot;</span><span class="stringliteral">&#39;</span></div>
<div class="line"><a id="l01375" name="l01375"></a><span class="lineno"> 1375</span><span class="stringliteral">                t = regexp(s,&#39;</span>&lt;svg.* width=<span class="stringliteral">&quot;(?&lt;width&gt;[0-9]*)&quot;</span> height=<span class="stringliteral">&quot;(?&lt;height&gt;[0-9]*)&quot;</span><span class="charliteral">&#39;,&#39;</span>names<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01376" name="l01376"></a><span class="lineno"> 1376</span><span class="stringliteral">                if ~isempty(t)</span></div>
<div class="line"><a id="l01377" name="l01377"></a><span class="lineno"> 1377</span><span class="stringliteral">                    relativeWidth = 100;  %TODO - user-settable via input parameter?</span></div>
<div class="line"><a id="l01378" name="l01378"></a><span class="lineno"> 1378</span><span class="stringliteral">                    s = regexprep(s,&#39;</span>(?&lt;=&lt;svg[^\n]*) width=<span class="stringliteral">&quot;[0-9]*&quot;</span> height=<span class="stringliteral">&quot;[0-9]*&quot;</span><span class="stringliteral">&#39;,sprintf(&#39;</span> width=<span class="stringliteral">&quot;%d\\%%&quot;</span> viewBox=<span class="stringliteral">&quot;0 0 %s %s&quot;</span><span class="stringliteral">&#39;,relativeWidth,t.width,t.height));</span></div>
<div class="line"><a id="l01379" name="l01379"></a><span class="lineno"> 1379</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01380" name="l01380"></a><span class="lineno"> 1380</span><span class="stringliteral">                % Write updated SVG file</span></div>
<div class="line"><a id="l01381" name="l01381"></a><span class="lineno"> 1381</span><span class="stringliteral">                read_write_entire_textfile(filename, s);</span></div>
<div class="line"><a id="l01382" name="l01382"></a><span class="lineno"> 1382</span><span class="stringliteral">            catch</span></div>
<div class="line"><a id="l01383" name="l01383"></a><span class="lineno"> 1383</span><span class="stringliteral">                % never mind - ignore</span></div>
<div class="line"><a id="l01384" name="l01384"></a><span class="lineno"> 1384</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l01385" name="l01385"></a><span class="lineno"> 1385</span><span class="stringliteral">            if options.notify, notify(filename); end</span></div>
<div class="line"><a id="l01386" name="l01386"></a><span class="lineno"> 1386</span><span class="stringliteral">        end</span></div>
<div class="line"><a id="l01387" name="l01387"></a><span class="lineno"> 1387</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l01388" name="l01388"></a><span class="lineno"> 1388</span><span class="stringliteral">        % EMF format</span></div>
<div class="line"><a id="l01389" name="l01389"></a><span class="lineno"> 1389</span><span class="stringliteral">        if options.emf</span></div>
<div class="line"><a id="l01390" name="l01390"></a><span class="lineno"> 1390</span><span class="stringliteral">            try</span></div>
<div class="line"><a id="l01391" name="l01391"></a><span class="lineno"> 1391</span><span class="stringliteral">                anythingChanged = false;</span></div>
<div class="line"><a id="l01392" name="l01392"></a><span class="lineno"> 1392</span><span class="stringliteral">                % Handle transparent bgcolor request</span></div>
<div class="line"><a id="l01393" name="l01393"></a><span class="lineno"> 1393</span><span class="stringliteral">                if options.transparent &amp;&amp; ~isequal(tcol_orig,&#39;</span>none<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l01394" name="l01394"></a><span class="lineno"> 1394</span><span class="stringliteral">                    anythingChanged = true;</span></div>
<div class="line"><a id="l01395" name="l01395"></a><span class="lineno"> 1395</span><span class="stringliteral">                    set(fig, &#39;</span>Color<span class="charliteral">&#39;,&#39;</span>none<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01396" name="l01396"></a><span class="lineno"> 1396</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01397" name="l01397"></a><span class="lineno"> 1397</span><span class="stringliteral">                if ~options.silent</span></div>
<div class="line"><a id="l01398" name="l01398"></a><span class="lineno"> 1398</span><span class="stringliteral">                    isDefaultMag = options.resolution==864 &amp;&amp; options.magnify==1;</span></div>
<div class="line"><a id="l01399" name="l01399"></a><span class="lineno"> 1399</span><span class="stringliteral">                    if ~ispc</span></div>
<div class="line"><a id="l01400" name="l01400"></a><span class="lineno"> 1400</span><span class="stringliteral">                        warning(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:EMF:NotWindows<span class="stringliteral">&#39;, &#39;</span>EMF is only supported on Windows; exporting to EMF format on <span class="keyword">this</span> machine may result in unexpected behavior.<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01401" name="l01401"></a><span class="lineno"> 1401</span><span class="stringliteral">                    elseif isequal(renderer,&#39;</span>-painters<span class="stringliteral">&#39;) &amp;&amp; ~isDefaultMag</span></div>
<div class="line"><a id="l01402" name="l01402"></a><span class="lineno"> 1402</span><span class="stringliteral">                        warning(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:EMF:Painters<span class="stringliteral">&#39;, &#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> -r and -m options are ignored for EMF export using the -painters renderer.&#39;);</div>
<div class="line"><a id="l01403" name="l01403"></a><span class="lineno"> 1403</span>                    elseif ~isDefaultMag &amp;&amp; abs(get(0,<span class="stringliteral">&#39;ScreenPixelsPerInch&#39;</span>)*options.magnify - options.resolution) &gt; 1e-6</div>
<div class="line"><a id="l01404" name="l01404"></a><span class="lineno"> 1404</span>                        warning(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:EMF:Magnify&#39;, &#39;savefig -m option is ignored for EMF export.&#39;);</div>
<div class="line"><a id="l01405" name="l01405"></a><span class="lineno"> 1405</span>                    end</div>
<div class="line"><a id="l01406" name="l01406"></a><span class="lineno"> 1406</span>                    <span class="keywordflow">if</span> ~isequal(options.bb_padding,0) || ~isempty(options.quality)</div>
<div class="line"><a id="l01407" name="l01407"></a><span class="lineno"> 1407</span>                        warning(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:EMF:Options&#39;, &#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> cropping, padding and quality options are ignored for EMF export.&#39;);</div>
<div class="line"><a id="l01408" name="l01408"></a><span class="lineno"> 1408</span>                    end</div>
<div class="line"><a id="l01409" name="l01409"></a><span class="lineno"> 1409</span>                    if ~anythingChanged &amp;&amp; ~isdeployed</div>
<div class="line"><a id="l01410" name="l01410"></a><span class="lineno"> 1410</span>                        warning(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:EMF:print&#39;, &#39;For <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> figure without background transparency, <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> uses MATLAB&#39;&#39;s built-in print(&#39;&#39;-dmeta&#39;&#39;) function without any extra processing, so try using it directly.&#39;);</div>
<div class="line"><a id="l01411" name="l01411"></a><span class="lineno"> 1411</span>                    end</div>
<div class="line"><a id="l01412" name="l01412"></a><span class="lineno"> 1412</span>                end</div>
<div class="line"><a id="l01413" name="l01413"></a><span class="lineno"> 1413</span>                printArgs = {renderer};</div>
<div class="line"><a id="l01414" name="l01414"></a><span class="lineno"> 1414</span>                <span class="keywordflow">if</span> ~isempty(options.resolution)</div>
<div class="line"><a id="l01415" name="l01415"></a><span class="lineno"> 1415</span>                    printArgs{end+1} = sprintf(&#39;-r%d&#39;, options.resolution);</div>
<div class="line"><a id="l01416" name="l01416"></a><span class="lineno"> 1416</span>                end</div>
<div class="line"><a id="l01417" name="l01417"></a><span class="lineno"> 1417</span>                filename = [options.name &#39;.emf&#39;];</div>
<div class="line"><a id="l01418" name="l01418"></a><span class="lineno"> 1418</span>                print(fig, <span class="stringliteral">&#39;-dmeta&#39;</span>, printArgs{:}, filename);</div>
<div class="line"><a id="l01419" name="l01419"></a><span class="lineno"> 1419</span>                <span class="keywordflow">if</span> options.notify, notify(filename); end</div>
<div class="line"><a id="l01420" name="l01420"></a><span class="lineno"> 1420</span>            <span class="keywordflow">catch</span> err  % built-in print() <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#a8c243a4f459ad113b02ee7bba809d22f">failed</a> - maybe an old MATLAB <a class="code hl_function" href="release_8m.html#a51df1f91ecccd6f14aa72471c11fb780">release</a> (no -dsvg)</div>
<div class="line"><a id="l01421" name="l01421"></a><span class="lineno"> 1421</span>                msg = [&#39;EMF output is not supported: &#39; err.message &#39;\n&#39; ...</div>
<div class="line"><a id="l01422" name="l01422"></a><span class="lineno"> 1422</span>                       &#39;Try to use savefig with other formats, such as PDF or EPS.\n&#39;];</div>
<div class="line"><a id="l01423" name="l01423"></a><span class="lineno"> 1423</span>                error(<span class="stringliteral">&#39;savefig:EMF:error&#39;</span>,msg);</div>
<div class="line"><a id="l01424" name="l01424"></a><span class="lineno"> 1424</span>            end</div>
<div class="line"><a id="l01425" name="l01425"></a><span class="lineno"> 1425</span>        end</div>
<div class="line"><a id="l01426" name="l01426"></a><span class="lineno"> 1426</span> </div>
<div class="line"><a id="l01427" name="l01427"></a><span class="lineno"> 1427</span>        % Revert the figure or close it (<span class="keywordflow">if</span> requested)</div>
<div class="line"><a id="l01428" name="l01428"></a><span class="lineno"> 1428</span>        <span class="keywordflow">if</span> cls || options.closeFig</div>
<div class="line"><a id="l01429" name="l01429"></a><span class="lineno"> 1429</span>            % Close the created figure</div>
<div class="line"><a id="l01430" name="l01430"></a><span class="lineno"> 1430</span>            close(fig);</div>
<div class="line"><a id="l01431" name="l01431"></a><span class="lineno"> 1431</span>        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01432" name="l01432"></a><span class="lineno"> 1432</span>            % Reset the hardcopy mode</div>
<div class="line"><a id="l01433" name="l01433"></a><span class="lineno"> 1433</span>            <span class="keywordflow">try</span> set(fig, <span class="stringliteral">&#39;InvertHardcopy&#39;</span>, old_mode); <span class="keywordflow">catch</span>, end  % fail silently in uifigures</div>
<div class="line"><a id="l01434" name="l01434"></a><span class="lineno"> 1434</span>            % Reset the axes limit and tick modes</div>
<div class="line"><a id="l01435" name="l01435"></a><span class="lineno"> 1435</span>            <span class="keywordflow">for</span> <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> = 1:numel(Hlims)</div>
<div class="line"><a id="l01436" name="l01436"></a><span class="lineno"> 1436</span>                <span class="keyword">try</span></div>
<div class="line"><a id="l01437" name="l01437"></a><span class="lineno"> 1437</span>                    set(Hlims(<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>), <span class="stringliteral">&#39;XLimMode&#39;</span>,       Xlims{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>},  <span class="stringliteral">&#39;YLimMode&#39;</span>,       Ylims{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>},  <span class="stringliteral">&#39;ZLimMode&#39;</span>,       Zlims{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>},...</div>
<div class="line"><a id="l01438" name="l01438"></a><span class="lineno"> 1438</span>                                  <span class="stringliteral">&#39;XTickMode&#39;</span>,      Xtick{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>},  <span class="stringliteral">&#39;YTickMode&#39;</span>,      Ytick{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>},  <span class="stringliteral">&#39;ZTickMode&#39;</span>,      Ztick{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>},...</div>
<div class="line"><a id="l01439" name="l01439"></a><span class="lineno"> 1439</span>                                  <span class="stringliteral">&#39;XTickLabelMode&#39;</span>, Xlabel{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>}, <span class="stringliteral">&#39;YTickLabelMode&#39;</span>, Ylabel{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>}, <span class="stringliteral">&#39;ZTickLabelMode&#39;</span>, Zlabel{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>});</div>
<div class="line"><a id="l01440" name="l01440"></a><span class="lineno"> 1440</span>                  <span class="keywordflow">try</span>  % only in R2021a+</div>
<div class="line"><a id="l01441" name="l01441"></a><span class="lineno"> 1441</span>                    set(Hlims(<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>), &#39;XTickLabelRotationMode&#39;, Xtkrot{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>}, ...</div>
<div class="line"><a id="l01442" name="l01442"></a><span class="lineno"> 1442</span>                                  <span class="stringliteral">&#39;YTickLabelRotationMode&#39;</span>, Ytkrot{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>}, ...</div>
<div class="line"><a id="l01443" name="l01443"></a><span class="lineno"> 1443</span>                                  <span class="stringliteral">&#39;ZTickLabelRotationMode&#39;</span>, Ztkrot{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>});</div>
<div class="line"><a id="l01444" name="l01444"></a><span class="lineno"> 1444</span>                  <span class="keywordflow">catch</span></div>
<div class="line"><a id="l01445" name="l01445"></a><span class="lineno"> 1445</span>                      % ignore - possibly R2020b or earlier</div>
<div class="line"><a id="l01446" name="l01446"></a><span class="lineno"> 1446</span>                  end</div>
<div class="line"><a id="l01447" name="l01447"></a><span class="lineno"> 1447</span>                catch</div>
<div class="line"><a id="l01448" name="l01448"></a><span class="lineno"> 1448</span>                    % ignore - fix issue #4 (using HG2 on R2014a and earlier)</div>
<div class="line"><a id="l01449" name="l01449"></a><span class="lineno"> 1449</span>                end</div>
<div class="line"><a id="l01450" name="l01450"></a><span class="lineno"> 1450</span>            end</div>
<div class="line"><a id="l01451" name="l01451"></a><span class="lineno"> 1451</span>            % Revert the tex-labels font weights</div>
<div class="line"><a id="l01452" name="l01452"></a><span class="lineno"> 1452</span>            try set(texLabels, &#39;FontWeight&#39;,&#39;bold&#39;); <span class="keywordflow">catch</span>, end</div>
<div class="line"><a id="l01453" name="l01453"></a><span class="lineno"> 1453</span>            % Revert annotation units</div>
<div class="line"><a id="l01454" name="l01454"></a><span class="lineno"> 1454</span>            <span class="keywordflow">for</span> handleIdx = 1 : numel(annotationHandles)</div>
<div class="line"><a id="l01455" name="l01455"></a><span class="lineno"> 1455</span>                <span class="keyword">try</span></div>
<div class="line"><a id="l01456" name="l01456"></a><span class="lineno"> 1456</span>                    oldUnits = originalUnits{handleIdx};</div>
<div class="line"><a id="l01457" name="l01457"></a><span class="lineno"> 1457</span>                <span class="keywordflow">catch</span></div>
<div class="line"><a id="l01458" name="l01458"></a><span class="lineno"> 1458</span>                    oldUnits = originalUnits;</div>
<div class="line"><a id="l01459" name="l01459"></a><span class="lineno"> 1459</span>                end</div>
<div class="line"><a id="l01460" name="l01460"></a><span class="lineno"> 1460</span>                <span class="keywordflow">try</span> set(annotationHandles(handleIdx),<span class="stringliteral">&#39;Units&#39;</span>,oldUnits); <span class="keywordflow">catch</span>, end</div>
<div class="line"><a id="l01461" name="l01461"></a><span class="lineno"> 1461</span>            end</div>
<div class="line"><a id="l01462" name="l01462"></a><span class="lineno"> 1462</span>            % Revert figure properties in <span class="keywordflow">case</span> they were changed</div>
<div class="line"><a id="l01463" name="l01463"></a><span class="lineno"> 1463</span>            <span class="keywordflow">try</span> set(fig, <span class="stringliteral">&#39;Units&#39;</span>,oldFigUnits, <span class="stringliteral">&#39;Position&#39;</span>,pos, <span class="stringliteral">&#39;Color&#39;</span>,tcol_orig); <span class="keywordflow">catch</span>, end</div>
<div class="line"><a id="l01464" name="l01464"></a><span class="lineno"> 1464</span>        end</div>
<div class="line"><a id="l01465" name="l01465"></a><span class="lineno"> 1465</span> </div>
<div class="line"><a id="l01466" name="l01466"></a><span class="lineno"> 1466</span>        % Output to clipboard (<span class="keywordflow">if</span> requested)</div>
<div class="line"><a id="l01467" name="l01467"></a><span class="lineno"> 1467</span>        <span class="keywordflow">if</span> options.clipboard</div>
<div class="line"><a id="l01468" name="l01468"></a><span class="lineno"> 1468</span>            % Use Java clipboard by <span class="keywordflow">default</span></div>
<div class="line"><a id="l01469" name="l01469"></a><span class="lineno"> 1469</span>            <span class="keywordflow">if</span> strcmpi(options.clipformat,<span class="stringliteral">&#39;image&#39;</span>)</div>
<div class="line"><a id="l01470" name="l01470"></a><span class="lineno"> 1470</span>                % Save the image in the system clipboard</div>
<div class="line"><a id="l01471" name="l01471"></a><span class="lineno"> 1471</span>                % credit: Jiro Doke<span class="stringliteral">&#39;s IMCLIPBOARD: http://www.mathworks.com/matlabcentral/fileexchange/28708-imclipboard</span></div>
<div class="line"><a id="l01472" name="l01472"></a><span class="lineno"> 1472</span><span class="stringliteral">                try</span></div>
<div class="line"><a id="l01473" name="l01473"></a><span class="lineno"> 1473</span><span class="stringliteral">                    error(javachk(&#39;</span>awt<span class="stringliteral">&#39;, &#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> -clipboard output&#39;));</div>
<div class="line"><a id="l01474" name="l01474"></a><span class="lineno"> 1474</span>                <span class="keywordflow">catch</span></div>
<div class="line"><a id="l01475" name="l01475"></a><span class="lineno"> 1475</span>                    <span class="keywordflow">if</span> ~options.silent</div>
<div class="line"><a id="l01476" name="l01476"></a><span class="lineno"> 1476</span>                        warning(<span class="stringliteral">&#39;savefig:clipboardJava&#39;</span>, <span class="stringliteral">&#39;savefig -clipboard output failed: requires Java to work&#39;</span>);</div>
<div class="line"><a id="l01477" name="l01477"></a><span class="lineno"> 1477</span>                    end</div>
<div class="line"><a id="l01478" name="l01478"></a><span class="lineno"> 1478</span>                    <span class="keywordflow">return</span></div>
<div class="line"><a id="l01479" name="l01479"></a><span class="lineno"> 1479</span>                end</div>
<div class="line"><a id="l01480" name="l01480"></a><span class="lineno"> 1480</span>                <span class="keywordflow">try</span></div>
<div class="line"><a id="l01481" name="l01481"></a><span class="lineno"> 1481</span>                    % Import necessary Java classes</div>
<div class="line"><a id="l01482" name="l01482"></a><span class="lineno"> 1482</span>                    <span class="keyword">import</span> java.awt.Toolkit                 %#ok&lt;SIMPT&gt;</div>
<div class="line"><a id="l01483" name="l01483"></a><span class="lineno"> 1483</span>                    <span class="keyword">import</span> java.awt.image.BufferedImage     %#ok&lt;SIMPT&gt;</div>
<div class="line"><a id="l01484" name="l01484"></a><span class="lineno"> 1484</span>                    <span class="keyword">import</span> java.awt.datatransfer.DataFlavor %#ok&lt;SIMPT&gt;</div>
<div class="line"><a id="l01485" name="l01485"></a><span class="lineno"> 1485</span> </div>
<div class="line"><a id="l01486" name="l01486"></a><span class="lineno"> 1486</span>                    % Get System Clipboard object (java.awt.Toolkit)</div>
<div class="line"><a id="l01487" name="l01487"></a><span class="lineno"> 1487</span>                    cb = Toolkit.getDefaultToolkit.getSystemClipboard; % can&#39;t use () in ML6!</div>
<div class="line"><a id="l01488" name="l01488"></a><span class="lineno"> 1488</span> </div>
<div class="line"><a id="l01489" name="l01489"></a><span class="lineno"> 1489</span>                    % Add java class (<a class="code hl_class" href="classImageSelection.html">ImageSelection</a>) to the path</div>
<div class="line"><a id="l01490" name="l01490"></a><span class="lineno"> 1490</span>                    if ~exist(&#39;<a class="code hl_class" href="classImageSelection.html">ImageSelection</a>&#39;, &#39;class&#39;)</div>
<div class="line"><a id="l01491" name="l01491"></a><span class="lineno"> 1491</span>                        % Obtain the directory of the executable (or of the M-file if not deployed)</div>
<div class="line"><a id="l01492" name="l01492"></a><span class="lineno"> 1492</span>                        %javaaddpath(fileparts(<a class="code hl_function" href="namespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1which.html#a1b834b4e4b89ed9f7aae0da42263af15">which</a>(mfilename)), &#39;-end&#39;);</div>
<div class="line"><a id="l01493" name="l01493"></a><span class="lineno"> 1493</span>                        if isdeployed % Stand-alone mode</div>
<div class="line"><a id="l01494" name="l01494"></a><span class="lineno"> 1494</span>                            [status, result] = system(&#39;path&#39;);  %<span class="preprocessor">#ok&lt;ASGLU&gt;</span></div>
<div class="line"><a id="l01495" name="l01495"></a><span class="lineno"> 1495</span>                            MatLabFilePath = char(regexpi(result, <span class="stringliteral">&#39;Path=(.*?);&#39;</span>, <span class="stringliteral">&#39;tokens&#39;</span>, <span class="stringliteral">&#39;once&#39;</span>));</div>
<div class="line"><a id="l01496" name="l01496"></a><span class="lineno"> 1496</span>                        <span class="keywordflow">else</span> % MATLAB mode.</div>
<div class="line"><a id="l01497" name="l01497"></a><span class="lineno"> 1497</span>                            MatLabFilePath = fileparts(mfilename(<span class="stringliteral">&#39;fullpath&#39;</span>));</div>
<div class="line"><a id="l01498" name="l01498"></a><span class="lineno"> 1498</span>                        end</div>
<div class="line"><a id="l01499" name="l01499"></a><span class="lineno"> 1499</span>                        javaaddpath(MatLabFilePath, <span class="stringliteral">&#39;-end&#39;</span>);</div>
<div class="line"><a id="l01500" name="l01500"></a><span class="lineno"> 1500</span>                    end</div>
<div class="line"><a id="l01501" name="l01501"></a><span class="lineno"> 1501</span> </div>
<div class="line"><a id="l01502" name="l01502"></a><span class="lineno"> 1502</span>                    % Get image size</div>
<div class="line"><a id="l01503" name="l01503"></a><span class="lineno"> 1503</span>                    ht = size(imageData, 1);</div>
<div class="line"><a id="l01504" name="l01504"></a><span class="lineno"> 1504</span>                    wd = size(imageData, 2);</div>
<div class="line"><a id="l01505" name="l01505"></a><span class="lineno"> 1505</span> </div>
<div class="line"><a id="l01506" name="l01506"></a><span class="lineno"> 1506</span>                    % Convert to Blue-Green-Red format</div>
<div class="line"><a id="l01507" name="l01507"></a><span class="lineno"> 1507</span>                    try</div>
<div class="line"><a id="l01508" name="l01508"></a><span class="lineno"> 1508</span>                        imageData2 = imageData(:, :, [3 2 1]);</div>
<div class="line"><a id="l01509" name="l01509"></a><span class="lineno"> 1509</span>                    <span class="keywordflow">catch</span></div>
<div class="line"><a id="l01510" name="l01510"></a><span class="lineno"> 1510</span>                        % Probably gray-scaled image (2D, without the 3rd [RGB] dimension)</div>
<div class="line"><a id="l01511" name="l01511"></a><span class="lineno"> 1511</span>                        imageData2 = imageData(:, :, [1 1 1]);</div>
<div class="line"><a id="l01512" name="l01512"></a><span class="lineno"> 1512</span>                    end</div>
<div class="line"><a id="l01513" name="l01513"></a><span class="lineno"> 1513</span> </div>
<div class="line"><a id="l01514" name="l01514"></a><span class="lineno"> 1514</span>                    % Convert to 3xWxH format</div>
<div class="line"><a id="l01515" name="l01515"></a><span class="lineno"> 1515</span>                    imageData2 = permute(imageData2, [3, 2, 1]);</div>
<div class="line"><a id="l01516" name="l01516"></a><span class="lineno"> 1516</span> </div>
<div class="line"><a id="l01517" name="l01517"></a><span class="lineno"> 1517</span>                    % Append Alpha data (unused - transparency is not supported in clipboard <a class="code hl_function" href="copy_8m.html#ab633577f583e18a523fef5b3b2295eee">copy</a>)</div>
<div class="line"><a id="l01518" name="l01518"></a><span class="lineno"> 1518</span>                    alphaData2 = uint8(permute(255*alpha,[3,2,1])); %=255*ones(1,wd,ht,<span class="stringliteral">&#39;uint8&#39;</span>)</div>
<div class="line"><a id="l01519" name="l01519"></a><span class="lineno"> 1519</span>                    imageData2 = cat(1, imageData2, alphaData2);</div>
<div class="line"><a id="l01520" name="l01520"></a><span class="lineno"> 1520</span> </div>
<div class="line"><a id="l01521" name="l01521"></a><span class="lineno"> 1521</span>                    % Create image buffer</div>
<div class="line"><a id="l01522" name="l01522"></a><span class="lineno"> 1522</span>                    % Note: contrary to <a class="code hl_function" href="print2array_8m.html#aaf500360abeaa0f66c501c642cfc45e5">print2array</a> &amp; screencapture, <a class="code hl_function" href="namespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1which.html#a1b834b4e4b89ed9f7aae0da42263af15">which</a> convert</div>
<div class="line"><a id="l01523" name="l01523"></a><span class="lineno"> 1523</span>                    % ^^^^  <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> Java screencaptured BufferedImage into RGBA and must</div>
<div class="line"><a id="l01524" name="l01524"></a><span class="lineno"> 1524</span>                    %       use TYPE_INT_RGB for this, here we do the reverse and</div>
<div class="line"><a id="l01525" name="l01525"></a><span class="lineno"> 1525</span>                    %       must use TYPE_INT_ARGB to preserve the alpha channel.</div>
<div class="line"><a id="l01526" name="l01526"></a><span class="lineno"> 1526</span>                    imBuffer = BufferedImage(wd, ht, BufferedImage.TYPE_INT_ARGB);</div>
<div class="line"><a id="l01527" name="l01527"></a><span class="lineno"> 1527</span>                    imBuffer.setRGB(0, 0, wd, ht, typecast(imageData2(:), &#39;int32&#39;), 0, wd);</div>
<div class="line"><a id="l01528" name="l01528"></a><span class="lineno"> 1528</span> </div>
<div class="line"><a id="l01529" name="l01529"></a><span class="lineno"> 1529</span>                    % Create <a class="code hl_class" href="classImageSelection.html">ImageSelection</a> <span class="keywordtype">object</span> from the image buffer</div>
<div class="line"><a id="l01530" name="l01530"></a><span class="lineno"> 1530</span>                    imSelection = <a class="code hl_class" href="classImageSelection.html">ImageSelection</a>(imBuffer);</div>
<div class="line"><a id="l01531" name="l01531"></a><span class="lineno"> 1531</span> </div>
<div class="line"><a id="l01532" name="l01532"></a><span class="lineno"> 1532</span>                    % Set clipboard content to the image</div>
<div class="line"><a id="l01533" name="l01533"></a><span class="lineno"> 1533</span>                    cb.setContents(imSelection, []);</div>
<div class="line"><a id="l01534" name="l01534"></a><span class="lineno"> 1534</span>                catch</div>
<div class="line"><a id="l01535" name="l01535"></a><span class="lineno"> 1535</span>                    if ~options.silent</div>
<div class="line"><a id="l01536" name="l01536"></a><span class="lineno"> 1536</span>                        warning(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:clipboardFailed&#39;, &#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> -clipboard output <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#a8c243a4f459ad113b02ee7bba809d22f">failed</a>: %s&#39;, lasterr); %<span class="preprocessor">#ok&lt;LERR&gt;</span></div>
<div class="line"><a id="l01537" name="l01537"></a><span class="lineno"> 1537</span>                    end</div>
<div class="line"><a id="l01538" name="l01538"></a><span class="lineno"> 1538</span>                end</div>
<div class="line"><a id="l01539" name="l01539"></a><span class="lineno"> 1539</span>            <span class="keywordflow">else</span>  % use one of print()<span class="stringliteral">&#39;s builtin clipboard formats</span></div>
<div class="line"><a id="l01540" name="l01540"></a><span class="lineno"> 1540</span><span class="stringliteral">                % Remove background if requested (EMF format only)</span></div>
<div class="line"><a id="l01541" name="l01541"></a><span class="lineno"> 1541</span><span class="stringliteral">                if options.transparent &amp;&amp; strcmpi(options.clipformat,&#39;</span>meta<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l01542" name="l01542"></a><span class="lineno"> 1542</span><span class="stringliteral">                    % Set figure bgcolor to none</span></div>
<div class="line"><a id="l01543" name="l01543"></a><span class="lineno"> 1543</span><span class="stringliteral">                    originalBgColor = get(fig, &#39;</span>Color<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01544" name="l01544"></a><span class="lineno"> 1544</span><span class="stringliteral">                    set(fig,&#39;</span>Color<span class="charliteral">&#39;,&#39;</span>none<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01545" name="l01545"></a><span class="lineno"> 1545</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l01546" name="l01546"></a><span class="lineno"> 1546</span><span class="stringliteral">                    % Set axes bgcolor to none</span></div>
<div class="line"><a id="l01547" name="l01547"></a><span class="lineno"> 1547</span><span class="stringliteral">                    hAxes = findall(fig, &#39;</span>Type<span class="charliteral">&#39;,&#39;</span>axes<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01548" name="l01548"></a><span class="lineno"> 1548</span><span class="stringliteral">                    originalAxColor = get(hAxes, &#39;</span>Color<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01549" name="l01549"></a><span class="lineno"> 1549</span><span class="stringliteral">                    set(hAxes,&#39;</span>Color<span class="charliteral">&#39;,&#39;</span>none<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01550" name="l01550"></a><span class="lineno"> 1550</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l01551" name="l01551"></a><span class="lineno"> 1551</span><span class="stringliteral">                    drawnow;  %repaint before export</span></div>
<div class="line"><a id="l01552" name="l01552"></a><span class="lineno"> 1552</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01553" name="l01553"></a><span class="lineno"> 1553</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l01554" name="l01554"></a><span class="lineno"> 1554</span><span class="stringliteral">                % Call print() to create the clipboard output</span></div>
<div class="line"><a id="l01555" name="l01555"></a><span class="lineno"> 1555</span><span class="stringliteral">                clipformat = [&#39;</span>-d&#39; options.clipformat];</div>
<div class="line"><a id="l01556" name="l01556"></a><span class="lineno"> 1556</span>                printArgs = {renderer};</div>
<div class="line"><a id="l01557" name="l01557"></a><span class="lineno"> 1557</span>                <span class="keywordflow">if</span> ~isempty(options.resolution)</div>
<div class="line"><a id="l01558" name="l01558"></a><span class="lineno"> 1558</span>                    printArgs{end+1} = sprintf(&#39;-r%d&#39;, options.resolution);</div>
<div class="line"><a id="l01559" name="l01559"></a><span class="lineno"> 1559</span>                end</div>
<div class="line"><a id="l01560" name="l01560"></a><span class="lineno"> 1560</span>                print(fig, <span class="stringliteral">&#39;-clipboard&#39;</span>, clipformat, printArgs{:});</div>
<div class="line"><a id="l01561" name="l01561"></a><span class="lineno"> 1561</span> </div>
<div class="line"><a id="l01562" name="l01562"></a><span class="lineno"> 1562</span>                % Restore the original background color</div>
<div class="line"><a id="l01563" name="l01563"></a><span class="lineno"> 1563</span>                <span class="keywordflow">try</span> set(fig,   <span class="stringliteral">&#39;Color&#39;</span>,originalBgColor); <span class="keywordflow">catch</span>, end</div>
<div class="line"><a id="l01564" name="l01564"></a><span class="lineno"> 1564</span>                <span class="keywordflow">try</span> set(hAxes, <span class="stringliteral">&#39;Color&#39;</span>,originalAxColor); <span class="keywordflow">catch</span>, end</div>
<div class="line"><a id="l01565" name="l01565"></a><span class="lineno"> 1565</span>                drawnow;</div>
<div class="line"><a id="l01566" name="l01566"></a><span class="lineno"> 1566</span>            end</div>
<div class="line"><a id="l01567" name="l01567"></a><span class="lineno"> 1567</span>            %<span class="keywordflow">if</span> options.notify, notify(<span class="stringliteral">&#39;system clipboard&#39;</span>); end</div>
<div class="line"><a id="l01568" name="l01568"></a><span class="lineno"> 1568</span>        end</div>
<div class="line"><a id="l01569" name="l01569"></a><span class="lineno"> 1569</span> </div>
<div class="line"><a id="l01570" name="l01570"></a><span class="lineno"> 1570</span>        % Delete the output file <span class="keywordflow">if</span> unchanged from the <span class="keywordflow">default</span> <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a> (<span class="stringliteral">&#39;export_fig_out.png&#39;</span>)</div>
<div class="line"><a id="l01571" name="l01571"></a><span class="lineno"> 1571</span>        % and clipboard/toolbar/menubar/contextmenu were requested</div>
<div class="line"><a id="l01572" name="l01572"></a><span class="lineno"> 1572</span>        <span class="keywordflow">if</span> options.clipboard || options.toolbar || options.menubar || options.contextmenu</div>
<div class="line"><a id="l01573" name="l01573"></a><span class="lineno"> 1573</span>            <span class="keywordflow">if</span> strcmpi(options.name,<span class="stringliteral">&#39;export_fig_out&#39;</span>)</div>
<div class="line"><a id="l01574" name="l01574"></a><span class="lineno"> 1574</span>                <span class="keyword">try</span></div>
<div class="line"><a id="l01575" name="l01575"></a><span class="lineno"> 1575</span>                    fileInfo = dir(&#39;export_fig_out.png&#39;);</div>
<div class="line"><a id="l01576" name="l01576"></a><span class="lineno"> 1576</span>                    if ~isempty(fileInfo)</div>
<div class="line"><a id="l01577" name="l01577"></a><span class="lineno"> 1577</span>                        timediff = now - fileInfo.datenum;</div>
<div class="line"><a id="l01578" name="l01578"></a><span class="lineno"> 1578</span>                        ONE_SEC = 1/24/60/60;</div>
<div class="line"><a id="l01579" name="l01579"></a><span class="lineno"> 1579</span>                        if timediff &lt; ONE_SEC</div>
<div class="line"><a id="l01580" name="l01580"></a><span class="lineno"> 1580</span>                            delete(&#39;export_fig_out.png&#39;);</div>
<div class="line"><a id="l01581" name="l01581"></a><span class="lineno"> 1581</span>                        end</div>
<div class="line"><a id="l01582" name="l01582"></a><span class="lineno"> 1582</span>                    end</div>
<div class="line"><a id="l01583" name="l01583"></a><span class="lineno"> 1583</span>                catch</div>
<div class="line"><a id="l01584" name="l01584"></a><span class="lineno"> 1584</span>                    % never mind...</div>
<div class="line"><a id="l01585" name="l01585"></a><span class="lineno"> 1585</span>                end</div>
<div class="line"><a id="l01586" name="l01586"></a><span class="lineno"> 1586</span>            end</div>
<div class="line"><a id="l01587" name="l01587"></a><span class="lineno"> 1587</span>        end</div>
<div class="line"><a id="l01588" name="l01588"></a><span class="lineno"> 1588</span> </div>
<div class="line"><a id="l01589" name="l01589"></a><span class="lineno"> 1589</span>        % Notify user by popup, if -notify option was specified</div>
<div class="line"><a id="l01590" name="l01590"></a><span class="lineno"> 1590</span>        if options.notify &amp;&amp; exported_files &gt; 0</div>
<div class="line"><a id="l01591" name="l01591"></a><span class="lineno"> 1591</span>            % TODO don&#39;t notify when exporting to file just for clipboard output</div>
<div class="line"><a id="l01592" name="l01592"></a><span class="lineno"> 1592</span>            folder = fileparts(filename);</div>
<div class="line"><a id="l01593" name="l01593"></a><span class="lineno"> 1593</span>            if isempty(folder), folder = pwd; end</div>
<div class="line"><a id="l01594" name="l01594"></a><span class="lineno"> 1594</span>            options = {};</div>
<div class="line"><a id="l01595" name="l01595"></a><span class="lineno"> 1595</span>            <span class="keywordflow">if</span> exported_files == 1</div>
<div class="line"><a id="l01596" name="l01596"></a><span class="lineno"> 1596</span>                msg = [&#39;Exported screenshot image to &#39; filename];</div>
<div class="line"><a id="l01597" name="l01597"></a><span class="lineno"> 1597</span>                <span class="keywordflow">if</span> ispc, options = {<span class="stringliteral">&#39;Open image&#39;</span>,<span class="stringliteral">&#39;Open folder&#39;</span>}; end</div>
<div class="line"><a id="l01598" name="l01598"></a><span class="lineno"> 1598</span>            <span class="keywordflow">else</span>  % &gt; 1</div>
<div class="line"><a id="l01599" name="l01599"></a><span class="lineno"> 1599</span>                msg = sprintf(<span class="stringliteral">&#39;Exported %d screenshot images to %s&#39;</span>, exported_files, folder);</div>
<div class="line"><a id="l01600" name="l01600"></a><span class="lineno"> 1600</span>                <span class="keywordflow">if</span> ispc, options = {<span class="stringliteral">&#39;Open folder&#39;</span>}; end</div>
<div class="line"><a id="l01601" name="l01601"></a><span class="lineno"> 1601</span>            end</div>
<div class="line"><a id="l01602" name="l01602"></a><span class="lineno"> 1602</span>            answer = questdlg(msg,<span class="stringliteral">&#39;Screenshot export&#39;</span>,options{:},<span class="stringliteral">&#39;OK&#39;</span>,<span class="stringliteral">&#39;OK&#39;</span>);</div>
<div class="line"><a id="l01603" name="l01603"></a><span class="lineno"> 1603</span>            drawnow; pause(0.05);  % avoid MATLAB hang</div>
<div class="line"><a id="l01604" name="l01604"></a><span class="lineno"> 1604</span>            <span class="keywordflow">switch</span> answer</div>
<div class="line"><a id="l01605" name="l01605"></a><span class="lineno"> 1605</span>                <span class="keywordflow">case</span> <span class="stringliteral">&#39;Open image&#39;</span>,  winopen(filename);</div>
<div class="line"><a id="l01606" name="l01606"></a><span class="lineno"> 1606</span>                <span class="keywordflow">case</span> <span class="stringliteral">&#39;Open folder&#39;</span>, winopen(folder);</div>
<div class="line"><a id="l01607" name="l01607"></a><span class="lineno"> 1607</span>                otherwise  % <span class="keywordflow">do</span> nothing</div>
<div class="line"><a id="l01608" name="l01608"></a><span class="lineno"> 1608</span>            end</div>
<div class="line"><a id="l01609" name="l01609"></a><span class="lineno"> 1609</span>        end</div>
<div class="line"><a id="l01610" name="l01610"></a><span class="lineno"> 1610</span> </div>
<div class="line"><a id="l01611" name="l01611"></a><span class="lineno"> 1611</span>        % Don<span class="stringliteral">&#39;t output the data to console unless requested</span></div>
<div class="line"><a id="l01612" name="l01612"></a><span class="lineno"> 1612</span><span class="stringliteral">        if ~nargout</span></div>
<div class="line"><a id="l01613" name="l01613"></a><span class="lineno"> 1613</span><span class="stringliteral">            clear imageData alpha</span></div>
<div class="line"><a id="l01614" name="l01614"></a><span class="lineno"> 1614</span><span class="stringliteral">        end</span></div>
<div class="line"><a id="l01615" name="l01615"></a><span class="lineno"> 1615</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l01616" name="l01616"></a><span class="lineno"> 1616</span><span class="stringliteral">        % Revert warnings state</span></div>
<div class="line"><a id="l01617" name="l01617"></a><span class="lineno"> 1617</span><span class="stringliteral">        warning(oldWarn);</span></div>
<div class="line"><a id="l01618" name="l01618"></a><span class="lineno"> 1618</span><span class="stringliteral">    catch err</span></div>
<div class="line"><a id="l01619" name="l01619"></a><span class="lineno"> 1619</span><span class="stringliteral">        % Revert warnings state</span></div>
<div class="line"><a id="l01620" name="l01620"></a><span class="lineno"> 1620</span><span class="stringliteral">        warning(oldWarn);</span></div>
<div class="line"><a id="l01621" name="l01621"></a><span class="lineno"> 1621</span><span class="stringliteral">        % Revert figure properties in case they were changed</span></div>
<div class="line"><a id="l01622" name="l01622"></a><span class="lineno"> 1622</span><span class="stringliteral">        try set(fig,&#39;</span>Units<span class="stringliteral">&#39;,oldFigUnits, &#39;</span>Position<span class="stringliteral">&#39;,pos, &#39;</span>Color<span class="stringliteral">&#39;,tcol_orig); catch, end</span></div>
<div class="line"><a id="l01623" name="l01623"></a><span class="lineno"> 1623</span><span class="stringliteral">        % Display possible workarounds before the error message</span></div>
<div class="line"><a id="l01624" name="l01624"></a><span class="lineno"> 1624</span><span class="stringliteral">        if ~isempty(regexpi(err.message,&#39;</span>setopacityalpha<span class="stringliteral">&#39;)) %#ok&lt;RGXPI&gt;</span></div>
<div class="line"><a id="l01625" name="l01625"></a><span class="lineno"> 1625</span><span class="stringliteral">            % Alert the user that transparency is not supported (issue #285)</span></div>
<div class="line"><a id="l01626" name="l01626"></a><span class="lineno"> 1626</span><span class="stringliteral">            try</span></div>
<div class="line"><a id="l01627" name="l01627"></a><span class="lineno"> 1627</span><span class="stringliteral">                [unused, msg] = ghostscript(&#39;</span>-v&#39;); %#ok&lt;ASGLU&gt;</div>
<div class="line"><a id="l01628" name="l01628"></a><span class="lineno"> 1628</span>                verStr = regexprep(msg, <span class="stringliteral">&#39;.*hostscript ([\d.]+).*&#39;</span>, <span class="stringliteral">&#39;$1&#39;</span>);</div>
<div class="line"><a id="l01629" name="l01629"></a><span class="lineno"> 1629</span>                <span class="keywordflow">if</span> isempty(verStr) || any(verStr==<span class="charliteral">&#39; &#39;</span>)</div>
<div class="line"><a id="l01630" name="l01630"></a><span class="lineno"> 1630</span>                    verStr = &#39;&#39;;</div>
<div class="line"><a id="l01631" name="l01631"></a><span class="lineno"> 1631</span>                else</div>
<div class="line"><a id="l01632" name="l01632"></a><span class="lineno"> 1632</span>                    verStr = [&#39; (&#39; verStr &#39;)&#39;];</div>
<div class="line"><a id="l01633" name="l01633"></a><span class="lineno"> 1633</span>                end</div>
<div class="line"><a id="l01634" name="l01634"></a><span class="lineno"> 1634</span>            catch</div>
<div class="line"><a id="l01635" name="l01635"></a><span class="lineno"> 1635</span>                verStr = &#39;&#39;;</div>
<div class="line"><a id="l01636" name="l01636"></a><span class="lineno"> 1636</span>            end</div>
<div class="line"><a id="l01637" name="l01637"></a><span class="lineno"> 1637</span>            url = &#39;https:<span class="comment">//github.com/altmany/savefig/issues/285#issuecomment-815008561&#39;;</span></div>
<div class="line"><a id="l01638" name="l01638"></a><span class="lineno"> 1638</span>            urlStr = <a class="code hl_function" href="hyperlink_8m.html#adbf38a9875ba9d157caf299f66138f8e">hyperlink</a>(url,&#39;details&#39;);</div>
<div class="line"><a id="l01639" name="l01639"></a><span class="lineno"> 1639</span>            errMsg = sprintf(&#39;Transparancy is not supported by your <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> (%s) and Ghostscript%s versions. \nInstall GS <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> 9.28 or earlier to use transparency (%s).&#39;, num2str(currentVersion), verStr, urlStr);</div>
<div class="line"><a id="l01640" name="l01640"></a><span class="lineno"> 1640</span>            %fprintf(2,&#39;%s\n&#39;,errMsg);</div>
<div class="line"><a id="l01641" name="l01641"></a><span class="lineno"> 1641</span>            error(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:setopacityalpha&#39;,errMsg) %<span class="preprocessor">#ok&lt;SPERR&gt;</span></div>
<div class="line"><a id="l01642" name="l01642"></a><span class="lineno"> 1642</span>        elseif displaySuggestedWorkarounds &amp;&amp; ~strcmpi(err.message,<span class="stringliteral">&#39;savefig error&#39;</span>)</div>
<div class="line"><a id="l01643" name="l01643"></a><span class="lineno"> 1643</span>            isNewerVersionAvailable = checkForNewerVersion(currentVersion);  % alert if <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> newer <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> exists</div>
<div class="line"><a id="l01644" name="l01644"></a><span class="lineno"> 1644</span>            if isempty(regexpi(err.message,&#39;Ghostscript&#39;)) %<span class="preprocessor">#ok&lt;RGXPI&gt;</span></div>
<div class="line"><a id="l01645" name="l01645"></a><span class="lineno"> 1645</span>                fprintf(2, <span class="stringliteral">&#39;savefig error. &#39;</span>);</div>
<div class="line"><a id="l01646" name="l01646"></a><span class="lineno"> 1646</span>            end</div>
<div class="line"><a id="l01647" name="l01647"></a><span class="lineno"> 1647</span>            fprintf(2, <span class="stringliteral">&#39;Please ensure:\n&#39;</span>);</div>
<div class="line"><a id="l01648" name="l01648"></a><span class="lineno"> 1648</span>            %<span class="keywordflow">if</span> ~isdeployed</div>
<div class="line"><a id="l01649" name="l01649"></a><span class="lineno"> 1649</span>                fprintf(2, <span class="stringliteral">&#39; * that the function you used (%s.py) version %s is from the expected location\n&#39;</span>, mfilename(<span class="stringliteral">&#39;fullpath&#39;</span>), num2str(currentVersion));</div>
<div class="line"><a id="l01650" name="l01650"></a><span class="lineno"> 1650</span>                paths = <a class="code hl_function" href="namespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1which.html#a1b834b4e4b89ed9f7aae0da42263af15">which</a>(mfilename,<span class="stringliteral">&#39;-all&#39;</span>);</div>
<div class="line"><a id="l01651" name="l01651"></a><span class="lineno"> 1651</span>                <span class="keywordflow">if</span> iscell(paths) &amp;&amp; numel(paths) &gt; 1</div>
<div class="line"><a id="l01652" name="l01652"></a><span class="lineno"> 1652</span>                    fprintf(2, <span class="stringliteral">&#39;    (you appear to have %s of savefig installed)\n&#39;</span>, <a class="code hl_function" href="hyperlink_8m.html#adbf38a9875ba9d157caf299f66138f8e">hyperlink</a>(<span class="stringliteral">&#39;matlab:which savefig -all&#39;</span>,<span class="stringliteral">&#39;multiple versions&#39;</span>));</div>
<div class="line"><a id="l01653" name="l01653"></a><span class="lineno"> 1653</span>                end</div>
<div class="line"><a id="l01654" name="l01654"></a><span class="lineno"> 1654</span>            %end</div>
<div class="line"><a id="l01655" name="l01655"></a><span class="lineno"> 1655</span>            <span class="keywordflow">if</span> isNewerVersionAvailable</div>
<div class="line"><a id="l01656" name="l01656"></a><span class="lineno"> 1656</span>                fprintf(2, <span class="stringliteral">&#39; * and that you are using the %s of savefig (you are not: run %s to update it)\n&#39;</span>, ...</div>
<div class="line"><a id="l01657" name="l01657"></a><span class="lineno"> 1657</span>                        <a class="code hl_function" href="hyperlink_8m.html#adbf38a9875ba9d157caf299f66138f8e">hyperlink</a>(<span class="stringliteral">&#39;https://github.com/altmany/savefig/archive/master.zip&#39;</span>,<span class="stringliteral">&#39;latest version&#39;</span>), ...</div>
<div class="line"><a id="l01658" name="l01658"></a><span class="lineno"> 1658</span>                        <a class="code hl_function" href="hyperlink_8m.html#adbf38a9875ba9d157caf299f66138f8e">hyperlink</a>(<span class="stringliteral">&#39;matlab:savefig(&#39;</span><span class="stringliteral">&#39;-update&#39;</span><span class="charliteral">&#39;)&#39;</span>,<span class="stringliteral">&#39;savefig(&#39;</span><span class="stringliteral">&#39;-update&#39;</span><span class="charliteral">&#39;)&#39;</span>));</div>
<div class="line"><a id="l01659" name="l01659"></a><span class="lineno"> 1659</span>            end</div>
<div class="line"><a id="l01660" name="l01660"></a><span class="lineno"> 1660</span>            fprintf(2, <span class="stringliteral">&#39; * and that you did not made a mistake in savefig&#39;</span><span class="stringliteral">&#39;s %s\n&#39;</span>, <a class="code hl_function" href="hyperlink_8m.html#adbf38a9875ba9d157caf299f66138f8e">hyperlink</a>(<span class="stringliteral">&#39;matlab:help savefig&#39;</span>,<span class="stringliteral">&#39;expected input arguments&#39;</span>));</div>
<div class="line"><a id="l01661" name="l01661"></a><span class="lineno"> 1661</span>            <span class="keywordflow">if</span> isvector(options)  % EPS/PDF require ghostscipt</div>
<div class="line"><a id="l01662" name="l01662"></a><span class="lineno"> 1662</span>                <span class="keywordflow">if</span> <a class="code hl_function" href="namespaceparamonte_1_1os_1_1ismac.html#ad6e1e13ad1b248dd636cca0f1e448bd4">ismac</a></div>
<div class="line"><a id="l01663" name="l01663"></a><span class="lineno"> 1663</span>                    url = <span class="stringliteral">&#39;http://pages.uoregon.edu/koch&#39;</span>;</div>
<div class="line"><a id="l01664" name="l01664"></a><span class="lineno"> 1664</span>                <span class="keywordflow">else</span></div>
<div class="line"><a id="l01665" name="l01665"></a><span class="lineno"> 1665</span>                    url = <span class="stringliteral">&#39;http://ghostscript.com&#39;</span>;</div>
<div class="line"><a id="l01666" name="l01666"></a><span class="lineno"> 1666</span>                end</div>
<div class="line"><a id="l01667" name="l01667"></a><span class="lineno"> 1667</span>                fpath = <a class="code hl_function" href="user__string_8m.html#a494d42354cfb17ad69773052ba5d42ea">user_string</a>(<span class="stringliteral">&#39;ghostscript&#39;</span>);</div>
<div class="line"><a id="l01668" name="l01668"></a><span class="lineno"> 1668</span>                fpath_link = fpath;</div>
<div class="line"><a id="l01669" name="l01669"></a><span class="lineno"> 1669</span>                <span class="keywordflow">if</span> ispc  % winopen only works on Windows</div>
<div class="line"><a id="l01670" name="l01670"></a><span class="lineno"> 1670</span>                    fpath_link = <a class="code hl_function" href="hyperlink_8m.html#adbf38a9875ba9d157caf299f66138f8e">hyperlink</a>([<span class="stringliteral">&#39;matlab:winopen(&#39;</span><span class="stringliteral">&#39;&#39;</span> fileparts(fpath) <span class="charliteral">&#39;&#39;&#39;</span>)<span class="stringliteral">&#39;], fpath);</span></div>
<div class="line"><a id="l01671" name="l01671"></a><span class="lineno"> 1671</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01672" name="l01672"></a><span class="lineno"> 1672</span><span class="stringliteral">                fprintf(2, &#39;</span> * and that %s is properly installed in %s\n<span class="stringliteral">&#39;, ...</span></div>
<div class="line"><a id="l01673" name="l01673"></a><span class="lineno"> 1673</span><span class="stringliteral">                        hyperlink(url,&#39;</span><a class="code hl_function" href="ghostscript_8m.html#a013fedac994253f16dff2bd620c92646">ghostscript</a><span class="stringliteral">&#39;), fpath_link);</span></div>
<div class="line"><a id="l01674" name="l01674"></a><span class="lineno"> 1674</span><span class="stringliteral">                if isempty(strtrim(char(fpath)))</span></div>
<div class="line"><a id="l01675" name="l01675"></a><span class="lineno"> 1675</span><span class="stringliteral">                    selectUtilityPath(&#39;</span>Ghostscript<span class="stringliteral">&#39;,url,&#39;</span>Exporting to vector format (EPS, PDF etc.)<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01676" name="l01676"></a><span class="lineno"> 1676</span><span class="stringliteral">                    return</span></div>
<div class="line"><a id="l01677" name="l01677"></a><span class="lineno"> 1677</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01678" name="l01678"></a><span class="lineno"> 1678</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l01679" name="l01679"></a><span class="lineno"> 1679</span><span class="stringliteral">            try  % EPS require pdftops</span></div>
<div class="line"><a id="l01680" name="l01680"></a><span class="lineno"> 1680</span><span class="stringliteral">                if options.eps</span></div>
<div class="line"><a id="l01681" name="l01681"></a><span class="lineno"> 1681</span><span class="stringliteral">                    url = &#39;</span>http:<span class="comment">//xpdfreader.com/download.html&#39;;</span></div>
<div class="line"><a id="l01682" name="l01682"></a><span class="lineno"> 1682</span>                    fpath = <a class="code hl_function" href="user__string_8m.html#a494d42354cfb17ad69773052ba5d42ea">user_string</a>(<span class="stringliteral">&#39;pdftops&#39;</span>);</div>
<div class="line"><a id="l01683" name="l01683"></a><span class="lineno"> 1683</span>                    fpath_link = fpath;</div>
<div class="line"><a id="l01684" name="l01684"></a><span class="lineno"> 1684</span>                    <span class="keywordflow">if</span> ispc  % winopen only works on Windows</div>
<div class="line"><a id="l01685" name="l01685"></a><span class="lineno"> 1685</span>                        fpath_link = <a class="code hl_function" href="hyperlink_8m.html#adbf38a9875ba9d157caf299f66138f8e">hyperlink</a>([<span class="stringliteral">&#39;matlab:winopen(&#39;</span><span class="stringliteral">&#39;&#39;</span> fileparts(fpath) <span class="charliteral">&#39;&#39;&#39;</span>)<span class="stringliteral">&#39;], fpath);</span></div>
<div class="line"><a id="l01686" name="l01686"></a><span class="lineno"> 1686</span><span class="stringliteral">                    end</span></div>
<div class="line"><a id="l01687" name="l01687"></a><span class="lineno"> 1687</span><span class="stringliteral">                    fprintf(2, &#39;</span> * and that %s is properly installed in %s\n<span class="stringliteral">&#39;, ...</span></div>
<div class="line"><a id="l01688" name="l01688"></a><span class="lineno"> 1688</span><span class="stringliteral">                            hyperlink(url,&#39;</span><a class="code hl_function" href="pdftops_8m.html#a6f19fbd1da5c8afc348b22d9e4436442">pdftops</a><span class="stringliteral">&#39;), fpath_link);</span></div>
<div class="line"><a id="l01689" name="l01689"></a><span class="lineno"> 1689</span><span class="stringliteral">                    if isempty(fpath)</span></div>
<div class="line"><a id="l01690" name="l01690"></a><span class="lineno"> 1690</span><span class="stringliteral">                        selectUtilityPath(&#39;</span><a class="code hl_function" href="pdftops_8m.html#a6f19fbd1da5c8afc348b22d9e4436442">pdftops</a><span class="stringliteral">&#39;,url,&#39;</span>Exporting to EPS format<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l01691" name="l01691"></a><span class="lineno"> 1691</span><span class="stringliteral">                        return</span></div>
<div class="line"><a id="l01692" name="l01692"></a><span class="lineno"> 1692</span><span class="stringliteral">                    end</span></div>
<div class="line"><a id="l01693" name="l01693"></a><span class="lineno"> 1693</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l01694" name="l01694"></a><span class="lineno"> 1694</span><span class="stringliteral">            catch</span></div>
<div class="line"><a id="l01695" name="l01695"></a><span class="lineno"> 1695</span><span class="stringliteral">                % ignore - probably an error in parse_args</span></div>
<div class="line"><a id="l01696" name="l01696"></a><span class="lineno"> 1696</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l01697" name="l01697"></a><span class="lineno"> 1697</span><span class="stringliteral">            try</span></div>
<div class="line"><a id="l01698" name="l01698"></a><span class="lineno"> 1698</span><span class="stringliteral">                % Alert per issue #149</span></div>
<div class="line"><a id="l01699" name="l01699"></a><span class="lineno"> 1699</span><span class="stringliteral">                if ~strncmpi(get(0,&#39;</span>Units<span class="stringliteral">&#39;),&#39;</span>pixel<span class="stringliteral">&#39;,5)</span></div>
<div class="line"><a id="l01700" name="l01700"></a><span class="lineno"> 1700</span><span class="stringliteral">                    fprintf(2, &#39;</span> * or <span class="keywordflow">try</span> to set groot<span class="stringliteral">&#39;&#39;</span>s Units <span class="keyword">property</span> back to its <span class="keywordflow">default</span> value of <span class="stringliteral">&#39;&#39;</span>pixels<span class="stringliteral">&#39;&#39;</span> (%s)\n<span class="stringliteral">&#39;, hyperlink(&#39;</span>https:<span class="comment">//github.com/altmany/savefig/issues/149&#39;,&#39;details&#39;));</span></div>
<div class="line"><a id="l01701" name="l01701"></a><span class="lineno"> 1701</span>                end</div>
<div class="line"><a id="l01702" name="l01702"></a><span class="lineno"> 1702</span>            <span class="keywordflow">catch</span></div>
<div class="line"><a id="l01703" name="l01703"></a><span class="lineno"> 1703</span>                % ignore - maybe an old MAtlab <a class="code hl_function" href="release_8m.html#a51df1f91ecccd6f14aa72471c11fb780">release</a></div>
<div class="line"><a id="l01704" name="l01704"></a><span class="lineno"> 1704</span>            end</div>
<div class="line"><a id="l01705" name="l01705"></a><span class="lineno"> 1705</span>            fprintf(2, <span class="stringliteral">&#39;\nIf the problem persists, then please %s.\n&#39;</span>, <a class="code hl_function" href="hyperlink_8m.html#adbf38a9875ba9d157caf299f66138f8e">hyperlink</a>(<span class="stringliteral">&#39;https://github.com/altmany/savefig/issues&#39;</span>,<span class="stringliteral">&#39;report a new issue&#39;</span>));</div>
<div class="line"><a id="l01706" name="l01706"></a><span class="lineno"> 1706</span>            <span class="keywordflow">if</span> existFile(tmp_nam)</div>
<div class="line"><a id="l01707" name="l01707"></a><span class="lineno"> 1707</span>                fprintf(2, <span class="stringliteral">&#39;In your report, please upload the problematic EPS file: %s (you can then delete this file).\n&#39;</span>, tmp_nam);</div>
<div class="line"><a id="l01708" name="l01708"></a><span class="lineno"> 1708</span>            end</div>
<div class="line"><a id="l01709" name="l01709"></a><span class="lineno"> 1709</span>            fprintf(2, <span class="charliteral">&#39;\n&#39;</span>);</div>
<div class="line"><a id="l01710" name="l01710"></a><span class="lineno"> 1710</span>        end</div>
<div class="line"><a id="l01711" name="l01711"></a><span class="lineno"> 1711</span>        rethrow(err)</div>
<div class="line"><a id="l01712" name="l01712"></a><span class="lineno"> 1712</span>    end</div>
<div class="line"><a id="l01713" name="l01713"></a><span class="lineno"> 1713</span> </div>
<div class="line"><a id="l01714" name="l01714"></a><span class="lineno"> 1714</span>    %&gt;  @cond excluded</div>
<div class="line"><a id="l01715" name="l01715"></a><span class="lineno"> 1715</span>    % Notify user about <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> successful file export</div>
<div class="line"><a id="l01716" name="l01716"></a><span class="lineno"> 1716</span>    function notify(filename)</div>
<div class="line"><a id="l01717" name="l01717"></a><span class="lineno"> 1717</span>        fprintf(<span class="stringliteral">&#39;Exported screenshot image to %s\n&#39;</span>, filename)</div>
<div class="line"><a id="l01718" name="l01718"></a><span class="lineno"> 1718</span>        exported_files = exported_files + 1;</div>
<div class="line"><a id="l01719" name="l01719"></a><span class="lineno"> 1719</span>    end</div>
<div class="line"><a id="l01720" name="l01720"></a><span class="lineno"> 1720</span>    %&gt;  <span class="keyword">@end</span>cond</div>
<div class="line"><a id="l01721" name="l01721"></a><span class="lineno"> 1721</span>end</div>
<div class="line"><a id="l01722" name="l01722"></a><span class="lineno"> 1722</span> </div>
<div class="line"><a id="l01723" name="l01723"></a><span class="lineno"> 1723</span>%&gt;  @cond excluded</div>
<div class="line"><a id="l01724" name="l01724"></a><span class="lineno"> 1724</span> </div>
<div class="line"><a id="l01725" name="l01725"></a><span class="lineno"> 1725</span>function isOk = selectUtilityPath(utilName,url,msg)</div>
<div class="line"><a id="l01726" name="l01726"></a><span class="lineno"> 1726</span>    isOk = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01727" name="l01727"></a><span class="lineno"> 1727</span>    msg = [msg &#39; requires the &#39; utilName &#39; utility from &#39; url];</div>
<div class="line"><a id="l01728" name="l01728"></a><span class="lineno"> 1728</span>    fprintf(2,<span class="stringliteral">&#39;\n%s\n&#39;</span>,msg);</div>
<div class="line"><a id="l01729" name="l01729"></a><span class="lineno"> 1729</span>    <span class="keywordflow">while</span> ~isOk</div>
<div class="line"><a id="l01730" name="l01730"></a><span class="lineno"> 1730</span>        answer = questdlg(msg,utilName,<span class="stringliteral">&#39;Use local installation&#39;</span>,<span class="stringliteral">&#39;Go to website&#39;</span>,<span class="stringliteral">&#39;Cancel&#39;</span>,<span class="stringliteral">&#39;Cancel&#39;</span>);</div>
<div class="line"><a id="l01731" name="l01731"></a><span class="lineno"> 1731</span>        drawnow; pause(0.01);  % avoid MATLAB hang</div>
<div class="line"><a id="l01732" name="l01732"></a><span class="lineno"> 1732</span>        <span class="keywordflow">switch</span> strtok(<span class="keywordtype">char</span>(answer))</div>
<div class="line"><a id="l01733" name="l01733"></a><span class="lineno"> 1733</span>            <span class="keywordflow">case</span> <span class="stringliteral">&#39;Go&#39;</span>,  web(url,<span class="stringliteral">&#39;-browser&#39;</span>);</div>
<div class="line"><a id="l01734" name="l01734"></a><span class="lineno"> 1734</span>            <span class="keywordflow">case</span> <span class="stringliteral">&#39;Use&#39;</span></div>
<div class="line"><a id="l01735" name="l01735"></a><span class="lineno"> 1735</span>                filter = {<span class="stringliteral">&#39;*.*&#39;</span>,<span class="stringliteral">&#39;Executable files&#39;</span>};</div>
<div class="line"><a id="l01736" name="l01736"></a><span class="lineno"> 1736</span>                title  = [&#39;Specify the &#39; utilName &#39; executable&#39;];</div>
<div class="line"><a id="l01737" name="l01737"></a><span class="lineno"> 1737</span>                [fPath,fName,fExt] = uigetfile(filter,title);</div>
<div class="line"><a id="l01738" name="l01738"></a><span class="lineno"> 1738</span>                <span class="keywordflow">if</span> ~ischar(fPath), <span class="keywordflow">return</span>, end</div>
<div class="line"><a id="l01739" name="l01739"></a><span class="lineno"> 1739</span>                fName = fullfile(fPath,[fName,fExt]);</div>
<div class="line"><a id="l01740" name="l01740"></a><span class="lineno"> 1740</span>                isOk = exist(fName,<span class="stringliteral">&#39;file&#39;</span>) &amp;&amp; <a class="code hl_function" href="user__string_8m.html#a494d42354cfb17ad69773052ba5d42ea">user_string</a>(<span class="stringliteral">&#39;ghostscript&#39;</span>,fName);</div>
<div class="line"><a id="l01741" name="l01741"></a><span class="lineno"> 1741</span>            otherwise, <span class="keywordflow">return</span></div>
<div class="line"><a id="l01742" name="l01742"></a><span class="lineno"> 1742</span>        end</div>
<div class="line"><a id="l01743" name="l01743"></a><span class="lineno"> 1743</span>    end</div>
<div class="line"><a id="l01744" name="l01744"></a><span class="lineno"> 1744</span>end</div>
<div class="line"><a id="l01745" name="l01745"></a><span class="lineno"> 1745</span> </div>
<div class="line"><a id="l01746" name="l01746"></a><span class="lineno"> 1746</span>function options = default_options()</div>
<div class="line"><a id="l01747" name="l01747"></a><span class="lineno"> 1747</span>    % Default options used by <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a></div>
<div class="line"><a id="l01748" name="l01748"></a><span class="lineno"> 1748</span>    options = <span class="keyword">struct</span>(...</div>
<div class="line"><a id="l01749" name="l01749"></a><span class="lineno"> 1749</span>        <span class="stringliteral">&#39;name&#39;</span>,            <span class="stringliteral">&#39;&#39;</span>, ...</div>
<div class="line"><a id="l01750" name="l01750"></a><span class="lineno"> 1750</span>        <span class="stringliteral">&#39;crop&#39;</span>,            <span class="keyword">true</span>, ...</div>
<div class="line"><a id="l01751" name="l01751"></a><span class="lineno"> 1751</span>        <span class="stringliteral">&#39;crop_amounts&#39;</span>,    nan(1,4), ...  % <span class="keyword">auto</span>-crop all 4 image sides</div>
<div class="line"><a id="l01752" name="l01752"></a><span class="lineno"> 1752</span>        &#39;transparent&#39;,     false, ...</div>
<div class="line"><a id="l01753" name="l01753"></a><span class="lineno"> 1753</span>        &#39;renderer&#39;,        0, ...         % 0: default, 1: OpenGL, 2: ZBuffer, 3: Painters</div>
<div class="line"><a id="l01754" name="l01754"></a><span class="lineno"> 1754</span>        &#39;pdf&#39;,             false, ...</div>
<div class="line"><a id="l01755" name="l01755"></a><span class="lineno"> 1755</span>        &#39;eps&#39;,             false, ...</div>
<div class="line"><a id="l01756" name="l01756"></a><span class="lineno"> 1756</span>        &#39;emf&#39;,             false, ...</div>
<div class="line"><a id="l01757" name="l01757"></a><span class="lineno"> 1757</span>        &#39;svg&#39;,             false, ...</div>
<div class="line"><a id="l01758" name="l01758"></a><span class="lineno"> 1758</span>        &#39;png&#39;,             false, ...</div>
<div class="line"><a id="l01759" name="l01759"></a><span class="lineno"> 1759</span>        &#39;tif&#39;,             false, ...</div>
<div class="line"><a id="l01760" name="l01760"></a><span class="lineno"> 1760</span>        &#39;jpg&#39;,             false, ...</div>
<div class="line"><a id="l01761" name="l01761"></a><span class="lineno"> 1761</span>        &#39;bmp&#39;,             false, ...</div>
<div class="line"><a id="l01762" name="l01762"></a><span class="lineno"> 1762</span>        &#39;gif&#39;,             false, ...</div>
<div class="line"><a id="l01763" name="l01763"></a><span class="lineno"> 1763</span>        &#39;clipboard&#39;,       false, ...</div>
<div class="line"><a id="l01764" name="l01764"></a><span class="lineno"> 1764</span>        &#39;clipformat&#39;,      &#39;image&#39;, ...</div>
<div class="line"><a id="l01765" name="l01765"></a><span class="lineno"> 1765</span>        &#39;colourspace&#39;,     0, ...         % 0: RGB/gray, 1: CMYK, 2: gray</div>
<div class="line"><a id="l01766" name="l01766"></a><span class="lineno"> 1766</span>        &#39;append&#39;,          false, ...</div>
<div class="line"><a id="l01767" name="l01767"></a><span class="lineno"> 1767</span>        &#39;im&#39;,              false, ...</div>
<div class="line"><a id="l01768" name="l01768"></a><span class="lineno"> 1768</span>        &#39;alpha&#39;,           false, ...</div>
<div class="line"><a id="l01769" name="l01769"></a><span class="lineno"> 1769</span>        &#39;aa_factor&#39;,       0, ...</div>
<div class="line"><a id="l01770" name="l01770"></a><span class="lineno"> 1770</span>        &#39;bb_padding&#39;,      0, ...</div>
<div class="line"><a id="l01771" name="l01771"></a><span class="lineno"> 1771</span>        &#39;magnify&#39;,         [], ...</div>
<div class="line"><a id="l01772" name="l01772"></a><span class="lineno"> 1772</span>        &#39;resolution&#39;,      [], ...</div>
<div class="line"><a id="l01773" name="l01773"></a><span class="lineno"> 1773</span>        &#39;bookmark&#39;,        false, ...</div>
<div class="line"><a id="l01774" name="l01774"></a><span class="lineno"> 1774</span>        &#39;closeFig&#39;,        false, ...</div>
<div class="line"><a id="l01775" name="l01775"></a><span class="lineno"> 1775</span>        &#39;quality&#39;,         [], ...</div>
<div class="line"><a id="l01776" name="l01776"></a><span class="lineno"> 1776</span>        &#39;update&#39;,          false, ...</div>
<div class="line"><a id="l01777" name="l01777"></a><span class="lineno"> 1777</span>        &#39;version&#39;,         false, ...</div>
<div class="line"><a id="l01778" name="l01778"></a><span class="lineno"> 1778</span>        &#39;fontswap&#39;,        true, ...</div>
<div class="line"><a id="l01779" name="l01779"></a><span class="lineno"> 1779</span>        &#39;font_space&#39;,      &#39;&#39;, ...</div>
<div class="line"><a id="l01780" name="l01780"></a><span class="lineno"> 1780</span>        &#39;linecaps&#39;,        false, ...</div>
<div class="line"><a id="l01781" name="l01781"></a><span class="lineno"> 1781</span>        &#39;invert_hardcopy&#39;, true, ...</div>
<div class="line"><a id="l01782" name="l01782"></a><span class="lineno"> 1782</span>        &#39;format_options&#39;,  struct, ...</div>
<div class="line"><a id="l01783" name="l01783"></a><span class="lineno"> 1783</span>        &#39;preserve_size&#39;,   false, ...</div>
<div class="line"><a id="l01784" name="l01784"></a><span class="lineno"> 1784</span>        &#39;silent&#39;,          false, ...</div>
<div class="line"><a id="l01785" name="l01785"></a><span class="lineno"> 1785</span>        &#39;notify&#39;,          false, ...</div>
<div class="line"><a id="l01786" name="l01786"></a><span class="lineno"> 1786</span>        &#39;regexprep&#39;,       [], ...</div>
<div class="line"><a id="l01787" name="l01787"></a><span class="lineno"> 1787</span>        &#39;toolbar&#39;,         false, ...</div>
<div class="line"><a id="l01788" name="l01788"></a><span class="lineno"> 1788</span>        &#39;menubar&#39;,         false, ...</div>
<div class="line"><a id="l01789" name="l01789"></a><span class="lineno"> 1789</span>        &#39;contextmenu&#39;,     false, ...</div>
<div class="line"><a id="l01790" name="l01790"></a><span class="lineno"> 1790</span>        &#39;min_size&#39;,        [], ...</div>
<div class="line"><a id="l01791" name="l01791"></a><span class="lineno"> 1791</span>        &#39;max_size&#39;,        [], ...</div>
<div class="line"><a id="l01792" name="l01792"></a><span class="lineno"> 1792</span>        &#39;fixed_size&#39;,      [], ...</div>
<div class="line"><a id="l01793" name="l01793"></a><span class="lineno"> 1793</span>        &#39;gs_options&#39;,      {{}}, ...</div>
<div class="line"><a id="l01794" name="l01794"></a><span class="lineno"> 1794</span>        <span class="stringliteral">&#39;propagatedOpts&#39;</span>,  {{}});</div>
<div class="line"><a id="l01795" name="l01795"></a><span class="lineno"> 1795</span>end</div>
<div class="line"><a id="l01796" name="l01796"></a><span class="lineno"> 1796</span> </div>
<div class="line"><a id="l01797" name="l01797"></a><span class="lineno"> 1797</span>function [fig, options] = <a class="code hl_function" href="im2gif_8m.html#a406f3b1b666559c9e0e756fc57128c5e">parse_args</a>(nout, fig, argNames, varargin)</div>
<div class="line"><a id="l01798" name="l01798"></a><span class="lineno"> 1798</span>    % Parse the input arguments</div>
<div class="line"><a id="l01799" name="l01799"></a><span class="lineno"> 1799</span> </div>
<div class="line"><a id="l01800" name="l01800"></a><span class="lineno"> 1800</span>    % Convert strings =&gt; chars</div>
<div class="line"><a id="l01801" name="l01801"></a><span class="lineno"> 1801</span>    varargin = cellfun(@<a class="code hl_function" href="append__pdfs_8m.html#ad624c3176f1932132d50b44b04dd286a">str2char</a>,varargin,<span class="stringliteral">&#39;un&#39;</span>,<span class="keyword">false</span>);</div>
<div class="line"><a id="l01802" name="l01802"></a><span class="lineno"> 1802</span> </div>
<div class="line"><a id="l01803" name="l01803"></a><span class="lineno"> 1803</span>    % Set the defaults</div>
<div class="line"><a id="l01804" name="l01804"></a><span class="lineno"> 1804</span>    native = <span class="keyword">false</span>; % Set resolution to native of an image</div>
<div class="line"><a id="l01805" name="l01805"></a><span class="lineno"> 1805</span>    defaultOptions = default_options();</div>
<div class="line"><a id="l01806" name="l01806"></a><span class="lineno"> 1806</span>    options = defaultOptions;</div>
<div class="line"><a id="l01807" name="l01807"></a><span class="lineno"> 1807</span>    options.im =    (nout == 1);  % user requested imageData output</div>
<div class="line"><a id="l01808" name="l01808"></a><span class="lineno"> 1808</span>    options.alpha = (nout == 2);  % user requested alpha output</div>
<div class="line"><a id="l01809" name="l01809"></a><span class="lineno"> 1809</span>    options.handleName = <span class="stringliteral">&#39;&#39;</span>;  % <span class="keywordflow">default</span> handle <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a></div>
<div class="line"><a id="l01810" name="l01810"></a><span class="lineno"> 1810</span>    wasOutputRequested = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01811" name="l01811"></a><span class="lineno"> 1811</span> </div>
<div class="line"><a id="l01812" name="l01812"></a><span class="lineno"> 1812</span>    % Go through the other arguments</div>
<div class="line"><a id="l01813" name="l01813"></a><span class="lineno"> 1813</span>    skipNext = 0;</div>
<div class="line"><a id="l01814" name="l01814"></a><span class="lineno"> 1814</span>    <span class="keywordflow">for</span> <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> = 1:nargin-3  % only process varargin, no other <a class="code hl_function" href="im2gif_8m.html#a406f3b1b666559c9e0e756fc57128c5e">parse_args</a>() arguments</div>
<div class="line"><a id="l01815" name="l01815"></a><span class="lineno"> 1815</span>        if skipNext &gt; 0</div>
<div class="line"><a id="l01816" name="l01816"></a><span class="lineno"> 1816</span>            skipNext = skipNext-1;</div>
<div class="line"><a id="l01817" name="l01817"></a><span class="lineno"> 1817</span>            <span class="keywordflow">continue</span>;</div>
<div class="line"><a id="l01818" name="l01818"></a><span class="lineno"> 1818</span>        end</div>
<div class="line"><a id="l01819" name="l01819"></a><span class="lineno"> 1819</span>        thisArg = varargin{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>};</div>
<div class="line"><a id="l01820" name="l01820"></a><span class="lineno"> 1820</span>        <span class="keywordflow">if</span> isempty(thisArg)  % skip empty args</div>
<div class="line"><a id="l01821" name="l01821"></a><span class="lineno"> 1821</span>            <span class="keywordflow">continue</span></div>
<div class="line"><a id="l01822" name="l01822"></a><span class="lineno"> 1822</span>        elseif ~ischar(thisArg)</div>
<div class="line"><a id="l01823" name="l01823"></a><span class="lineno"> 1823</span>            <span class="keywordflow">if</span> ~all(ishandle(thisArg))</div>
<div class="line"><a id="l01824" name="l01824"></a><span class="lineno"> 1824</span>                error(<span class="stringliteral">&#39;savefig:InvalidHandle&#39;</span>,<span class="stringliteral">&#39;invalid figure handle specified to savefig&#39;</span>);</div>
<div class="line"><a id="l01825" name="l01825"></a><span class="lineno"> 1825</span>            <span class="keywordflow">else</span></div>
<div class="line"><a id="l01826" name="l01826"></a><span class="lineno"> 1826</span>                fig = thisArg;</div>
<div class="line"><a id="l01827" name="l01827"></a><span class="lineno"> 1827</span>                options.handleName = argNames{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>};</div>
<div class="line"><a id="l01828" name="l01828"></a><span class="lineno"> 1828</span>            end</div>
<div class="line"><a id="l01829" name="l01829"></a><span class="lineno"> 1829</span>        <span class="keywordflow">else</span> %<span class="keywordflow">if</span> ischar(thisArg) &amp;&amp; ~isempty(thisArg)</div>
<div class="line"><a id="l01830" name="l01830"></a><span class="lineno"> 1830</span>            <span class="keywordflow">if</span> thisArg(1) == <span class="charliteral">&#39;-&#39;</span></div>
<div class="line"><a id="l01831" name="l01831"></a><span class="lineno"> 1831</span>                addToOptionsStr = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01832" name="l01832"></a><span class="lineno"> 1832</span>                <span class="keywordflow">switch</span> lower(thisArg(2:end))</div>
<div class="line"><a id="l01833" name="l01833"></a><span class="lineno"> 1833</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;nocrop&#39;</span></div>
<div class="line"><a id="l01834" name="l01834"></a><span class="lineno"> 1834</span>                        options.crop = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01835" name="l01835"></a><span class="lineno"> 1835</span>                        options.crop_amounts = [0,0,0,0];</div>
<div class="line"><a id="l01836" name="l01836"></a><span class="lineno"> 1836</span>                    <span class="keywordflow">case</span> {<span class="stringliteral">&#39;trans&#39;</span>, <span class="stringliteral">&#39;transparent&#39;</span>}</div>
<div class="line"><a id="l01837" name="l01837"></a><span class="lineno"> 1837</span>                        options.transparent = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01838" name="l01838"></a><span class="lineno"> 1838</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;opengl&#39;</span></div>
<div class="line"><a id="l01839" name="l01839"></a><span class="lineno"> 1839</span>                        options.renderer = 1;</div>
<div class="line"><a id="l01840" name="l01840"></a><span class="lineno"> 1840</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;zbuffer&#39;</span></div>
<div class="line"><a id="l01841" name="l01841"></a><span class="lineno"> 1841</span>                        options.renderer = 2;</div>
<div class="line"><a id="l01842" name="l01842"></a><span class="lineno"> 1842</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;painters&#39;</span></div>
<div class="line"><a id="l01843" name="l01843"></a><span class="lineno"> 1843</span>                        options.renderer = 3;</div>
<div class="line"><a id="l01844" name="l01844"></a><span class="lineno"> 1844</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;pdf&#39;</span></div>
<div class="line"><a id="l01845" name="l01845"></a><span class="lineno"> 1845</span>                        options.pdf = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01846" name="l01846"></a><span class="lineno"> 1846</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01847" name="l01847"></a><span class="lineno"> 1847</span>                        wasOutputRequested = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01848" name="l01848"></a><span class="lineno"> 1848</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;eps&#39;</span></div>
<div class="line"><a id="l01849" name="l01849"></a><span class="lineno"> 1849</span>                        options.eps = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01850" name="l01850"></a><span class="lineno"> 1850</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01851" name="l01851"></a><span class="lineno"> 1851</span>                        wasOutputRequested = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01852" name="l01852"></a><span class="lineno"> 1852</span>                    <span class="keywordflow">case</span> {<span class="stringliteral">&#39;emf&#39;</span>,<span class="stringliteral">&#39;meta&#39;</span>}</div>
<div class="line"><a id="l01853" name="l01853"></a><span class="lineno"> 1853</span>                        options.emf = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01854" name="l01854"></a><span class="lineno"> 1854</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01855" name="l01855"></a><span class="lineno"> 1855</span>                        wasOutputRequested = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01856" name="l01856"></a><span class="lineno"> 1856</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;svg&#39;</span></div>
<div class="line"><a id="l01857" name="l01857"></a><span class="lineno"> 1857</span>                        options.svg = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01858" name="l01858"></a><span class="lineno"> 1858</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01859" name="l01859"></a><span class="lineno"> 1859</span>                        wasOutputRequested = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01860" name="l01860"></a><span class="lineno"> 1860</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;png&#39;</span></div>
<div class="line"><a id="l01861" name="l01861"></a><span class="lineno"> 1861</span>                        options.png = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01862" name="l01862"></a><span class="lineno"> 1862</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01863" name="l01863"></a><span class="lineno"> 1863</span>                        wasOutputRequested = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01864" name="l01864"></a><span class="lineno"> 1864</span>                    <span class="keywordflow">case</span> {<span class="stringliteral">&#39;tif&#39;</span>, <span class="stringliteral">&#39;tiff&#39;</span>}</div>
<div class="line"><a id="l01865" name="l01865"></a><span class="lineno"> 1865</span>                        options.tif = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01866" name="l01866"></a><span class="lineno"> 1866</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01867" name="l01867"></a><span class="lineno"> 1867</span>                        wasOutputRequested = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01868" name="l01868"></a><span class="lineno"> 1868</span>                    <span class="keywordflow">case</span> {<span class="stringliteral">&#39;jpg&#39;</span>, <span class="stringliteral">&#39;jpeg&#39;</span>}</div>
<div class="line"><a id="l01869" name="l01869"></a><span class="lineno"> 1869</span>                        options.jpg = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01870" name="l01870"></a><span class="lineno"> 1870</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01871" name="l01871"></a><span class="lineno"> 1871</span>                        wasOutputRequested = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01872" name="l01872"></a><span class="lineno"> 1872</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;bmp&#39;</span></div>
<div class="line"><a id="l01873" name="l01873"></a><span class="lineno"> 1873</span>                        options.bmp = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01874" name="l01874"></a><span class="lineno"> 1874</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01875" name="l01875"></a><span class="lineno"> 1875</span>                        wasOutputRequested = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01876" name="l01876"></a><span class="lineno"> 1876</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;gif&#39;</span></div>
<div class="line"><a id="l01877" name="l01877"></a><span class="lineno"> 1877</span>                        options.gif = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01878" name="l01878"></a><span class="lineno"> 1878</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01879" name="l01879"></a><span class="lineno"> 1879</span>                        wasOutputRequested = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01880" name="l01880"></a><span class="lineno"> 1880</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;rgb&#39;</span></div>
<div class="line"><a id="l01881" name="l01881"></a><span class="lineno"> 1881</span>                        options.colourspace = 0;</div>
<div class="line"><a id="l01882" name="l01882"></a><span class="lineno"> 1882</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;cmyk&#39;</span></div>
<div class="line"><a id="l01883" name="l01883"></a><span class="lineno"> 1883</span>                        options.colourspace = 1;</div>
<div class="line"><a id="l01884" name="l01884"></a><span class="lineno"> 1884</span>                    <span class="keywordflow">case</span> {<span class="stringliteral">&#39;gray&#39;</span>, <span class="stringliteral">&#39;grey&#39;</span>}</div>
<div class="line"><a id="l01885" name="l01885"></a><span class="lineno"> 1885</span>                        options.colourspace = 2;</div>
<div class="line"><a id="l01886" name="l01886"></a><span class="lineno"> 1886</span>                    <span class="keywordflow">case</span> {<span class="stringliteral">&#39;a1&#39;</span>, <span class="stringliteral">&#39;a2&#39;</span>, <span class="stringliteral">&#39;a3&#39;</span>, <span class="stringliteral">&#39;a4&#39;</span>}</div>
<div class="line"><a id="l01887" name="l01887"></a><span class="lineno"> 1887</span>                        options.aa_factor = str2double(thisArg(3));</div>
<div class="line"><a id="l01888" name="l01888"></a><span class="lineno"> 1888</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;append&#39;</span></div>
<div class="line"><a id="l01889" name="l01889"></a><span class="lineno"> 1889</span>                        options.append = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01890" name="l01890"></a><span class="lineno"> 1890</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;bookmark&#39;</span></div>
<div class="line"><a id="l01891" name="l01891"></a><span class="lineno"> 1891</span>                        options.bookmark = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01892" name="l01892"></a><span class="lineno"> 1892</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;native&#39;</span></div>
<div class="line"><a id="l01893" name="l01893"></a><span class="lineno"> 1893</span>                        native = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01894" name="l01894"></a><span class="lineno"> 1894</span>                    <span class="keywordflow">case</span> {<span class="stringliteral">&#39;clipboard&#39;</span>,<span class="stringliteral">&#39;clipboard:image&#39;</span>}</div>
<div class="line"><a id="l01895" name="l01895"></a><span class="lineno"> 1895</span>                        options.clipboard = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01896" name="l01896"></a><span class="lineno"> 1896</span>                        options.clipformat = <span class="stringliteral">&#39;image&#39;</span>;</div>
<div class="line"><a id="l01897" name="l01897"></a><span class="lineno"> 1897</span>                        options.im    = <span class="keyword">true</span>;  %ensure that imageData is created</div>
<div class="line"><a id="l01898" name="l01898"></a><span class="lineno"> 1898</span>                        options.alpha = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01899" name="l01899"></a><span class="lineno"> 1899</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01900" name="l01900"></a><span class="lineno"> 1900</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;clipboard:bitmap&#39;</span></div>
<div class="line"><a id="l01901" name="l01901"></a><span class="lineno"> 1901</span>                        options.clipboard = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01902" name="l01902"></a><span class="lineno"> 1902</span>                        options.clipformat = <span class="stringliteral">&#39;bitmap&#39;</span>;</div>
<div class="line"><a id="l01903" name="l01903"></a><span class="lineno"> 1903</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01904" name="l01904"></a><span class="lineno"> 1904</span>                    <span class="keywordflow">case</span> {<span class="stringliteral">&#39;clipboard:emf&#39;</span>,<span class="stringliteral">&#39;clipboard:meta&#39;</span>}</div>
<div class="line"><a id="l01905" name="l01905"></a><span class="lineno"> 1905</span>                        options.clipboard = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01906" name="l01906"></a><span class="lineno"> 1906</span>                        options.clipformat = <span class="stringliteral">&#39;meta&#39;</span>;</div>
<div class="line"><a id="l01907" name="l01907"></a><span class="lineno"> 1907</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01908" name="l01908"></a><span class="lineno"> 1908</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;clipboard:pdf&#39;</span></div>
<div class="line"><a id="l01909" name="l01909"></a><span class="lineno"> 1909</span>                        options.clipboard = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01910" name="l01910"></a><span class="lineno"> 1910</span>                        options.clipformat = <span class="stringliteral">&#39;pdf&#39;</span>;</div>
<div class="line"><a id="l01911" name="l01911"></a><span class="lineno"> 1911</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01912" name="l01912"></a><span class="lineno"> 1912</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;update&#39;</span></div>
<div class="line"><a id="l01913" name="l01913"></a><span class="lineno"> 1913</span>                        warning(<span class="stringliteral">&#39;The update feature of the savefig package is deliberately disabled in the ParaMonte library.&#39;</span>);</div>
<div class="line"><a id="l01914" name="l01914"></a><span class="lineno"> 1914</span>                        %updateInstalledVersion();</div>
<div class="line"><a id="l01915" name="l01915"></a><span class="lineno"> 1915</span>                        fig = -1;  % silent bail-out</div>
<div class="line"><a id="l01916" name="l01916"></a><span class="lineno"> 1916</span>                        addToOptionsStr = false;</div>
<div class="line"><a id="l01917" name="l01917"></a><span class="lineno"> 1917</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;version&#39;</span></div>
<div class="line"><a id="l01918" name="l01918"></a><span class="lineno"> 1918</span>                        options.version = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01919" name="l01919"></a><span class="lineno"> 1919</span>                        <span class="keywordflow">return</span>  % ignore any additional args</div>
<div class="line"><a id="l01920" name="l01920"></a><span class="lineno"> 1920</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;nofontswap&#39;</span></div>
<div class="line"><a id="l01921" name="l01921"></a><span class="lineno"> 1921</span>                        options.fontswap = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01922" name="l01922"></a><span class="lineno"> 1922</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;font_space&#39;</span></div>
<div class="line"><a id="l01923" name="l01923"></a><span class="lineno"> 1923</span>                        options.font_space = varargin{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>+1};</div>
<div class="line"><a id="l01924" name="l01924"></a><span class="lineno"> 1924</span>                        skipNext = 1;</div>
<div class="line"><a id="l01925" name="l01925"></a><span class="lineno"> 1925</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;linecaps&#39;</span></div>
<div class="line"><a id="l01926" name="l01926"></a><span class="lineno"> 1926</span>                        options.linecaps = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01927" name="l01927"></a><span class="lineno"> 1927</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;noinvert&#39;</span></div>
<div class="line"><a id="l01928" name="l01928"></a><span class="lineno"> 1928</span>                        options.invert_hardcopy = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01929" name="l01929"></a><span class="lineno"> 1929</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;preserve_size&#39;</span></div>
<div class="line"><a id="l01930" name="l01930"></a><span class="lineno"> 1930</span>                        options.preserve_size = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01931" name="l01931"></a><span class="lineno"> 1931</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;options&#39;</span></div>
<div class="line"><a id="l01932" name="l01932"></a><span class="lineno"> 1932</span>                        % Issue #269: format-specific options</div>
<div class="line"><a id="l01933" name="l01933"></a><span class="lineno"> 1933</span>                        inputOptions = varargin{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>+1};</div>
<div class="line"><a id="l01934" name="l01934"></a><span class="lineno"> 1934</span>                        %options.format_options  = inputOptions;</div>
<div class="line"><a id="l01935" name="l01935"></a><span class="lineno"> 1935</span>                        <span class="keywordflow">if</span> isempty(inputOptions), <span class="keywordflow">continue</span>, end</div>
<div class="line"><a id="l01936" name="l01936"></a><span class="lineno"> 1936</span>                        <span class="keywordflow">if</span> iscell(inputOptions)</div>
<div class="line"><a id="l01937" name="l01937"></a><span class="lineno"> 1937</span>                            fields = inputOptions(1:2:end)<span class="stringliteral">&#39;;</span></div>
<div class="line"><a id="l01938" name="l01938"></a><span class="lineno"> 1938</span><span class="stringliteral">                            values = inputOptions(2:2:end)&#39;</span>;</div>
<div class="line"><a id="l01939" name="l01939"></a><span class="lineno"> 1939</span>                            options.format_options.all = cell2struct(values, fields);</div>
<div class="line"><a id="l01940" name="l01940"></a><span class="lineno"> 1940</span>                        elseif isstruct(inputOptions)</div>
<div class="line"><a id="l01941" name="l01941"></a><span class="lineno"> 1941</span>                            formats = fieldnames(inputOptions(1));</div>
<div class="line"><a id="l01942" name="l01942"></a><span class="lineno"> 1942</span>                            <span class="keywordflow">for</span> idx = 1 : numel(formats)</div>
<div class="line"><a id="l01943" name="l01943"></a><span class="lineno"> 1943</span>                                optionsStruct = inputOptions.(formats{idx});</div>
<div class="line"><a id="l01944" name="l01944"></a><span class="lineno"> 1944</span>                                %optionsCells = [fieldnames(optionsStruct) struct2cell(optionsStruct)]<span class="stringliteral">&#39;;</span></div>
<div class="line"><a id="l01945" name="l01945"></a><span class="lineno"> 1945</span><span class="stringliteral">                                formatName = regexprep(lower(formats{idx}),{&#39;</span>tiff<span class="charliteral">&#39;,&#39;</span>jpeg<span class="stringliteral">&#39;},{&#39;</span>tif<span class="charliteral">&#39;,&#39;</span>jpg<span class="stringliteral">&#39;});</span></div>
<div class="line"><a id="l01946" name="l01946"></a><span class="lineno"> 1946</span><span class="stringliteral">                                options.format_options.(formatName) = optionsStruct; %=optionsCells(:)&#39;</span>;</div>
<div class="line"><a id="l01947" name="l01947"></a><span class="lineno"> 1947</span>                            end</div>
<div class="line"><a id="l01948" name="l01948"></a><span class="lineno"> 1948</span>                        <span class="keywordflow">else</span></div>
<div class="line"><a id="l01949" name="l01949"></a><span class="lineno"> 1949</span>                            warning(<span class="stringliteral">&#39;savefig:options&#39;</span>,<span class="stringliteral">&#39;savefig -options argument is not in the expected format - ignored&#39;</span>);</div>
<div class="line"><a id="l01950" name="l01950"></a><span class="lineno"> 1950</span>                        end</div>
<div class="line"><a id="l01951" name="l01951"></a><span class="lineno"> 1951</span>                        skipNext = 1;</div>
<div class="line"><a id="l01952" name="l01952"></a><span class="lineno"> 1952</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;silent&#39;</span></div>
<div class="line"><a id="l01953" name="l01953"></a><span class="lineno"> 1953</span>                        options.silent = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01954" name="l01954"></a><span class="lineno"> 1954</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;notify&#39;</span></div>
<div class="line"><a id="l01955" name="l01955"></a><span class="lineno"> 1955</span>                        options.notify = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01956" name="l01956"></a><span class="lineno"> 1956</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;regexprep&#39;</span></div>
<div class="line"><a id="l01957" name="l01957"></a><span class="lineno"> 1957</span>                        options.regexprep = varargin(<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>+1:<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>+2);</div>
<div class="line"><a id="l01958" name="l01958"></a><span class="lineno"> 1958</span>                        skipNext = 2;</div>
<div class="line"><a id="l01959" name="l01959"></a><span class="lineno"> 1959</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;toolbar&#39;</span></div>
<div class="line"><a id="l01960" name="l01960"></a><span class="lineno"> 1960</span>                        options.toolbar = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01961" name="l01961"></a><span class="lineno"> 1961</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01962" name="l01962"></a><span class="lineno"> 1962</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;menubar&#39;</span></div>
<div class="line"><a id="l01963" name="l01963"></a><span class="lineno"> 1963</span>                        options.menubar = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01964" name="l01964"></a><span class="lineno"> 1964</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01965" name="l01965"></a><span class="lineno"> 1965</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;contextmenu&#39;</span></div>
<div class="line"><a id="l01966" name="l01966"></a><span class="lineno"> 1966</span>                        options.contextmenu = <span class="keyword">true</span>;</div>
<div class="line"><a id="l01967" name="l01967"></a><span class="lineno"> 1967</span>                        addToOptionsStr = <span class="keyword">false</span>;</div>
<div class="line"><a id="l01968" name="l01968"></a><span class="lineno"> 1968</span>                    <span class="keywordflow">case</span> <span class="stringliteral">&#39;metadata&#39;</span></div>
<div class="line"><a id="l01969" name="l01969"></a><span class="lineno"> 1969</span>                        % https:<span class="comment">//unix.stackexchange.com/questions/489230/where-is-metadata-for-pdf-files-can-i-insert-metadata-into-any-pdf-file</span></div>
<div class="line"><a id="l01970" name="l01970"></a><span class="lineno"> 1970</span>                        % https:<span class="comment">//www.sejda.com/edit-pdf-metadata</span></div>
<div class="line"><a id="l01971" name="l01971"></a><span class="lineno"> 1971</span>                        metadata = varargin{<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a>+1};</div>
<div class="line"><a id="l01972" name="l01972"></a><span class="lineno"> 1972</span>                        <span class="keywordflow">if</span> isstruct(metadata)</div>
<div class="line"><a id="l01973" name="l01973"></a><span class="lineno"> 1973</span>                            metadata = [fieldnames(metadata),struct2cell(metadata)]<span class="stringliteral">&#39;;</span></div>
<div class="line"><a id="l01974" name="l01974"></a><span class="lineno"> 1974</span><span class="stringliteral">                        elseif ~iscell(metadata) || ~ischar(metadata{1}) || mod(length(metadata),2)==1</span></div>
<div class="line"><a id="l01975" name="l01975"></a><span class="lineno"> 1975</span><span class="stringliteral">                            error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadOptionValue<span class="charliteral">&#39;,&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> metadata must be <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> <span class="keyword">struct </span>or cell-array of <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a>-value pairs&#39;);</div>
<div class="line"><a id="l01976" name="l01976"></a><span class="lineno"> 1976</span>                        end</div>
<div class="line"><a id="l01977" name="l01977"></a><span class="lineno"> 1977</span>                        metadata = cellfun(@num2str,metadata(:)<span class="charliteral">&#39;,&#39;</span>uniform<span class="stringliteral">&#39;,0);</span></div>
<div class="line"><a id="l01978" name="l01978"></a><span class="lineno"> 1978</span><span class="stringliteral">                        str = sprintf(&#39;</span> /%s (%s)<span class="stringliteral">&#39;, metadata{:});</span></div>
<div class="line"><a id="l01979" name="l01979"></a><span class="lineno"> 1979</span><span class="stringliteral">                        options.gs_options{end+1} = [&#39;</span>-c <span class="stringliteral">&quot;[&#39; str &#39; /DOCINFO pdfmark&quot;</span><span class="stringliteral">&#39;];</span></div>
<div class="line"><a id="l01980" name="l01980"></a><span class="lineno"> 1980</span><span class="stringliteral">                        skipNext = 1;</span></div>
<div class="line"><a id="l01981" name="l01981"></a><span class="lineno"> 1981</span><span class="stringliteral">                    otherwise</span></div>
<div class="line"><a id="l01982" name="l01982"></a><span class="lineno"> 1982</span><span class="stringliteral">                        try</span></div>
<div class="line"><a id="l01983" name="l01983"></a><span class="lineno"> 1983</span><span class="stringliteral">                            wasError = false;</span></div>
<div class="line"><a id="l01984" name="l01984"></a><span class="lineno"> 1984</span><span class="stringliteral">                            if strcmpi(thisArg(1:2),&#39;</span>-d<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l01985" name="l01985"></a><span class="lineno"> 1985</span><span class="stringliteral">                                thisArg(2) = &#39;</span>d<span class="stringliteral">&#39;;  % ensure lowercase &#39;</span>d<span class="stringliteral">&#39;</span></div>
<div class="line"><a id="l01986" name="l01986"></a><span class="lineno"> 1986</span><span class="stringliteral">                                options.gs_options{end+1} = thisArg;</span></div>
<div class="line"><a id="l01987" name="l01987"></a><span class="lineno"> 1987</span><span class="stringliteral">                            elseif strcmpi(thisArg(1:2),&#39;</span>-c<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l01988" name="l01988"></a><span class="lineno"> 1988</span><span class="stringliteral">                                if strncmpi(thisArg,&#39;</span>-clipboard:<span class="stringliteral">&#39;,11)</span></div>
<div class="line"><a id="l01989" name="l01989"></a><span class="lineno"> 1989</span><span class="stringliteral">                                    wasError = true;</span></div>
<div class="line"><a id="l01990" name="l01990"></a><span class="lineno"> 1990</span><span class="stringliteral">                                    error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadOptionValue<span class="charliteral">&#39;,&#39;</span>option <span class="stringliteral">&#39;&#39;</span>%s<span class="stringliteral">&#39;&#39;</span> cannot be parsed: only image, bitmap, emf and pdf formats are supported<span class="stringliteral">&#39;,thisArg);</span></div>
<div class="line"><a id="l01991" name="l01991"></a><span class="lineno"> 1991</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l01992" name="l01992"></a><span class="lineno"> 1992</span><span class="stringliteral">                                if numel(thisArg)==2</span></div>
<div class="line"><a id="l01993" name="l01993"></a><span class="lineno"> 1993</span><span class="stringliteral">                                    skipNext = 1;</span></div>
<div class="line"><a id="l01994" name="l01994"></a><span class="lineno"> 1994</span><span class="stringliteral">                                    vals = str2num(varargin{a+1}); %#ok&lt;ST2NM&gt;</span></div>
<div class="line"><a id="l01995" name="l01995"></a><span class="lineno"> 1995</span><span class="stringliteral">                                else</span></div>
<div class="line"><a id="l01996" name="l01996"></a><span class="lineno"> 1996</span><span class="stringliteral">                                    vals = str2num(thisArg(3:end)); %#ok&lt;ST2NM&gt;</span></div>
<div class="line"><a id="l01997" name="l01997"></a><span class="lineno"> 1997</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l01998" name="l01998"></a><span class="lineno"> 1998</span><span class="stringliteral">                                if numel(vals)~=4</span></div>
<div class="line"><a id="l01999" name="l01999"></a><span class="lineno"> 1999</span><span class="stringliteral">                                    wasError = true;</span></div>
<div class="line"><a id="l02000" name="l02000"></a><span class="lineno"> 2000</span><span class="stringliteral">                                    error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadOptionValue<span class="charliteral">&#39;,&#39;</span>option -c cannot be parsed: must be <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> 4-element numeric vector<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l02001" name="l02001"></a><span class="lineno"> 2001</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l02002" name="l02002"></a><span class="lineno"> 2002</span><span class="stringliteral">                                options.crop_amounts = vals;</span></div>
<div class="line"><a id="l02003" name="l02003"></a><span class="lineno"> 2003</span><span class="stringliteral">                                options.crop = true;</span></div>
<div class="line"><a id="l02004" name="l02004"></a><span class="lineno"> 2004</span><span class="stringliteral">                            elseif thisArg(1)==&#39;</span>-<span class="stringliteral">&#39; &amp;&amp; any(thisArg(2)==&#39;</span>nNxXsS<span class="stringliteral">&#39;) %issue #315</span></div>
<div class="line"><a id="l02005" name="l02005"></a><span class="lineno"> 2005</span><span class="stringliteral">                                if numel(thisArg)==2</span></div>
<div class="line"><a id="l02006" name="l02006"></a><span class="lineno"> 2006</span><span class="stringliteral">                                    skipNext = 1;</span></div>
<div class="line"><a id="l02007" name="l02007"></a><span class="lineno"> 2007</span><span class="stringliteral">                                    valsStr = varargin{a+1};</span></div>
<div class="line"><a id="l02008" name="l02008"></a><span class="lineno"> 2008</span><span class="stringliteral">                                else</span></div>
<div class="line"><a id="l02009" name="l02009"></a><span class="lineno"> 2009</span><span class="stringliteral">                                    valsStr = thisArg(3:end);</span></div>
<div class="line"><a id="l02010" name="l02010"></a><span class="lineno"> 2010</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l02011" name="l02011"></a><span class="lineno"> 2011</span><span class="stringliteral">                                numVals = sum(valsStr==&#39;</span>,<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l02012" name="l02012"></a><span class="lineno"> 2012</span><span class="stringliteral">                                if any(valsStr==&#39;</span>-<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l02013" name="l02013"></a><span class="lineno"> 2013</span><span class="stringliteral">                                    wasError = true;</span></div>
<div class="line"><a id="l02014" name="l02014"></a><span class="lineno"> 2014</span><span class="stringliteral">                                    error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadOptionValue<span class="charliteral">&#39;,&#39;</span>option -%s must be <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> positive scalar value or 2-value vector<span class="stringliteral">&#39;,thisArg(2));</span></div>
<div class="line"><a id="l02015" name="l02015"></a><span class="lineno"> 2015</span><span class="stringliteral">                                elseif numVals &gt; 1</span></div>
<div class="line"><a id="l02016" name="l02016"></a><span class="lineno"> 2016</span><span class="stringliteral">                                    wasError = true;</span></div>
<div class="line"><a id="l02017" name="l02017"></a><span class="lineno"> 2017</span><span class="stringliteral">                                    error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadOptionValue<span class="charliteral">&#39;,&#39;</span>option -%s must be <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> scalar value or 2-value vector<span class="stringliteral">&#39;,thisArg(2));</span></div>
<div class="line"><a id="l02018" name="l02018"></a><span class="lineno"> 2018</span><span class="stringliteral">                                elseif numVals == 0  % -s100 =&gt; -s100,100</span></div>
<div class="line"><a id="l02019" name="l02019"></a><span class="lineno"> 2019</span><span class="stringliteral">                                    valsStr = [valsStr &#39;</span>,<span class="stringliteral">&#39; valsStr]; %#ok&lt;AGROW&gt;</span></div>
<div class="line"><a id="l02020" name="l02020"></a><span class="lineno"> 2020</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l02021" name="l02021"></a><span class="lineno"> 2021</span><span class="stringliteral">                                valsStr = regexprep(valsStr,&#39;</span>([\d\.]*)%<span class="charliteral">&#39;,&#39;</span>-$1<span class="stringliteral">&#39;); % -s95%,100 =&gt; [-95,100]</span></div>
<div class="line"><a id="l02022" name="l02022"></a><span class="lineno"> 2022</span><span class="stringliteral">                                vals = str2num(valsStr); %#ok&lt;ST2NM&gt;</span></div>
<div class="line"><a id="l02023" name="l02023"></a><span class="lineno"> 2023</span><span class="stringliteral">                                if any(vals &lt; 0) &amp;&amp; lower(thisArg(2)) ~= &#39;</span>s<span class="stringliteral">&#39;</span></div>
<div class="line"><a id="l02024" name="l02024"></a><span class="lineno"> 2024</span><span class="stringliteral">                                    wasError = true;</span></div>
<div class="line"><a id="l02025" name="l02025"></a><span class="lineno"> 2025</span><span class="stringliteral">                                    error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadOptionValue<span class="charliteral">&#39;,&#39;</span>option -%s cannot use percentage values<span class="stringliteral">&#39;,thisArg(2));</span></div>
<div class="line"><a id="l02026" name="l02026"></a><span class="lineno"> 2026</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l02027" name="l02027"></a><span class="lineno"> 2027</span><span class="stringliteral">                                switch lower(thisArg(2))</span></div>
<div class="line"><a id="l02028" name="l02028"></a><span class="lineno"> 2028</span><span class="stringliteral">                                    case &#39;</span>n<span class="stringliteral">&#39;, options.min_size   = vals;</span></div>
<div class="line"><a id="l02029" name="l02029"></a><span class="lineno"> 2029</span><span class="stringliteral">                                    case &#39;</span>x<span class="stringliteral">&#39;, options.max_size   = vals;</span></div>
<div class="line"><a id="l02030" name="l02030"></a><span class="lineno"> 2030</span><span class="stringliteral">                                    case &#39;</span>s<span class="stringliteral">&#39;, options.fixed_size = vals;</span></div>
<div class="line"><a id="l02031" name="l02031"></a><span class="lineno"> 2031</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l02032" name="l02032"></a><span class="lineno"> 2032</span><span class="stringliteral">                            else  % scalar parameter value</span></div>
<div class="line"><a id="l02033" name="l02033"></a><span class="lineno"> 2033</span><span class="stringliteral">                                val = str2double(regexpi(thisArg, &#39;</span>(?&lt;=-([mrqp]))-?\d*.?\d+<span class="stringliteral">&#39;, &#39;</span>match<span class="stringliteral">&#39;));</span></div>
<div class="line"><a id="l02034" name="l02034"></a><span class="lineno"> 2034</span><span class="stringliteral">                                if isempty(val) || isnan(val)</span></div>
<div class="line"><a id="l02035" name="l02035"></a><span class="lineno"> 2035</span><span class="stringliteral">                                    % Issue #51: improved processing of input args (accept space between param name &amp; value)</span></div>
<div class="line"><a id="l02036" name="l02036"></a><span class="lineno"> 2036</span><span class="stringliteral">                                    val = str2double(varargin{a+1});</span></div>
<div class="line"><a id="l02037" name="l02037"></a><span class="lineno"> 2037</span><span class="stringliteral">                                    if isscalar(val) &amp;&amp; ~isnan(val)</span></div>
<div class="line"><a id="l02038" name="l02038"></a><span class="lineno"> 2038</span><span class="stringliteral">                                        skipNext = 1;</span></div>
<div class="line"><a id="l02039" name="l02039"></a><span class="lineno"> 2039</span><span class="stringliteral">                                    end</span></div>
<div class="line"><a id="l02040" name="l02040"></a><span class="lineno"> 2040</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l02041" name="l02041"></a><span class="lineno"> 2041</span><span class="stringliteral">                                if ~isscalar(val) || isnan(val)</span></div>
<div class="line"><a id="l02042" name="l02042"></a><span class="lineno"> 2042</span><span class="stringliteral">                                    wasError = true;</span></div>
<div class="line"><a id="l02043" name="l02043"></a><span class="lineno"> 2043</span><span class="stringliteral">                                    error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadOptionValue<span class="charliteral">&#39;,&#39;</span>option %s is not recognised or cannot be parsed<span class="stringliteral">&#39;, thisArg);</span></div>
<div class="line"><a id="l02044" name="l02044"></a><span class="lineno"> 2044</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l02045" name="l02045"></a><span class="lineno"> 2045</span><span class="stringliteral">                                switch lower(thisArg(2))</span></div>
<div class="line"><a id="l02046" name="l02046"></a><span class="lineno"> 2046</span><span class="stringliteral">                                    case &#39;</span>m<span class="stringliteral">&#39;</span></div>
<div class="line"><a id="l02047" name="l02047"></a><span class="lineno"> 2047</span><span class="stringliteral">                                        % Magnification may never be negative</span></div>
<div class="line"><a id="l02048" name="l02048"></a><span class="lineno"> 2048</span><span class="stringliteral">                                        if val &lt;= 0</span></div>
<div class="line"><a id="l02049" name="l02049"></a><span class="lineno"> 2049</span><span class="stringliteral">                                            wasError = true;</span></div>
<div class="line"><a id="l02050" name="l02050"></a><span class="lineno"> 2050</span><span class="stringliteral">                                            error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadMagnification<span class="charliteral">&#39;,&#39;</span>Bad magnification value: %g (must be positive)<span class="stringliteral">&#39;, val);</span></div>
<div class="line"><a id="l02051" name="l02051"></a><span class="lineno"> 2051</span><span class="stringliteral">                                        end</span></div>
<div class="line"><a id="l02052" name="l02052"></a><span class="lineno"> 2052</span><span class="stringliteral">                                        options.magnify = val;</span></div>
<div class="line"><a id="l02053" name="l02053"></a><span class="lineno"> 2053</span><span class="stringliteral">                                    case &#39;</span>r<span class="stringliteral">&#39;</span></div>
<div class="line"><a id="l02054" name="l02054"></a><span class="lineno"> 2054</span><span class="stringliteral">                                        options.resolution = val;</span></div>
<div class="line"><a id="l02055" name="l02055"></a><span class="lineno"> 2055</span><span class="stringliteral">                                    case &#39;</span>q<span class="stringliteral">&#39;</span></div>
<div class="line"><a id="l02056" name="l02056"></a><span class="lineno"> 2056</span><span class="stringliteral">                                        options.quality = max(val, 0);</span></div>
<div class="line"><a id="l02057" name="l02057"></a><span class="lineno"> 2057</span><span class="stringliteral">                                    case &#39;</span>p<span class="stringliteral">&#39;</span></div>
<div class="line"><a id="l02058" name="l02058"></a><span class="lineno"> 2058</span><span class="stringliteral">                                        options.bb_padding = val;</span></div>
<div class="line"><a id="l02059" name="l02059"></a><span class="lineno"> 2059</span><span class="stringliteral">                                end</span></div>
<div class="line"><a id="l02060" name="l02060"></a><span class="lineno"> 2060</span><span class="stringliteral">                            end</span></div>
<div class="line"><a id="l02061" name="l02061"></a><span class="lineno"> 2061</span><span class="stringliteral">                        catch err</span></div>
<div class="line"><a id="l02062" name="l02062"></a><span class="lineno"> 2062</span><span class="stringliteral">                            % We might have reached here by raising an intentional error</span></div>
<div class="line"><a id="l02063" name="l02063"></a><span class="lineno"> 2063</span><span class="stringliteral">                            if wasError  % intentional raise</span></div>
<div class="line"><a id="l02064" name="l02064"></a><span class="lineno"> 2064</span><span class="stringliteral">                                rethrow(err)</span></div>
<div class="line"><a id="l02065" name="l02065"></a><span class="lineno"> 2065</span><span class="stringliteral">                            else  % unintentional</span></div>
<div class="line"><a id="l02066" name="l02066"></a><span class="lineno"> 2066</span><span class="stringliteral">                                error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadOption<span class="stringliteral">&#39;,[&#39;</span>Unrecognized <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> input option: <span class="charliteral">&#39;&#39;&#39;</span> thisArg <span class="charliteral">&#39;&#39;&#39;</span><span class="stringliteral">&#39;]);</span></div>
<div class="line"><a id="l02067" name="l02067"></a><span class="lineno"> 2067</span><span class="stringliteral">                            end</span></div>
<div class="line"><a id="l02068" name="l02068"></a><span class="lineno"> 2068</span><span class="stringliteral">                        end</span></div>
<div class="line"><a id="l02069" name="l02069"></a><span class="lineno"> 2069</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l02070" name="l02070"></a><span class="lineno"> 2070</span><span class="stringliteral">                if addToOptionsStr</span></div>
<div class="line"><a id="l02071" name="l02071"></a><span class="lineno"> 2071</span><span class="stringliteral">                    options.propagatedOpts{end+1} = thisArg;</span></div>
<div class="line"><a id="l02072" name="l02072"></a><span class="lineno"> 2072</span><span class="stringliteral">                    if skipNext</span></div>
<div class="line"><a id="l02073" name="l02073"></a><span class="lineno"> 2073</span><span class="stringliteral">                        options.propagatedOpts{end+1} = varargin{a+1};</span></div>
<div class="line"><a id="l02074" name="l02074"></a><span class="lineno"> 2074</span><span class="stringliteral">                    end</span></div>
<div class="line"><a id="l02075" name="l02075"></a><span class="lineno"> 2075</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l02076" name="l02076"></a><span class="lineno"> 2076</span><span class="stringliteral">            else</span></div>
<div class="line"><a id="l02077" name="l02077"></a><span class="lineno"> 2077</span><span class="stringliteral">                % test for case of figure name rather than export filename</span></div>
<div class="line"><a id="l02078" name="l02078"></a><span class="lineno"> 2078</span><span class="stringliteral">                isFigName = false;</span></div>
<div class="line"><a id="l02079" name="l02079"></a><span class="lineno"> 2079</span><span class="stringliteral">                if isempty(options.handleName)</span></div>
<div class="line"><a id="l02080" name="l02080"></a><span class="lineno"> 2080</span><span class="stringliteral">                    try</span></div>
<div class="line"><a id="l02081" name="l02081"></a><span class="lineno"> 2081</span><span class="stringliteral">                        if strncmpi(thisArg,&#39;</span><a class="code hl_class" href="classFigure.html">Figure</a><span class="stringliteral">&#39;,6)</span></div>
<div class="line"><a id="l02082" name="l02082"></a><span class="lineno"> 2082</span><span class="stringliteral">                            [~,~,~,~,e] = regexp(thisArg,&#39;</span>figure\s*(\d+)\s*(:\s*(.*))?<span class="charliteral">&#39;,&#39;</span>ignorecase<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l02083" name="l02083"></a><span class="lineno"> 2083</span><span class="stringliteral">                            figNumber = str2double(e{1}{1});</span></div>
<div class="line"><a id="l02084" name="l02084"></a><span class="lineno"> 2084</span><span class="stringliteral">                            figName = regexprep(e{1}{2},&#39;</span>:\s*<span class="charliteral">&#39;,&#39;</span><span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l02085" name="l02085"></a><span class="lineno"> 2085</span><span class="stringliteral">                            findProps = {&#39;</span>Number<span class="stringliteral">&#39;,figNumber};</span></div>
<div class="line"><a id="l02086" name="l02086"></a><span class="lineno"> 2086</span><span class="stringliteral">                            if ~isempty(figName)</span></div>
<div class="line"><a id="l02087" name="l02087"></a><span class="lineno"> 2087</span><span class="stringliteral">                                findProps = [findProps,&#39;</span>Name<span class="stringliteral">&#39;,figName]; %#ok&lt;AGROW&gt;</span></div>
<div class="line"><a id="l02088" name="l02088"></a><span class="lineno"> 2088</span><span class="stringliteral">                            end</span></div>
<div class="line"><a id="l02089" name="l02089"></a><span class="lineno"> 2089</span><span class="stringliteral">                        else</span></div>
<div class="line"><a id="l02090" name="l02090"></a><span class="lineno"> 2090</span><span class="stringliteral">                            findProps = {&#39;</span>Name<span class="stringliteral">&#39;,thisArg};</span></div>
<div class="line"><a id="l02091" name="l02091"></a><span class="lineno"> 2091</span><span class="stringliteral">                        end</span></div>
<div class="line"><a id="l02092" name="l02092"></a><span class="lineno"> 2092</span><span class="stringliteral">                        possibleFig = findall(0,&#39;</span>-depth<span class="stringliteral">&#39;,1,&#39;</span>Type<span class="charliteral">&#39;,&#39;</span>figure<span class="stringliteral">&#39;,findProps{:});</span></div>
<div class="line"><a id="l02093" name="l02093"></a><span class="lineno"> 2093</span><span class="stringliteral">                        if ~isempty(possibleFig)</span></div>
<div class="line"><a id="l02094" name="l02094"></a><span class="lineno"> 2094</span><span class="stringliteral">                            fig = possibleFig(1);  % return the 1st figure found</span></div>
<div class="line"><a id="l02095" name="l02095"></a><span class="lineno"> 2095</span><span class="stringliteral">                            if ~strcmpi(options.name, defaultOptions.name)</span></div>
<div class="line"><a id="l02096" name="l02096"></a><span class="lineno"> 2096</span><span class="stringliteral">                                continue  % export fname was already specified</span></div>
<div class="line"><a id="l02097" name="l02097"></a><span class="lineno"> 2097</span><span class="stringliteral">                            else</span></div>
<div class="line"><a id="l02098" name="l02098"></a><span class="lineno"> 2098</span><span class="stringliteral">                                isFigName = true; %use figure name as export fname</span></div>
<div class="line"><a id="l02099" name="l02099"></a><span class="lineno"> 2099</span><span class="stringliteral">                            end</span></div>
<div class="line"><a id="l02100" name="l02100"></a><span class="lineno"> 2100</span><span class="stringliteral">                        end</span></div>
<div class="line"><a id="l02101" name="l02101"></a><span class="lineno"> 2101</span><span class="stringliteral">                    catch</span></div>
<div class="line"><a id="l02102" name="l02102"></a><span class="lineno"> 2102</span><span class="stringliteral">                        % ignore - treat as export filename, not figure name</span></div>
<div class="line"><a id="l02103" name="l02103"></a><span class="lineno"> 2103</span><span class="stringliteral">                    end</span></div>
<div class="line"><a id="l02104" name="l02104"></a><span class="lineno"> 2104</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l02105" name="l02105"></a><span class="lineno"> 2105</span><span class="stringliteral">                % parse the input as a filename, alert if requested folder does not exist</span></div>
<div class="line"><a id="l02106" name="l02106"></a><span class="lineno"> 2106</span><span class="stringliteral">                [p, options.name, ext] = fileparts(thisArg);</span></div>
<div class="line"><a id="l02107" name="l02107"></a><span class="lineno"> 2107</span><span class="stringliteral">                if ~isempty(p)  % export folder name/path was specified</span></div>
<div class="line"><a id="l02108" name="l02108"></a><span class="lineno"> 2108</span><span class="stringliteral">                    % Issue #221: alert if the requested folder does not exist</span></div>
<div class="line"><a id="l02109" name="l02109"></a><span class="lineno"> 2109</span><span class="stringliteral">                    if exist(p,&#39;</span>dir<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l02110" name="l02110"></a><span class="lineno"> 2110</span><span class="stringliteral">                        options.name = fullfile(p, options.name); %without ext</span></div>
<div class="line"><a id="l02111" name="l02111"></a><span class="lineno"> 2111</span><span class="stringliteral">                    elseif ~isFigName</span></div>
<div class="line"><a id="l02112" name="l02112"></a><span class="lineno"> 2112</span><span class="stringliteral">                        error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:BadPath<span class="charliteral">&#39;,&#39;</span>Folder %s does not exist, nor is it the <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">name</a> of any active figure!<span class="stringliteral">&#39;,p);</span></div>
<div class="line"><a id="l02113" name="l02113"></a><span class="lineno"> 2113</span><span class="stringliteral">                    else  % isFigName</span></div>
<div class="line"><a id="l02114" name="l02114"></a><span class="lineno"> 2114</span><span class="stringliteral">                        % specified a figure name so ignore the bad folder part</span></div>
<div class="line"><a id="l02115" name="l02115"></a><span class="lineno"> 2115</span><span class="stringliteral">                    end</span></div>
<div class="line"><a id="l02116" name="l02116"></a><span class="lineno"> 2116</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l02117" name="l02117"></a><span class="lineno"> 2117</span><span class="stringliteral">                switch lower(ext(2:end))</span></div>
<div class="line"><a id="l02118" name="l02118"></a><span class="lineno"> 2118</span><span class="stringliteral">                    case {&#39;</span>tif<span class="stringliteral">&#39;, &#39;</span>tiff<span class="charliteral">&#39;,&#39;</span>jpg<span class="stringliteral">&#39;, &#39;</span>jpeg<span class="charliteral">&#39;,&#39;</span>png<span class="charliteral">&#39;,&#39;</span>bmp<span class="charliteral">&#39;,&#39;</span>eps<span class="charliteral">&#39;,&#39;</span>emf<span class="charliteral">&#39;,&#39;</span>pdf<span class="charliteral">&#39;,&#39;</span>svg<span class="charliteral">&#39;,&#39;</span>gif<span class="stringliteral">&#39;}</span></div>
<div class="line"><a id="l02119" name="l02119"></a><span class="lineno"> 2119</span><span class="stringliteral">                        options = setOptionsFormat(options, ext);</span></div>
<div class="line"><a id="l02120" name="l02120"></a><span class="lineno"> 2120</span><span class="stringliteral">                        wasOutputRequested = true;</span></div>
<div class="line"><a id="l02121" name="l02121"></a><span class="lineno"> 2121</span><span class="stringliteral">                    case &#39;</span>.fig<span class="stringliteral">&#39;</span></div>
<div class="line"><a id="l02122" name="l02122"></a><span class="lineno"> 2122</span><span class="stringliteral">                        % If no open figure, then load the specified .fig file and continue</span></div>
<div class="line"><a id="l02123" name="l02123"></a><span class="lineno"> 2123</span><span class="stringliteral">                        figFilename = thisArg;</span></div>
<div class="line"><a id="l02124" name="l02124"></a><span class="lineno"> 2124</span><span class="stringliteral">                        if isempty(fig)</span></div>
<div class="line"><a id="l02125" name="l02125"></a><span class="lineno"> 2125</span><span class="stringliteral">                            fig = openfig(figFilename,&#39;</span>invisible<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l02126" name="l02126"></a><span class="lineno"> 2126</span><span class="stringliteral">                            %varargin{a} = fig;</span></div>
<div class="line"><a id="l02127" name="l02127"></a><span class="lineno"> 2127</span><span class="stringliteral">                            options.closeFig = true;</span></div>
<div class="line"><a id="l02128" name="l02128"></a><span class="lineno"> 2128</span><span class="stringliteral">                            options.handleName = [&#39;</span>openfig(<span class="charliteral">&#39;&#39;&#39;</span> figFilename <span class="charliteral">&#39;&#39;&#39;</span>)<span class="stringliteral">&#39;];</span></div>
<div class="line"><a id="l02129" name="l02129"></a><span class="lineno"> 2129</span><span class="stringliteral">                        else</span></div>
<div class="line"><a id="l02130" name="l02130"></a><span class="lineno"> 2130</span><span class="stringliteral">                            % save the current figure as the specified .fig file and exit</span></div>
<div class="line"><a id="l02131" name="l02131"></a><span class="lineno"> 2131</span><span class="stringliteral">                            saveas(fig(1),figFilename);</span></div>
<div class="line"><a id="l02132" name="l02132"></a><span class="lineno"> 2132</span><span class="stringliteral">                            fig = -1;</span></div>
<div class="line"><a id="l02133" name="l02133"></a><span class="lineno"> 2133</span><span class="stringliteral">                            return</span></div>
<div class="line"><a id="l02134" name="l02134"></a><span class="lineno"> 2134</span><span class="stringliteral">                        end</span></div>
<div class="line"><a id="l02135" name="l02135"></a><span class="lineno"> 2135</span><span class="stringliteral">                    otherwise</span></div>
<div class="line"><a id="l02136" name="l02136"></a><span class="lineno"> 2136</span><span class="stringliteral">                        options.name = thisArg;</span></div>
<div class="line"><a id="l02137" name="l02137"></a><span class="lineno"> 2137</span><span class="stringliteral">                        wasOutputRequested = true;</span></div>
<div class="line"><a id="l02138" name="l02138"></a><span class="lineno"> 2138</span><span class="stringliteral">                end</span></div>
<div class="line"><a id="l02139" name="l02139"></a><span class="lineno"> 2139</span><span class="stringliteral">            end</span></div>
<div class="line"><a id="l02140" name="l02140"></a><span class="lineno"> 2140</span><span class="stringliteral">        end</span></div>
<div class="line"><a id="l02141" name="l02141"></a><span class="lineno"> 2141</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02142" name="l02142"></a><span class="lineno"> 2142</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l02143" name="l02143"></a><span class="lineno"> 2143</span><span class="stringliteral">    % Quick bail-out if no figure found</span></div>
<div class="line"><a id="l02144" name="l02144"></a><span class="lineno"> 2144</span><span class="stringliteral">    if isempty(fig),  return;  end</span></div>
<div class="line"><a id="l02145" name="l02145"></a><span class="lineno"> 2145</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l02146" name="l02146"></a><span class="lineno"> 2146</span><span class="stringliteral">    % Do border padding with repsect to a cropped image</span></div>
<div class="line"><a id="l02147" name="l02147"></a><span class="lineno"> 2147</span><span class="stringliteral">    if options.bb_padding</span></div>
<div class="line"><a id="l02148" name="l02148"></a><span class="lineno"> 2148</span><span class="stringliteral">        options.crop = true;</span></div>
<div class="line"><a id="l02149" name="l02149"></a><span class="lineno"> 2149</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02150" name="l02150"></a><span class="lineno"> 2150</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l02151" name="l02151"></a><span class="lineno"> 2151</span><span class="stringliteral">    % Set default anti-aliasing now we know the renderer</span></div>
<div class="line"><a id="l02152" name="l02152"></a><span class="lineno"> 2152</span><span class="stringliteral">    try isAA = strcmp(get(ancestor(fig, &#39;</span>figure<span class="stringliteral">&#39;), &#39;</span>GraphicsSmoothing<span class="stringliteral">&#39;), &#39;</span>on<span class="stringliteral">&#39;); catch, isAA = false; end</span></div>
<div class="line"><a id="l02153" name="l02153"></a><span class="lineno"> 2153</span><span class="stringliteral">    if isAA</span></div>
<div class="line"><a id="l02154" name="l02154"></a><span class="lineno"> 2154</span><span class="stringliteral">        if options.aa_factor &gt; 1 &amp;&amp; ~options.silent</span></div>
<div class="line"><a id="l02155" name="l02155"></a><span class="lineno"> 2155</span><span class="stringliteral">            warning(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:AntiAliasing<span class="charliteral">&#39;,&#39;</span>You requested anti-aliased <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> output of <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> figure that is already anti-aliased - your -<a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> option in <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> is ignored.<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l02156" name="l02156"></a><span class="lineno"> 2156</span><span class="stringliteral">        end</span></div>
<div class="line"><a id="l02157" name="l02157"></a><span class="lineno"> 2157</span><span class="stringliteral">        options.aa_factor = 1;  % ignore -a option when the figure is already anti-aliased (HG2)</span></div>
<div class="line"><a id="l02158" name="l02158"></a><span class="lineno"> 2158</span><span class="stringliteral">    elseif options.aa_factor == 0  % default</span></div>
<div class="line"><a id="l02159" name="l02159"></a><span class="lineno"> 2159</span><span class="stringliteral">        %options.aa_factor = 1 + 2 * (~(using_hg2(fig) &amp;&amp; isAA) | (options.renderer == 3));</span></div>
<div class="line"><a id="l02160" name="l02160"></a><span class="lineno"> 2160</span><span class="stringliteral">        options.aa_factor = 1 + 2 * (~using_hg2(fig));  % =1 in HG2, =3 in HG1</span></div>
<div class="line"><a id="l02161" name="l02161"></a><span class="lineno"> 2161</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02162" name="l02162"></a><span class="lineno"> 2162</span><span class="stringliteral">    if options.aa_factor &gt; 1 &amp;&amp; ~isAA &amp;&amp; using_hg2(fig) &amp;&amp; ~options.silent</span></div>
<div class="line"><a id="l02163" name="l02163"></a><span class="lineno"> 2163</span><span class="stringliteral">        warning(&#39;</span>savefig:AntiAliasing<span class="charliteral">&#39;,&#39;</span>You requested anti-aliased <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a> output of an aliased figure (<span class="stringliteral">&#39;&#39;</span>GraphicsSmoothing<span class="stringliteral">&#39;&#39;</span>=<span class="stringliteral">&#39;&#39;</span>off<span class="stringliteral">&#39;&#39;</span>). You will see better results <span class="keywordflow">if</span> you set your figure<span class="stringliteral">&#39;&#39;</span>s GraphicsSmoothing property to <span class="stringliteral">&#39;&#39;</span>on<span class="stringliteral">&#39;&#39;</span> before calling <a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>.<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l02164" name="l02164"></a><span class="lineno"> 2164</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02165" name="l02165"></a><span class="lineno"> 2165</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l02166" name="l02166"></a><span class="lineno"> 2166</span><span class="stringliteral">    % Use the figure&#39;</span>s FileName property as the <span class="keywordflow">default</span> export filename</div>
<div class="line"><a id="l02167" name="l02167"></a><span class="lineno"> 2167</span>    <span class="keywordflow">if</span> isempty(options.name)</div>
<div class="line"><a id="l02168" name="l02168"></a><span class="lineno"> 2168</span>        options.name = get(ancestor(fig(1),<span class="stringliteral">&#39;figure&#39;</span>),<span class="stringliteral">&#39;FileName&#39;</span>); %fix issue #372</div>
<div class="line"><a id="l02169" name="l02169"></a><span class="lineno"> 2169</span>        options.name = char(options.name); %fix issue #381</div>
<div class="line"><a id="l02170" name="l02170"></a><span class="lineno"> 2170</span>        options.name = regexprep(options.name,<span class="stringliteral">&#39;[*?&quot;&lt;&gt;|]+&#39;</span>,<span class="charliteral">&#39;-&#39;</span>); %remove illegal filename chars, but not folder seperators!</div>
<div class="line"><a id="l02171" name="l02171"></a><span class="lineno"> 2171</span>        <span class="keywordflow">if</span> isempty(options.name)</div>
<div class="line"><a id="l02172" name="l02172"></a><span class="lineno"> 2172</span>            % No FileName <span class="keyword">property</span> specified <span class="keywordflow">for</span> the figure, use <span class="stringliteral">&#39;export_fig_out&#39;</span></div>
<div class="line"><a id="l02173" name="l02173"></a><span class="lineno"> 2173</span>            options.name = <span class="stringliteral">&#39;export_fig_out&#39;</span>;</div>
<div class="line"><a id="l02174" name="l02174"></a><span class="lineno"> 2174</span>        elseif wasOutputRequested  % <span class="keywordflow">if</span> no output requested, don<span class="stringliteral">&#39;t force it!</span></div>
<div class="line"><a id="l02175" name="l02175"></a><span class="lineno"> 2175</span><span class="stringliteral">            % Ensure the filepath is valid</span></div>
<div class="line"><a id="l02176" name="l02176"></a><span class="lineno"> 2176</span><span class="stringliteral">            [p, options.name, ext] = fileparts(options.name);</span></div>
<div class="line"><a id="l02177" name="l02177"></a><span class="lineno"> 2177</span><span class="stringliteral">            options = setOptionsFormat(options, ext);</span></div>
<div class="line"><a id="l02178" name="l02178"></a><span class="lineno"> 2178</span><span class="stringliteral">            if ~isempty(p)  % export folder name/path was specified</span></div>
<div class="line"><a id="l02179" name="l02179"></a><span class="lineno"> 2179</span><span class="stringliteral">                if exist(p,&#39;</span>dir<span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l02180" name="l02180"></a><span class="lineno"> 2180</span><span class="stringliteral">                    options.name = fullfile(p, options.name); %without ext</span></div>
<div class="line"><a id="l02181" name="l02181"></a><span class="lineno"> 2181</span><span class="stringliteral">                else  % only warn, don&#39;</span>t error</div>
<div class="line"><a id="l02182" name="l02182"></a><span class="lineno"> 2182</span>                    warning(<span class="stringliteral">&#39;savefig:BadPath&#39;</span>,<span class="stringliteral">&#39;Folder %s does not exist - exporting %s%s to current folder&#39;</span>,p,options.name,ext);</div>
<div class="line"><a id="l02183" name="l02183"></a><span class="lineno"> 2183</span>                end</div>
<div class="line"><a id="l02184" name="l02184"></a><span class="lineno"> 2184</span>            end</div>
<div class="line"><a id="l02185" name="l02185"></a><span class="lineno"> 2185</span>        end</div>
<div class="line"><a id="l02186" name="l02186"></a><span class="lineno"> 2186</span>    end</div>
<div class="line"><a id="l02187" name="l02187"></a><span class="lineno"> 2187</span> </div>
<div class="line"><a id="l02188" name="l02188"></a><span class="lineno"> 2188</span>    % Convert user dir <span class="charliteral">&#39;~&#39;</span> to full path</div>
<div class="line"><a id="l02189" name="l02189"></a><span class="lineno"> 2189</span>    <span class="keywordflow">if</span> numel(options.name) &gt; 2 &amp;&amp; options.name(1) == <span class="charliteral">&#39;~&#39;</span> &amp;&amp; (options.name(2) == <span class="charliteral">&#39;/&#39;</span> || options.name(2) == <span class="charliteral">&#39;\&#39;</span>)</div>
<div class="line"><a id="l02190" name="l02190"></a><span class="lineno"> 2190</span>        options.name = fullfile(<span class="keywordtype">char</span>(java.lang.System.getProperty(<span class="stringliteral">&#39;user.home&#39;</span>)), options.name(2:end));</div>
<div class="line"><a id="l02191" name="l02191"></a><span class="lineno"> 2191</span>    end</div>
<div class="line"><a id="l02192" name="l02192"></a><span class="lineno"> 2192</span> </div>
<div class="line"><a id="l02193" name="l02193"></a><span class="lineno"> 2193</span>    % Compute the magnification and resolution</div>
<div class="line"><a id="l02194" name="l02194"></a><span class="lineno"> 2194</span>    <span class="keywordflow">if</span> isempty(options.magnify)</div>
<div class="line"><a id="l02195" name="l02195"></a><span class="lineno"> 2195</span>        if isempty(options.resolution)</div>
<div class="line"><a id="l02196" name="l02196"></a><span class="lineno"> 2196</span>            options.magnify = 1;</div>
<div class="line"><a id="l02197" name="l02197"></a><span class="lineno"> 2197</span>            options.resolution = 864;</div>
<div class="line"><a id="l02198" name="l02198"></a><span class="lineno"> 2198</span>        else</div>
<div class="line"><a id="l02199" name="l02199"></a><span class="lineno"> 2199</span>            options.magnify = options.resolution ./ get(0, &#39;ScreenPixelsPerInch&#39;);</div>
<div class="line"><a id="l02200" name="l02200"></a><span class="lineno"> 2200</span>        end</div>
<div class="line"><a id="l02201" name="l02201"></a><span class="lineno"> 2201</span>    elseif isempty(options.resolution)</div>
<div class="line"><a id="l02202" name="l02202"></a><span class="lineno"> 2202</span>        options.resolution = 864;</div>
<div class="line"><a id="l02203" name="l02203"></a><span class="lineno"> 2203</span>    end</div>
<div class="line"><a id="l02204" name="l02204"></a><span class="lineno"> 2204</span> </div>
<div class="line"><a id="l02205" name="l02205"></a><span class="lineno"> 2205</span>    % Set the format to PNG, if no other format was specified but filename provided</div>
<div class="line"><a id="l02206" name="l02206"></a><span class="lineno"> 2206</span>    if ~isvector(options) &amp;&amp; ~isbitmap(options) &amp;&amp; ~options.svg &amp;&amp; ~options.emf</div>
<div class="line"><a id="l02207" name="l02207"></a><span class="lineno"> 2207</span>        if wasOutputRequested</div>
<div class="line"><a id="l02208" name="l02208"></a><span class="lineno"> 2208</span>            options.png = true;</div>
<div class="line"><a id="l02209" name="l02209"></a><span class="lineno"> 2209</span>        end</div>
<div class="line"><a id="l02210" name="l02210"></a><span class="lineno"> 2210</span>    end</div>
<div class="line"><a id="l02211" name="l02211"></a><span class="lineno"> 2211</span> </div>
<div class="line"><a id="l02212" name="l02212"></a><span class="lineno"> 2212</span>    % Check whether transparent background is wanted (old way)</div>
<div class="line"><a id="l02213" name="l02213"></a><span class="lineno"> 2213</span>    if isequal(get(ancestor(fig(1), &#39;figure&#39;), &#39;Color&#39;), &#39;none&#39;)</div>
<div class="line"><a id="l02214" name="l02214"></a><span class="lineno"> 2214</span>        options.transparent = true;</div>
<div class="line"><a id="l02215" name="l02215"></a><span class="lineno"> 2215</span>    end</div>
<div class="line"><a id="l02216" name="l02216"></a><span class="lineno"> 2216</span> </div>
<div class="line"><a id="l02217" name="l02217"></a><span class="lineno"> 2217</span>    % If requested, set the resolution to the native vertical resolution of the</div>
<div class="line"><a id="l02218" name="l02218"></a><span class="lineno"> 2218</span>    % first suitable image found</div>
<div class="line"><a id="l02219" name="l02219"></a><span class="lineno"> 2219</span>    if native</div>
<div class="line"><a id="l02220" name="l02220"></a><span class="lineno"> 2220</span>        if isbitmap(options)</div>
<div class="line"><a id="l02221" name="l02221"></a><span class="lineno"> 2221</span>            % Find <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> suitable image</div>
<div class="line"><a id="l02222" name="l02222"></a><span class="lineno"> 2222</span>            <a class="code hl_function" href="namespaceparamonte_1_1os_1_1list.html#a24bc26566d86b0d986f6f8caa397edae">list</a> = findall(fig, &#39;Type&#39;,&#39;image&#39;, &#39;Tag&#39;,&#39;export_fig_native&#39;);</div>
<div class="line"><a id="l02223" name="l02223"></a><span class="lineno"> 2223</span>            if isempty(<a class="code hl_function" href="namespaceparamonte_1_1os_1_1list.html#a24bc26566d86b0d986f6f8caa397edae">list</a>)</div>
<div class="line"><a id="l02224" name="l02224"></a><span class="lineno"> 2224</span>                <a class="code hl_function" href="namespaceparamonte_1_1os_1_1list.html#a24bc26566d86b0d986f6f8caa397edae">list</a> = findall(fig, &#39;Type&#39;,&#39;image&#39;, &#39;Visible&#39;,&#39;on&#39;);</div>
<div class="line"><a id="l02225" name="l02225"></a><span class="lineno"> 2225</span>            end</div>
<div class="line"><a id="l02226" name="l02226"></a><span class="lineno"> 2226</span>            for hIm = <a class="code hl_function" href="namespaceparamonte_1_1os_1_1list.html#a24bc26566d86b0d986f6f8caa397edae">list</a>(:)&#39;</div>
<div class="line"><a id="l02227" name="l02227"></a><span class="lineno"> 2227</span>                % Check height is &gt;= 2</div>
<div class="line"><a id="l02228" name="l02228"></a><span class="lineno"> 2228</span>                height = size(get(hIm, &#39;CData&#39;), 1);</div>
<div class="line"><a id="l02229" name="l02229"></a><span class="lineno"> 2229</span>                if height &lt; 2</div>
<div class="line"><a id="l02230" name="l02230"></a><span class="lineno"> 2230</span>                    continue</div>
<div class="line"><a id="l02231" name="l02231"></a><span class="lineno"> 2231</span>                end</div>
<div class="line"><a id="l02232" name="l02232"></a><span class="lineno"> 2232</span>                % Account for the image filling only part of the axes, or vice versa</div>
<div class="line"><a id="l02233" name="l02233"></a><span class="lineno"> 2233</span>                yl = get(hIm, &#39;YData&#39;);</div>
<div class="line"><a id="l02234" name="l02234"></a><span class="lineno"> 2234</span>                if isscalar(yl)</div>
<div class="line"><a id="l02235" name="l02235"></a><span class="lineno"> 2235</span>                    yl = [yl(1)-0.5 yl(1)+height+0.5];</div>
<div class="line"><a id="l02236" name="l02236"></a><span class="lineno"> 2236</span>                else</div>
<div class="line"><a id="l02237" name="l02237"></a><span class="lineno"> 2237</span>                    yl = [min(yl), max(yl)];  % fix issue <span class="preprocessor">#151 (case of yl containing more than 2 elements)</span></div>
<div class="line"><a id="l02238" name="l02238"></a><span class="lineno"> 2238</span>                    <span class="keywordflow">if</span> ~diff(yl)</div>
<div class="line"><a id="l02239" name="l02239"></a><span class="lineno"> 2239</span>                        <span class="keywordflow">continue</span></div>
<div class="line"><a id="l02240" name="l02240"></a><span class="lineno"> 2240</span>                    end</div>
<div class="line"><a id="l02241" name="l02241"></a><span class="lineno"> 2241</span>                    yl = yl + [-0.5 0.5] * (diff(yl) / (height - 1));</div>
<div class="line"><a id="l02242" name="l02242"></a><span class="lineno"> 2242</span>                end</div>
<div class="line"><a id="l02243" name="l02243"></a><span class="lineno"> 2243</span>                hAx = get(hIm, <span class="stringliteral">&#39;Parent&#39;</span>);</div>
<div class="line"><a id="l02244" name="l02244"></a><span class="lineno"> 2244</span>                yl2 = get(hAx, <span class="stringliteral">&#39;YLim&#39;</span>);</div>
<div class="line"><a id="l02245" name="l02245"></a><span class="lineno"> 2245</span>                % Find the pixel height of the axes</div>
<div class="line"><a id="l02246" name="l02246"></a><span class="lineno"> 2246</span>                oldUnits = get(hAx, <span class="stringliteral">&#39;Units&#39;</span>);</div>
<div class="line"><a id="l02247" name="l02247"></a><span class="lineno"> 2247</span>                set(hAx, <span class="stringliteral">&#39;Units&#39;</span>, <span class="stringliteral">&#39;pixels&#39;</span>);</div>
<div class="line"><a id="l02248" name="l02248"></a><span class="lineno"> 2248</span>                pos = get(hAx, <span class="stringliteral">&#39;Position&#39;</span>);</div>
<div class="line"><a id="l02249" name="l02249"></a><span class="lineno"> 2249</span>                set(hAx, <span class="stringliteral">&#39;Units&#39;</span>, oldUnits);</div>
<div class="line"><a id="l02250" name="l02250"></a><span class="lineno"> 2250</span>                <span class="keywordflow">if</span> ~pos(4)</div>
<div class="line"><a id="l02251" name="l02251"></a><span class="lineno"> 2251</span>                    continue</div>
<div class="line"><a id="l02252" name="l02252"></a><span class="lineno"> 2252</span>                end</div>
<div class="line"><a id="l02253" name="l02253"></a><span class="lineno"> 2253</span>                % Found <a class="code hl_variable" href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">a</a> suitable image</div>
<div class="line"><a id="l02254" name="l02254"></a><span class="lineno"> 2254</span>                % Account for stretch-to-fill being disabled</div>
<div class="line"><a id="l02255" name="l02255"></a><span class="lineno"> 2255</span>                pbar = get(hAx, &#39;PlotBoxAspectRatio&#39;);</div>
<div class="line"><a id="l02256" name="l02256"></a><span class="lineno"> 2256</span>                pos = min(pos(4), pbar(2)*pos(3)/pbar(1));</div>
<div class="line"><a id="l02257" name="l02257"></a><span class="lineno"> 2257</span>                % Set the magnification to give native resolution</div>
<div class="line"><a id="l02258" name="l02258"></a><span class="lineno"> 2258</span>                options.magnify = abs((height * diff(yl2)) / (pos * diff(yl)));  % magnification must never be negative: issue <span class="preprocessor">#103</span></div>
<div class="line"><a id="l02259" name="l02259"></a><span class="lineno"> 2259</span>                <span class="keywordflow">break</span></div>
<div class="line"><a id="l02260" name="l02260"></a><span class="lineno"> 2260</span>            end</div>
<div class="line"><a id="l02261" name="l02261"></a><span class="lineno"> 2261</span>        elseif options.resolution == 864  % don<span class="stringliteral">&#39;t use -r864 in vector mode if user asked for -native</span></div>
<div class="line"><a id="l02262" name="l02262"></a><span class="lineno"> 2262</span><span class="stringliteral">            options.resolution = []; % issue #241 (internal MATLAB bug produces black lines with -r864)</span></div>
<div class="line"><a id="l02263" name="l02263"></a><span class="lineno"> 2263</span><span class="stringliteral">        end</span></div>
<div class="line"><a id="l02264" name="l02264"></a><span class="lineno"> 2264</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02265" name="l02265"></a><span class="lineno"> 2265</span><span class="stringliteral">end</span></div>
<div class="line"><a id="l02266" name="l02266"></a><span class="lineno"> 2266</span><span class="stringliteral">function options = setOptionsFormat(options, ext)</span></div>
<div class="line"><a id="l02267" name="l02267"></a><span class="lineno"> 2267</span><span class="stringliteral">    switch lower(ext(2:end))</span></div>
<div class="line"><a id="l02268" name="l02268"></a><span class="lineno"> 2268</span><span class="stringliteral">        case {&#39;</span>tif<span class="stringliteral">&#39;, &#39;</span>tiff<span class="stringliteral">&#39;},  options.tif = true;</span></div>
<div class="line"><a id="l02269" name="l02269"></a><span class="lineno"> 2269</span><span class="stringliteral">        case {&#39;</span>jpg<span class="stringliteral">&#39;, &#39;</span>jpeg<span class="stringliteral">&#39;},  options.jpg = true;</span></div>
<div class="line"><a id="l02270" name="l02270"></a><span class="lineno"> 2270</span><span class="stringliteral">        case &#39;</span>png<span class="stringliteral">&#39;,            options.png = true;</span></div>
<div class="line"><a id="l02271" name="l02271"></a><span class="lineno"> 2271</span><span class="stringliteral">        case &#39;</span>bmp<span class="stringliteral">&#39;,            options.bmp = true;</span></div>
<div class="line"><a id="l02272" name="l02272"></a><span class="lineno"> 2272</span><span class="stringliteral">        case &#39;</span>eps<span class="stringliteral">&#39;,            options.eps = true;</span></div>
<div class="line"><a id="l02273" name="l02273"></a><span class="lineno"> 2273</span><span class="stringliteral">        case &#39;</span>emf<span class="stringliteral">&#39;,            options.emf = true;</span></div>
<div class="line"><a id="l02274" name="l02274"></a><span class="lineno"> 2274</span><span class="stringliteral">        case &#39;</span>pdf<span class="stringliteral">&#39;,            options.pdf = true;</span></div>
<div class="line"><a id="l02275" name="l02275"></a><span class="lineno"> 2275</span><span class="stringliteral">        case &#39;</span>svg<span class="stringliteral">&#39;,            options.svg = true;</span></div>
<div class="line"><a id="l02276" name="l02276"></a><span class="lineno"> 2276</span><span class="stringliteral">        case &#39;</span>gif<span class="stringliteral">&#39;,            options.gif = true;</span></div>
<div class="line"><a id="l02277" name="l02277"></a><span class="lineno"> 2277</span><span class="stringliteral">        otherwise   % do nothing</span></div>
<div class="line"><a id="l02278" name="l02278"></a><span class="lineno"> 2278</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02279" name="l02279"></a><span class="lineno"> 2279</span><span class="stringliteral">end</span></div>
<div class="line"><a id="l02280" name="l02280"></a><span class="lineno"> 2280</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l02281" name="l02281"></a><span class="lineno"> 2281</span><span class="stringliteral">% Convert a possible string =&gt; char (issue #245)</span></div>
<div class="line"><a id="l02282" name="l02282"></a><span class="lineno"> 2282</span><span class="stringliteral">function value = str2char(value)</span></div>
<div class="line"><a id="l02283" name="l02283"></a><span class="lineno"> 2283</span><span class="stringliteral">    if isa(value,&#39;</span><span class="keywordtype">string</span><span class="stringliteral">&#39;)</span></div>
<div class="line"><a id="l02284" name="l02284"></a><span class="lineno"> 2284</span><span class="stringliteral">        value = char(value);</span></div>
<div class="line"><a id="l02285" name="l02285"></a><span class="lineno"> 2285</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02286" name="l02286"></a><span class="lineno"> 2286</span><span class="stringliteral">end</span></div>
<div class="line"><a id="l02287" name="l02287"></a><span class="lineno"> 2287</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l02288" name="l02288"></a><span class="lineno"> 2288</span><span class="stringliteral">function A = downsize(A, factor)</span></div>
<div class="line"><a id="l02289" name="l02289"></a><span class="lineno"> 2289</span><span class="stringliteral">    % Downsample an image</span></div>
<div class="line"><a id="l02290" name="l02290"></a><span class="lineno"> 2290</span><span class="stringliteral">    if factor &lt;= 1 || isempty(A) %issue #310</span></div>
<div class="line"><a id="l02291" name="l02291"></a><span class="lineno"> 2291</span><span class="stringliteral">        % Nothing to do</span></div>
<div class="line"><a id="l02292" name="l02292"></a><span class="lineno"> 2292</span><span class="stringliteral">        return</span></div>
<div class="line"><a id="l02293" name="l02293"></a><span class="lineno"> 2293</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02294" name="l02294"></a><span class="lineno"> 2294</span><span class="stringliteral">    try</span></div>
<div class="line"><a id="l02295" name="l02295"></a><span class="lineno"> 2295</span><span class="stringliteral">        % Faster, but requires image processing toolbox</span></div>
<div class="line"><a id="l02296" name="l02296"></a><span class="lineno"> 2296</span><span class="stringliteral">        A = imresize(A, 1/factor, &#39;</span>bilinear<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l02297" name="l02297"></a><span class="lineno"> 2297</span><span class="stringliteral">    catch</span></div>
<div class="line"><a id="l02298" name="l02298"></a><span class="lineno"> 2298</span><span class="stringliteral">        % No image processing toolbox - resize manually</span></div>
<div class="line"><a id="l02299" name="l02299"></a><span class="lineno"> 2299</span><span class="stringliteral">        % Lowpass filter - use Gaussian as is separable, so faster</span></div>
<div class="line"><a id="l02300" name="l02300"></a><span class="lineno"> 2300</span><span class="stringliteral">        % Compute the 1d Gaussian filter</span></div>
<div class="line"><a id="l02301" name="l02301"></a><span class="lineno"> 2301</span><span class="stringliteral">        filt = (-factor-1:factor+1) / (factor * 0.6);</span></div>
<div class="line"><a id="l02302" name="l02302"></a><span class="lineno"> 2302</span><span class="stringliteral">        filt = exp(-filt .* filt);</span></div>
<div class="line"><a id="l02303" name="l02303"></a><span class="lineno"> 2303</span><span class="stringliteral">        % Normalize the filter</span></div>
<div class="line"><a id="l02304" name="l02304"></a><span class="lineno"> 2304</span><span class="stringliteral">        filt = single(filt / sum(filt));</span></div>
<div class="line"><a id="l02305" name="l02305"></a><span class="lineno"> 2305</span><span class="stringliteral">        % Filter the image</span></div>
<div class="line"><a id="l02306" name="l02306"></a><span class="lineno"> 2306</span><span class="stringliteral">        padding = floor(numel(filt) / 2);</span></div>
<div class="line"><a id="l02307" name="l02307"></a><span class="lineno"> 2307</span><span class="stringliteral">        if padding &lt; 1 || isempty(A), return, end  %issue #310</span></div>
<div class="line"><a id="l02308" name="l02308"></a><span class="lineno"> 2308</span><span class="stringliteral">        onesPad = ones(1, padding);</span></div>
<div class="line"><a id="l02309" name="l02309"></a><span class="lineno"> 2309</span><span class="stringliteral">        for a = 1:size(A,3)</span></div>
<div class="line"><a id="l02310" name="l02310"></a><span class="lineno"> 2310</span><span class="stringliteral">            A2 = single(A([onesPad 1:end repmat(end,1,padding)], ...</span></div>
<div class="line"><a id="l02311" name="l02311"></a><span class="lineno"> 2311</span><span class="stringliteral">                          [onesPad 1:end repmat(end,1,padding)], a));</span></div>
<div class="line"><a id="l02312" name="l02312"></a><span class="lineno"> 2312</span><span class="stringliteral">            A(:,:,a) = conv2(filt, filt&#39;</span>, A2, <span class="stringliteral">&#39;valid&#39;</span>);</div>
<div class="line"><a id="l02313" name="l02313"></a><span class="lineno"> 2313</span>        end</div>
<div class="line"><a id="l02314" name="l02314"></a><span class="lineno"> 2314</span>        % Subsample</div>
<div class="line"><a id="l02315" name="l02315"></a><span class="lineno"> 2315</span>        A = A(1+floor(mod(end-1, factor)/2):factor:end,1+floor(mod(end-1, factor)/2):factor:end,:);</div>
<div class="line"><a id="l02316" name="l02316"></a><span class="lineno"> 2316</span>    end</div>
<div class="line"><a id="l02317" name="l02317"></a><span class="lineno"> 2317</span>end</div>
<div class="line"><a id="l02318" name="l02318"></a><span class="lineno"> 2318</span> </div>
<div class="line"><a id="l02319" name="l02319"></a><span class="lineno"> 2319</span>function A = rgb2grey(A)</div>
<div class="line"><a id="l02320" name="l02320"></a><span class="lineno"> 2320</span>    A = cast(reshape(reshape(single(A), [], 3) * single([0.299; 0.587; 0.114]), size(A, 1), size(A, 2)), <span class="keyword">class</span>(A)); % #ok&lt;ZEROLIKE&gt;</div>
<div class="line"><a id="l02321" name="l02321"></a><span class="lineno"> 2321</span>end</div>
<div class="line"><a id="l02322" name="l02322"></a><span class="lineno"> 2322</span> </div>
<div class="line"><a id="l02323" name="l02323"></a><span class="lineno"> 2323</span>function A = check_greyscale(A)</div>
<div class="line"><a id="l02324" name="l02324"></a><span class="lineno"> 2324</span>    % Check <span class="keywordflow">if</span> the image is greyscale</div>
<div class="line"><a id="l02325" name="l02325"></a><span class="lineno"> 2325</span>    <span class="keywordflow">if</span> size(A, 3) == 3 &amp;&amp; ...</div>
<div class="line"><a id="l02326" name="l02326"></a><span class="lineno"> 2326</span>            all(reshape(A(:,:,1) == A(:,:,2), [], 1)) &amp;&amp; ...</div>
<div class="line"><a id="l02327" name="l02327"></a><span class="lineno"> 2327</span>            all(reshape(A(:,:,2) == A(:,:,3), [], 1))</div>
<div class="line"><a id="l02328" name="l02328"></a><span class="lineno"> 2328</span>        A = A(:,:,1); % Save only one channel for 8-bit output</div>
<div class="line"><a id="l02329" name="l02329"></a><span class="lineno"> 2329</span>    end</div>
<div class="line"><a id="l02330" name="l02330"></a><span class="lineno"> 2330</span>end</div>
<div class="line"><a id="l02331" name="l02331"></a><span class="lineno"> 2331</span> </div>
<div class="line"><a id="l02332" name="l02332"></a><span class="lineno"> 2332</span>function eps_remove_background(fname, count)</div>
<div class="line"><a id="l02333" name="l02333"></a><span class="lineno"> 2333</span>    % Remove the background of an eps file</div>
<div class="line"><a id="l02334" name="l02334"></a><span class="lineno"> 2334</span>    % Open the file</div>
<div class="line"><a id="l02335" name="l02335"></a><span class="lineno"> 2335</span>    fh = fopen(fname, &#39;r+&#39;);</div>
<div class="line"><a id="l02336" name="l02336"></a><span class="lineno"> 2336</span>    if fh == -1</div>
<div class="line"><a id="l02337" name="l02337"></a><span class="lineno"> 2337</span>        error(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:EPS:open&#39;,&#39;Cannot open file %s.&#39;, fname);</div>
<div class="line"><a id="l02338" name="l02338"></a><span class="lineno"> 2338</span>    end</div>
<div class="line"><a id="l02339" name="l02339"></a><span class="lineno"> 2339</span>    % Read the file line by line</div>
<div class="line"><a id="l02340" name="l02340"></a><span class="lineno"> 2340</span>    while count</div>
<div class="line"><a id="l02341" name="l02341"></a><span class="lineno"> 2341</span>        % Get the next line</div>
<div class="line"><a id="l02342" name="l02342"></a><span class="lineno"> 2342</span>        l = fgets(fh);</div>
<div class="line"><a id="l02343" name="l02343"></a><span class="lineno"> 2343</span>        if isequal(l, -1)</div>
<div class="line"><a id="l02344" name="l02344"></a><span class="lineno"> 2344</span>            break; % Quit, no rectangle found</div>
<div class="line"><a id="l02345" name="l02345"></a><span class="lineno"> 2345</span>        end</div>
<div class="line"><a id="l02346" name="l02346"></a><span class="lineno"> 2346</span>        % Check if the line contains the background rectangle</div>
<div class="line"><a id="l02347" name="l02347"></a><span class="lineno"> 2347</span>        if isequal(regexp(l, &#39; *0 +0 +\d+ +\d+ +r[fe] *[\n\r]+&#39;, &#39;start&#39;), 1)</div>
<div class="line"><a id="l02348" name="l02348"></a><span class="lineno"> 2348</span>            % Set the line to whitespace and quit</div>
<div class="line"><a id="l02349" name="l02349"></a><span class="lineno"> 2349</span>            l(1:regexp(l, &#39;[\n\r]&#39;, &#39;start&#39;, &#39;once&#39;)-1) = &#39; &#39;;</div>
<div class="line"><a id="l02350" name="l02350"></a><span class="lineno"> 2350</span>            fseek(fh, -numel(l), 0);</div>
<div class="line"><a id="l02351" name="l02351"></a><span class="lineno"> 2351</span>            fprintf(fh, l);</div>
<div class="line"><a id="l02352" name="l02352"></a><span class="lineno"> 2352</span>            % Reduce the count</div>
<div class="line"><a id="l02353" name="l02353"></a><span class="lineno"> 2353</span>            count = count - 1;</div>
<div class="line"><a id="l02354" name="l02354"></a><span class="lineno"> 2354</span>        end</div>
<div class="line"><a id="l02355" name="l02355"></a><span class="lineno"> 2355</span>    end</div>
<div class="line"><a id="l02356" name="l02356"></a><span class="lineno"> 2356</span>    % Close the file</div>
<div class="line"><a id="l02357" name="l02357"></a><span class="lineno"> 2357</span>    fclose(fh);</div>
<div class="line"><a id="l02358" name="l02358"></a><span class="lineno"> 2358</span>end</div>
<div class="line"><a id="l02359" name="l02359"></a><span class="lineno"> 2359</span> </div>
<div class="line"><a id="l02360" name="l02360"></a><span class="lineno"> 2360</span>function b = isvector(options)  % this only includes EPS-based vector formats (so not SVG,EMF)</div>
<div class="line"><a id="l02361" name="l02361"></a><span class="lineno"> 2361</span>    b = options.pdf || options.eps;</div>
<div class="line"><a id="l02362" name="l02362"></a><span class="lineno"> 2362</span>end</div>
<div class="line"><a id="l02363" name="l02363"></a><span class="lineno"> 2363</span> </div>
<div class="line"><a id="l02364" name="l02364"></a><span class="lineno"> 2364</span>function b = isbitmap(options)</div>
<div class="line"><a id="l02365" name="l02365"></a><span class="lineno"> 2365</span>    b = options.png || options.tif || options.jpg || options.bmp || ...</div>
<div class="line"><a id="l02366" name="l02366"></a><span class="lineno"> 2366</span>        options.gif || options.im || options.alpha;</div>
<div class="line"><a id="l02367" name="l02367"></a><span class="lineno"> 2367</span>end</div>
<div class="line"><a id="l02368" name="l02368"></a><span class="lineno"> 2368</span> </div>
<div class="line"><a id="l02369" name="l02369"></a><span class="lineno"> 2369</span>function [A, tcol, alpha] = getFigImage(fig, magnify, renderer, options, pos)</div>
<div class="line"><a id="l02370" name="l02370"></a><span class="lineno"> 2370</span>    if options.transparent</div>
<div class="line"><a id="l02371" name="l02371"></a><span class="lineno"> 2371</span>        % MATLAB &quot;feature&quot;: figure size can change when changing color in -nodisplay mode</div>
<div class="line"><a id="l02372" name="l02372"></a><span class="lineno"> 2372</span>        % Note: figure background is set to off-white, not &#39;w&#39;, to handle common white elements (issue <span class="preprocessor">#330)</span></div>
<div class="line"><a id="l02373" name="l02373"></a><span class="lineno"> 2373</span>        set(fig, <span class="stringliteral">&#39;Color&#39;</span>,254/255*[1,1,1], <span class="stringliteral">&#39;Position&#39;</span>,pos);</div>
<div class="line"><a id="l02374" name="l02374"></a><span class="lineno"> 2374</span>        % repaint figure, otherwise Java screencapture will see black bgcolor</div>
<div class="line"><a id="l02375" name="l02375"></a><span class="lineno"> 2375</span>        % Yair 19/12/21 - unnecessary: drawnow is called at top of print2array</div>
<div class="line"><a id="l02376" name="l02376"></a><span class="lineno"> 2376</span>        %drawnow;</div>
<div class="line"><a id="l02377" name="l02377"></a><span class="lineno"> 2377</span>    end</div>
<div class="line"><a id="l02378" name="l02378"></a><span class="lineno"> 2378</span>    % Print large <a class="code hl_function" href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">version</a> to array</div>
<div class="line"><a id="l02379" name="l02379"></a><span class="lineno"> 2379</span>    <span class="keywordflow">try</span></div>
<div class="line"><a id="l02380" name="l02380"></a><span class="lineno"> 2380</span>        % The following code might cause out-of-memory errors</div>
<div class="line"><a id="l02381" name="l02381"></a><span class="lineno"> 2381</span>        [A, tcol, alpha] = <a class="code hl_function" href="print2array_8m.html#aaf500360abeaa0f66c501c642cfc45e5">print2array</a>(fig, magnify, renderer);</div>
<div class="line"><a id="l02382" name="l02382"></a><span class="lineno"> 2382</span>    <span class="keywordflow">catch</span></div>
<div class="line"><a id="l02383" name="l02383"></a><span class="lineno"> 2383</span>        % This is more conservative in memory, but perhaps kills transparency(?)</div>
<div class="line"><a id="l02384" name="l02384"></a><span class="lineno"> 2384</span>        [A, tcol, alpha] = <a class="code hl_function" href="print2array_8m.html#aaf500360abeaa0f66c501c642cfc45e5">print2array</a>(fig, magnify/options.aa_factor, renderer, <span class="stringliteral">&#39;retry&#39;</span>);</div>
<div class="line"><a id="l02385" name="l02385"></a><span class="lineno"> 2385</span>    end</div>
<div class="line"><a id="l02386" name="l02386"></a><span class="lineno"> 2386</span>    % In transparent mode, set the bgcolor to white</div>
<div class="line"><a id="l02387" name="l02387"></a><span class="lineno"> 2387</span>    <span class="keywordflow">if</span> options.transparent</div>
<div class="line"><a id="l02388" name="l02388"></a><span class="lineno"> 2388</span>        % Note: tcol should already be [255,255,255] here, but just in <span class="keywordflow">case</span> it<span class="stringliteral">&#39;s not...</span></div>
<div class="line"><a id="l02389" name="l02389"></a><span class="lineno"> 2389</span><span class="stringliteral">        tcol = uint8(254*[1,1,1]);  %=off-white</span></div>
<div class="line"><a id="l02390" name="l02390"></a><span class="lineno"> 2390</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02391" name="l02391"></a><span class="lineno"> 2391</span><span class="stringliteral">end</span></div>
<div class="line"><a id="l02392" name="l02392"></a><span class="lineno"> 2392</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l02393" name="l02393"></a><span class="lineno"> 2393</span><span class="stringliteral">function A = make_cell(A)</span></div>
<div class="line"><a id="l02394" name="l02394"></a><span class="lineno"> 2394</span><span class="stringliteral">    if ~iscell(A)</span></div>
<div class="line"><a id="l02395" name="l02395"></a><span class="lineno"> 2395</span><span class="stringliteral">        A = {A};</span></div>
<div class="line"><a id="l02396" name="l02396"></a><span class="lineno"> 2396</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02397" name="l02397"></a><span class="lineno"> 2397</span><span class="stringliteral">end</span></div>
<div class="line"><a id="l02398" name="l02398"></a><span class="lineno"> 2398</span><span class="stringliteral"></span> </div>
<div class="line"><a id="l02399" name="l02399"></a><span class="lineno"> 2399</span><span class="stringliteral">function add_bookmark(fname, bookmark_text)</span></div>
<div class="line"><a id="l02400" name="l02400"></a><span class="lineno"> 2400</span><span class="stringliteral">    % Adds a bookmark to the temporary EPS file after %%EndPageSetup</span></div>
<div class="line"><a id="l02401" name="l02401"></a><span class="lineno"> 2401</span><span class="stringliteral">    % Read in the file</span></div>
<div class="line"><a id="l02402" name="l02402"></a><span class="lineno"> 2402</span><span class="stringliteral">    fh = fopen(fname, &#39;</span>r<span class="stringliteral">&#39;);</span></div>
<div class="line"><a id="l02403" name="l02403"></a><span class="lineno"> 2403</span><span class="stringliteral">    if fh == -1</span></div>
<div class="line"><a id="l02404" name="l02404"></a><span class="lineno"> 2404</span><span class="stringliteral">        error(&#39;</span><a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:bookmark:FileNotFound<span class="charliteral">&#39;,&#39;</span>File %s not found.<span class="stringliteral">&#39;, fname);</span></div>
<div class="line"><a id="l02405" name="l02405"></a><span class="lineno"> 2405</span><span class="stringliteral">    end</span></div>
<div class="line"><a id="l02406" name="l02406"></a><span class="lineno"> 2406</span><span class="stringliteral">    try</span></div>
<div class="line"><a id="l02407" name="l02407"></a><span class="lineno"> 2407</span><span class="stringliteral">        fstrm = fread(fh, &#39;</span>*<span class="keywordtype">char</span><span class="charliteral">&#39;)&#39;</span>;</div>
<div class="line"><a id="l02408" name="l02408"></a><span class="lineno"> 2408</span>    <span class="keywordflow">catch</span> ex</div>
<div class="line"><a id="l02409" name="l02409"></a><span class="lineno"> 2409</span>        fclose(fh);</div>
<div class="line"><a id="l02410" name="l02410"></a><span class="lineno"> 2410</span>        rethrow(ex);</div>
<div class="line"><a id="l02411" name="l02411"></a><span class="lineno"> 2411</span>    end</div>
<div class="line"><a id="l02412" name="l02412"></a><span class="lineno"> 2412</span>    fclose(fh);</div>
<div class="line"><a id="l02413" name="l02413"></a><span class="lineno"> 2413</span> </div>
<div class="line"><a id="l02414" name="l02414"></a><span class="lineno"> 2414</span>    % Include standard pdfmark prolog to maximize compatibility</div>
<div class="line"><a id="l02415" name="l02415"></a><span class="lineno"> 2415</span>    fstrm = strrep(fstrm, <span class="stringliteral">&#39;%%BeginProlog&#39;</span>, sprintf(<span class="stringliteral">&#39;%%%%BeginProlog\n/pdfmark where {pop} {userdict /pdfmark /cleartomark load put} ifelse&#39;</span>));</div>
<div class="line"><a id="l02416" name="l02416"></a><span class="lineno"> 2416</span>    % Add page bookmark</div>
<div class="line"><a id="l02417" name="l02417"></a><span class="lineno"> 2417</span>    fstrm = strrep(fstrm, <span class="stringliteral">&#39;%%EndPageSetup&#39;</span>, sprintf(<span class="stringliteral">&#39;%%%%EndPageSetup\n[ /Title (%s) /OUT pdfmark&#39;</span>,bookmark_text));</div>
<div class="line"><a id="l02418" name="l02418"></a><span class="lineno"> 2418</span> </div>
<div class="line"><a id="l02419" name="l02419"></a><span class="lineno"> 2419</span>    % Write out the updated file</div>
<div class="line"><a id="l02420" name="l02420"></a><span class="lineno"> 2420</span>    fh = fopen(fname, <span class="charliteral">&#39;w&#39;</span>);</div>
<div class="line"><a id="l02421" name="l02421"></a><span class="lineno"> 2421</span>    <span class="keywordflow">if</span> fh == -1</div>
<div class="line"><a id="l02422" name="l02422"></a><span class="lineno"> 2422</span>        error(&#39;<a class="code hl_function" href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a>:bookmark:permission&#39;,&#39;Unable to open %s for writing.&#39;, fname);</div>
<div class="line"><a id="l02423" name="l02423"></a><span class="lineno"> 2423</span>    end</div>
<div class="line"><a id="l02424" name="l02424"></a><span class="lineno"> 2424</span>    <span class="keywordflow">try</span></div>
<div class="line"><a id="l02425" name="l02425"></a><span class="lineno"> 2425</span>        fwrite(fh, fstrm, <span class="stringliteral">&#39;char*1&#39;</span>);</div>
<div class="line"><a id="l02426" name="l02426"></a><span class="lineno"> 2426</span>    <span class="keywordflow">catch</span> ex</div>
<div class="line"><a id="l02427" name="l02427"></a><span class="lineno"> 2427</span>        fclose(fh);</div>
<div class="line"><a id="l02428" name="l02428"></a><span class="lineno"> 2428</span>        rethrow(ex);</div>
<div class="line"><a id="l02429" name="l02429"></a><span class="lineno"> 2429</span>    end</div>
<div class="line"><a id="l02430" name="l02430"></a><span class="lineno"> 2430</span>    fclose(fh);</div>
<div class="line"><a id="l02431" name="l02431"></a><span class="lineno"> 2431</span>end</div>
<div class="line"><a id="l02432" name="l02432"></a><span class="lineno"> 2432</span> </div>
<div class="line"><a id="l02433" name="l02433"></a><span class="lineno"> 2433</span>function set_manual_axes_modes(Hlims, ax)</div>
<div class="line"><a id="l02434" name="l02434"></a><span class="lineno"> 2434</span>    % Set the axes limits mode to manual</div>
<div class="line"><a id="l02435" name="l02435"></a><span class="lineno"> 2435</span>    set(Hlims, [ax <span class="stringliteral">&#39;LimMode&#39;</span>], <span class="stringliteral">&#39;manual&#39;</span>);</div>
<div class="line"><a id="l02436" name="l02436"></a><span class="lineno"> 2436</span> </div>
<div class="line"><a id="l02437" name="l02437"></a><span class="lineno"> 2437</span>    % Set the tick mode of linear axes to manual</div>
<div class="line"><a id="l02438" name="l02438"></a><span class="lineno"> 2438</span>    % Leave log axes alone as these are tricky</div>
<div class="line"><a id="l02439" name="l02439"></a><span class="lineno"> 2439</span>    M = get(Hlims, [ax <span class="stringliteral">&#39;Scale&#39;</span>]);</div>
<div class="line"><a id="l02440" name="l02440"></a><span class="lineno"> 2440</span>    <span class="keywordflow">if</span> ~iscell(M)</div>
<div class="line"><a id="l02441" name="l02441"></a><span class="lineno"> 2441</span>        M = {M};</div>
<div class="line"><a id="l02442" name="l02442"></a><span class="lineno"> 2442</span>    end</div>
<div class="line"><a id="l02443" name="l02443"></a><span class="lineno"> 2443</span>    %idx = cellfun(@(c) strcmp(c, <span class="stringliteral">&#39;linear&#39;</span>), M);</div>
<div class="line"><a id="l02444" name="l02444"></a><span class="lineno"> 2444</span>    idx = <a class="code hl_function" href="namespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1find.html#a7ea2890f440ea143a4be87232126fb38">find</a>(strcmp(M,<span class="stringliteral">&#39;linear&#39;</span>));</div>
<div class="line"><a id="l02445" name="l02445"></a><span class="lineno"> 2445</span>    %set(Hlims(idx), [ax <span class="stringliteral">&#39;TickMode&#39;</span>], <span class="stringliteral">&#39;manual&#39;</span>);  % issue #187</div>
<div class="line"><a id="l02446" name="l02446"></a><span class="lineno"> 2446</span>    %set(Hlims(idx), [ax <span class="stringliteral">&#39;TickLabelMode&#39;</span>], <span class="stringliteral">&#39;manual&#39;</span>);  % <span class="keyword">this</span> hides exponent label in HG2!</div>
<div class="line"><a id="l02447" name="l02447"></a><span class="lineno"> 2447</span>    <span class="keywordflow">for</span> idx2 = 1 : numel(idx)</div>
<div class="line"><a id="l02448" name="l02448"></a><span class="lineno"> 2448</span>        <span class="keyword">try</span></div>
<div class="line"><a id="l02449" name="l02449"></a><span class="lineno"> 2449</span>            % Fix <span class="keywordflow">for</span> issue #187 - only set manual ticks when no exponent is present</div>
<div class="line"><a id="l02450" name="l02450"></a><span class="lineno"> 2450</span>            hAxes = Hlims(idx(idx2));</div>
<div class="line"><a id="l02451" name="l02451"></a><span class="lineno"> 2451</span>            props = {<div class="ttc" id="aappend__pdfs_8m_html_ad624c3176f1932132d50b44b04dd286a"><div class="ttname"><a href="append__pdfs_8m.html#ad624c3176f1932132d50b44b04dd286a">str2char</a></div><div class="ttdeci">function str2char(in value)</div></div>
<div class="ttc" id="aclassFigure_html"><div class="ttname"><a href="classFigure.html">Figure</a></div><div class="ttdoc">This is the abstract class for generating instances of objects that contain the specifications of var...</div><div class="ttdef"><b>Definition:</b> <a href="Figure_8m_source.html#l00026">Figure.m:27</a></div></div>
<div class="ttc" id="aclassHandle_html"><div class="ttname"><a href="classHandle.html">Handle</a></div><div class="ttdoc">This is the base class for generating subclass of MATLAB handle superclass whose annoying methods are...</div><div class="ttdef"><b>Definition:</b> <a href="Handle_8m_source.html#l00024">Handle.m:24</a></div></div>
<div class="ttc" id="aclassImageSelection_html"><div class="ttname"><a href="classImageSelection.html">ImageSelection</a></div><div class="ttdef"><b>Definition:</b> <a href="ImageSelection_8java_source.html#l00011">ImageSelection.java:11</a></div></div>
<div class="ttc" id="acopy_8m_html_ab633577f583e18a523fef5b3b2295eee"><div class="ttname"><a href="copy_8m.html#ab633577f583e18a523fef5b3b2295eee">copy</a></div><div class="ttdeci">function copy(in from, in to, in field, in exclude)</div><div class="ttdoc">Copy the contents of the struct/object from to the struct/object to recursively and without destroyin...</div></div>
<div class="ttc" id="acopyfig_8m_html_afc97c9d7f5431eb28ca277c67fb49cf5"><div class="ttname"><a href="copyfig_8m.html#afc97c9d7f5431eb28ca277c67fb49cf5">copyfig</a></div><div class="ttdeci">function copyfig(in fh)</div></div>
<div class="ttc" id="acrop__borders_8m_html_a0b5568512ef21430092459ba3ac1e274"><div class="ttname"><a href="crop__borders_8m.html#a0b5568512ef21430092459ba3ac1e274">crop_borders</a></div><div class="ttdeci">function crop_borders(in A, in bcol, in padding, in crop_amounts)</div></div>
<div class="ttc" id="aeps2pdf_8m_html_aae7a92625a1b810944df6799863301a1"><div class="ttname"><a href="eps2pdf_8m.html#aae7a92625a1b810944df6799863301a1">eps2pdf</a></div><div class="ttdeci">function eps2pdf(in source, in dest, in crop, in append, in gray, in quality, in gs_options)</div></div>
<div class="ttc" id="aghostscript_8m_html_a013fedac994253f16dff2bd620c92646"><div class="ttname"><a href="ghostscript_8m.html#a013fedac994253f16dff2bd620c92646">ghostscript</a></div><div class="ttdeci">function ghostscript(in cmd)</div></div>
<div class="ttc" id="ahyperlink_8m_html_adbf38a9875ba9d157caf299f66138f8e"><div class="ttname"><a href="hyperlink_8m.html#adbf38a9875ba9d157caf299f66138f8e">hyperlink</a></div><div class="ttdeci">function hyperlink(in url, in label, in msg)</div></div>
<div class="ttc" id="aim2gif_8m_html_a406f3b1b666559c9e0e756fc57128c5e"><div class="ttname"><a href="im2gif_8m.html#a406f3b1b666559c9e0e756fc57128c5e">parse_args</a></div><div class="ttdeci">function parse_args(in A, in varargin)</div></div>
<div class="ttc" id="aim2gif_8m_html_af4749aaaa8b2da99a97d3f94be3a67cb"><div class="ttname"><a href="im2gif_8m.html#af4749aaaa8b2da99a97d3f94be3a67cb">im2gif</a></div><div class="ttdeci">function im2gif(in A, in varargin)</div></div>
<div class="ttc" id="aindex_8m_html_a5e9da7e1ba3f2f6d159127bb7d902c6b"><div class="ttname"><a href="index_8m.html#a5e9da7e1ba3f2f6d159127bb7d902c6b">index</a></div><div class="ttdeci">function index(in array)</div><div class="ttdoc">Given array(1 : n), return the array index indx(1 : n) such that array(indx) is in ascending order.</div></div>
<div class="ttc" id="aisolate__axes_8m_html_a897b8fb9c2f3b417aa8262d3fda639f3"><div class="ttname"><a href="isolate__axes_8m.html#a897b8fb9c2f3b417aa8262d3fda639f3">isolate_axes</a></div><div class="ttdeci">function isolate_axes(in ah, in vis)</div></div>
<div class="ttc" id="anamespaceparamonte_1_1lib_1_1mpi_1_1name_html_a4962e4da01faa23e9adcba8720eecd53"><div class="ttname"><a href="namespaceparamonte_1_1lib_1_1mpi_1_1name.html#a4962e4da01faa23e9adcba8720eecd53">paramonte.lib.mpi.name.name</a></div><div class="ttdeci">def name(vendor)</div><div class="ttdoc">Return the MPI library name as used in naming the ParaMonte MATLAB shared library directories.</div><div class="ttdef"><b>Definition:</b> <a href="lib_2mpi_2name_8py_source.html#l00001">name.py:1</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1lib_1_1update_1_1version_html_ad49910a1291e42f9742b03f83bbf8e5e"><div class="ttname"><a href="namespaceparamonte_1_1lib_1_1update_1_1version.html#ad49910a1291e42f9742b03f83bbf8e5e">paramonte.lib.update.version.version</a></div><div class="ttdeci">def version(silent=False)</div><div class="ttdoc">Return a scalar Python string containing the latest available ParaMonte Python version newer than the...</div><div class="ttdef"><b>Definition:</b> <a href="update_2version_8py_source.html#l00001">version.py:1</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1os_1_1ismac_html_ad6e1e13ad1b248dd636cca0f1e448bd4"><div class="ttname"><a href="namespaceparamonte_1_1os_1_1ismac.html#ad6e1e13ad1b248dd636cca0f1e448bd4">paramonte.os.ismac.ismac</a></div><div class="ttdeci">def ismac()</div><div class="ttdoc">Return True if the current OS is macOS (Darwin).</div><div class="ttdef"><b>Definition:</b> <a href="ismac_8py_source.html#l00001">ismac.py:1</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1os_1_1list_html_a24bc26566d86b0d986f6f8caa397edae"><div class="ttname"><a href="namespaceparamonte_1_1os_1_1list.html#a24bc26566d86b0d986f6f8caa397edae">paramonte.os.list.list</a></div><div class="ttdeci">def list()</div><div class="ttdoc">Return a list of Python strings containing the names of OS platforms supported by the ParaMonte Pytho...</div><div class="ttdef"><b>Definition:</b> <a href="list_8py_source.html#l00001">list.py:1</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1python_1_1show_html_a77b58449c0d286e190197823f5f9ce4f"><div class="ttname"><a href="namespaceparamonte_1_1python_1_1show.html#a77b58449c0d286e190197823f5f9ce4f">paramonte.python.show.show</a></div><div class="ttdeci">def show(obj=None, name=&quot;object&quot;)</div><div class="ttdoc">Display the components of an input Python variable on the screen recursively.</div><div class="ttdef"><b>Definition:</b> <a href="show_8py_source.html#l00001">show.py:1</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1str_1_1locname_html_a3dff586d2788a00dcaa39c7b4ba08d33"><div class="ttname"><a href="namespaceparamonte_1_1str_1_1locname.html#a3dff586d2788a00dcaa39c7b4ba08d33">paramonte.str.locname.i</a></div><div class="ttdeci">i</div><div class="ttdef"><b>Definition:</b> <a href="locname_8py_source.html#l00051">locname.py:51</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1str_1_1locname_html_a8c243a4f459ad113b02ee7bba809d22f"><div class="ttname"><a href="namespaceparamonte_1_1str_1_1locname.html#a8c243a4f459ad113b02ee7bba809d22f">paramonte.str.locname.failed</a></div><div class="ttdeci">failed</div><div class="ttdef"><b>Definition:</b> <a href="locname_8py_source.html#l00049">locname.py:49</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1str_1_1locname_html_af2d5709535b74c084ca0ac75b027bee0"><div class="ttname"><a href="namespaceparamonte_1_1str_1_1locname.html#af2d5709535b74c084ca0ac75b027bee0">paramonte.str.locname.a</a></div><div class="ttdeci">a</div><div class="ttdef"><b>Definition:</b> <a href="locname_8py_source.html#l00069">locname.py:69</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1str_1_1split2real_html_ab54ab7b589a005c1a2f537b0af530de3"><div class="ttname"><a href="namespaceparamonte_1_1str_1_1split2real.html#ab54ab7b589a005c1a2f537b0af530de3">paramonte.str.split2real.default</a></div><div class="ttdeci">default</div><div class="ttdef"><b>Definition:</b> <a href="split2real_8py_source.html#l00019">split2real.py:19</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1find_html_a7ea2890f440ea143a4be87232126fb38"><div class="ttname"><a href="namespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1find.html#a7ea2890f440ea143a4be87232126fb38">paramonte.sys.path.mpiexec.find.find</a></div><div class="ttdeci">def find(vendor=&quot;&quot;)</div><div class="ttdoc">Return a list of scalar Python strings containing the paths to all detected mpiexec binaries installe...</div><div class="ttdef"><b>Definition:</b> <a href="find_8py_source.html#l00001">find.py:1</a></div></div>
<div class="ttc" id="anamespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1which_html_a1b834b4e4b89ed9f7aae0da42263af15"><div class="ttname"><a href="namespaceparamonte_1_1sys_1_1path_1_1mpiexec_1_1which.html#a1b834b4e4b89ed9f7aae0da42263af15">paramonte.sys.path.mpiexec.which.which</a></div><div class="ttdeci">def which(vendor=&quot;&quot;)</div><div class="ttdoc">Return the a Python string containing the path to the first mpiexec executable binary found in system...</div><div class="ttdef"><b>Definition:</b> <a href="which_8py_source.html#l00001">which.py:1</a></div></div>
<div class="ttc" id="aparadram_2run_8m_html_abc2f0166a8f9ceb2d426085d75b92a7e"><div class="ttname"><a href="paradram_2run_8m.html#abc2f0166a8f9ceb2d426085d75b92a7e">run</a></div><div class="ttdeci">function run(in self, in getLogFunc, in ndim)</div><div class="ttdoc">Run the ParaDRAM sampler and return nothing.</div></div>
<div class="ttc" id="apdftops_8m_html_a6f19fbd1da5c8afc348b22d9e4436442"><div class="ttname"><a href="pdftops_8m.html#a6f19fbd1da5c8afc348b22d9e4436442">pdftops</a></div><div class="ttdeci">function pdftops(in cmd)</div></div>
<div class="ttc" id="aprint2array_8m_html_aaf500360abeaa0f66c501c642cfc45e5"><div class="ttname"><a href="print2array_8m.html#aaf500360abeaa0f66c501c642cfc45e5">print2array</a></div><div class="ttdeci">function print2array(in fig, in res, in renderer, in gs_options)</div></div>
<div class="ttc" id="aprint2eps_8m_html_ac513bb70bab782e7884fde67dd56284a"><div class="ttname"><a href="print2eps_8m.html#ac513bb70bab782e7884fde67dd56284a">print2eps</a></div><div class="ttdeci">function print2eps(in name, in fig, in export_options, in varargin)</div></div>
<div class="ttc" id="aread__write__entire__textfile_8m_html_ad6731c3b0a0c4ac289173fcae4f0a8da"><div class="ttname"><a href="read__write__entire__textfile_8m.html#ad6731c3b0a0c4ac289173fcae4f0a8da">read_write_entire_textfile</a></div><div class="ttdeci">function read_write_entire_textfile(in fname, in fstrm)</div></div>
<div class="ttc" id="arelease_8m_html_a51df1f91ecccd6f14aa72471c11fb780"><div class="ttname"><a href="release_8m.html#a51df1f91ecccd6f14aa72471c11fb780">release</a></div><div class="ttdeci">function release(in type)</div><div class="ttdoc">Return a scalar MATLAB string containing the MATLAB release version, year, or season as requested.</div></div>
<div class="ttc" id="asavefig_8m_html_ab0f7c7e07bc0a440eee76153cda628f8"><div class="ttname"><a href="savefig_8m.html#ab0f7c7e07bc0a440eee76153cda628f8">savefig</a></div><div class="ttdeci">function savefig(in varargin)</div><div class="ttdoc">Export figures in a publication-quality format.</div></div>
<div class="ttc" id="auser__string_8m_html_a494d42354cfb17ad69773052ba5d42ea"><div class="ttname"><a href="user__string_8m.html#a494d42354cfb17ad69773052ba5d42ea">user_string</a></div><div class="ttdeci">function user_string(in string_name, in string)</div></div>
<div class="ttc" id="ausing__hg2_8m_html_a54d6ede409f48c279dc31dd2f5a2036f"><div class="ttname"><a href="using__hg2_8m.html#a54d6ede409f48c279dc31dd2f5a2036f">using_hg2</a></div><div class="ttdeci">function using_hg2(in fig)</div></div>
</div>
</div><!-- fragment --></div><!-- contents -->
</div><!-- doc-content -->
    <!-- start footer part -->
    <div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
      <ul>
        <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_5c0d64f70903e893b1efe571a4b8de29.html">python</a></li><li class="navelem"><a class="el" href="dir_e65b57eaaee3086cb909755f06d8d4b0.html">main</a></li><li class="navelem"><a class="el" href="dir_4a9eaf518e240c0eb50474b1fcea32b6.html">paramonte</a></li><li class="navelem"><a class="el" href="dir_38d8d2656997a5a98206df02f57e7ff6.html">vis</a></li><li class="navelem"><a class="el" href="dir_cb409ba0c1dbb49a3d1efefe96197279.html">figure</a></li><li class="navelem"><a class="el" href="savefig_8m.html">savefig.m</a></li>
        <li class="footer">Generated on Sat Nov 30 2024 02:06:38 for ParaMonte Python 3.0.0 by <a href="http://www.doxygen.org/index.html" target="_blank"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.3 </li>
      </ul>
    </div>
    <div style="color: #ffffff; float: none; width: 100%;">
        <span style="font-size:0.8em">
            <script type="text/javascript">
                var sc_project=12178963; 
                var sc_invisible=1; 
                var sc_security="e0dfe0f9"; 
                var sc_text=3; 
                var scJsHost = "https://";
                document.write("<sc"+"ript type='text/javascript' src='" +
                scJsHost+
                "statcounter.com/counter/counter.js'></"+"script>");
            </script>
        </span>
    </div>
</body>
</html>
